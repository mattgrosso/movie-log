{"version":3,"file":"js/app.a72df35e.js","mappings":"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","sources":["webpack://movie-log/./src/App.vue","webpack://movie-log/./src/components/Footer.vue","webpack://movie-log/./src/components/Footer.vue?7cca","webpack://movie-log/./src/components/Header.vue","webpack://movie-log/./src/components/Header.vue?801b","webpack://movie-log/./src/App.vue?7ccd","webpack://movie-log/./src/store/index.js","webpack://movie-log/./src/components/Home.vue","webpack://movie-log/./src/components/NewRatingSearch.vue","webpack://movie-log/./src/components/RatingChangeRibbon.vue","webpack://movie-log/./src/components/RatingChangeRibbon.vue?a7f3","webpack://movie-log/./src/components/NewRatingSearch.vue?274c","webpack://movie-log/./src/components/SearchDatabase.vue","webpack://movie-log/./src/components/SearchDatabase.vue?d576","webpack://movie-log/./src/components/QuickSearch.vue","webpack://movie-log/./src/components/QuickSearch.vue?0ed8","webpack://movie-log/./src/components/Home.vue?08c6","webpack://movie-log/./src/components/Login.vue","webpack://movie-log/./src/components/Login.vue?38a9","webpack://movie-log/./src/components/DBSearchResults.vue","webpack://movie-log/./src/components/Charts.vue","webpack://movie-log/./src/components/Streaks.vue","webpack://movie-log/./src/components/Streaks.vue?f881","webpack://movie-log/./src/components/KeywordCloud.vue","webpack://movie-log/./src/components/KeywordCloud.vue?8c29","webpack://movie-log/./src/components/Charts.vue?3fdf","webpack://movie-log/./src/components/DBSearchResult.vue","webpack://movie-log/./src/components/EpisodeRatingsChart.vue","webpack://movie-log/./src/components/EpisodeRatingsChart.vue?12c2","webpack://movie-log/./src/components/DBSearchResult.vue?e490","webpack://movie-log/./src/components/DBSearchResults.vue?fb60","webpack://movie-log/./src/components/Settings.vue","webpack://movie-log/./src/components/Settings.vue?b3ff","webpack://movie-log/./src/components/PickMedia.vue","webpack://movie-log/./src/components/PickMedia.vue?6a7a","webpack://movie-log/./src/components/RateMovie.vue","webpack://movie-log/./src/assets/javascript/AddRating.js","webpack://movie-log/./src/components/RateMovie.vue?deaa","webpack://movie-log/./src/components/RateTVShow.vue","webpack://movie-log/./src/components/RateTVShow.vue?ccd5","webpack://movie-log/./src/components/ShareDBResults.vue","webpack://movie-log/./src/components/ShareDBResults.vue?bb17","webpack://movie-log/./src/main.js","webpack://movie-log/webpack/bootstrap","webpack://movie-log/webpack/runtime/chunk loaded","webpack://movie-log/webpack/runtime/compat get default export","webpack://movie-log/webpack/runtime/define property getters","webpack://movie-log/webpack/runtime/global","webpack://movie-log/webpack/runtime/harmony module decorator","webpack://movie-log/webpack/runtime/hasOwnProperty shorthand","webpack://movie-log/webpack/runtime/make namespace object","webpack://movie-log/webpack/runtime/node module decorator","webpack://movie-log/webpack/runtime/publicPath","webpack://movie-log/webpack/runtime/jsonp chunk loading","webpack://movie-log/webpack/startup"],"sourcesContent":["<template>\n  <div class=\"movie-log\">\n    <Header/>\n    <router-view></router-view>\n    <Footer/>\n  </div>\n</template>\n\n<script>\nimport Footer from \"./components/Footer.vue\";\nimport Header from \"./components/Header.vue\";\n\nexport default {\n  name: \"Movie-Log\",\n  components: {\n    Footer,\n    Header\n  }\n}\n</script>\n\n<style lang=\"scss\">\n  body {\n    font-family: \"Roboto Condensed\", sans-serif;\n  }\n</style>\n","<template>\n  <footer class=\"col-12 d-flex justify-content-between align-items-center\">\n    <span>\n      &copy; {{new Date().getFullYear()}} - Matt Grosso\n    </span>\n    <div>\n      <a href=\"mailto:mattgrosso+movielog@gmail.com\">\n        <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"16\" height=\"16\" fill=\"currentColor\" class=\"bi bi-envelope\" viewBox=\"0 0 16 16\">\n          <path d=\"M0 4a2 2 0 0 1 2-2h12a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V4Zm2-1a1 1 0 0 0-1 1v.217l7 4.2 7-4.2V4a1 1 0 0 0-1-1H2Zm13 2.383-4.708 2.825L15 11.105V5.383Zm-.034 6.876-5.64-3.471L8 9.583l-1.326-.795-5.64 3.47A1 1 0 0 0 2 13h12a1 1 0 0 0 .966-.741ZM1 11.105l4.708-2.897L1 5.383v5.722Z\"/>\n        </svg>\n      </a>\n      <a href=\"https://github.com/mattgrosso/movie-log\">\n        <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"16\" height=\"16\" fill=\"currentColor\" class=\"bi bi-github\" viewBox=\"0 0 16 16\">\n          <path d=\"M8 0C3.58 0 0 3.58 0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38 0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95 0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12 0 0 .67-.21 2.2.82.64-.18 1.32-.27 2-.27.68 0 1.36.09 2 .27 1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15 0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48 0 1.07-.01 1.93-.01 2.2 0 .21.15.46.55.38A8.012 8.012 0 0 0 16 8c0-4.42-3.58-8-8-8z\"/>\n        </svg>\n      </a>\n    </div>\n  </footer>\n</template>\n\n<script>\nexport default {\n\n}\n</script>\n\n<style lang=\"scss\">\n  footer {\n    background: #0d6efd;\n    bottom: 0;\n    color: white;\n    font-size: 0.6rem;\n    padding: 6px 12px;\n    position: fixed;\n\n    span,\n    a {\n      margin: 0 6px;\n\n      svg {\n        height: 12px;\n        width: 12px;\n\n        path {\n          color: white;\n          fill: white;\n        }\n      }\n    }\n  }\n</style>","import { render } from \"./Footer.vue?vue&type=template&id=422473a9\"\nimport script from \"./Footer.vue?vue&type=script&lang=js\"\nexport * from \"./Footer.vue?vue&type=script&lang=js\"\n\nimport \"./Footer.vue?vue&type=style&index=0&id=422473a9&lang=scss\"\n\nimport exportComponent from \"/Users/mjg/code/movie-log/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<template>\n  <div class=\"header col-12\" :class=\"{'d-none': !$store.state.showHeader}\">\n    <div class=\"overflow-wrapper\">\n      <div class=\"poster-grid\" :class=\"posterCount\">\n        <img v-for=\"(image, index) in postersForHeader\" :src=\"image\" :key=\"index\">\n      </div>\n      <div v-if=\"devMode\" class=\"dev-mode-flag\">\n        Dev Mode!\n      </div>\n      <div class=\"settings-link\" @click=\"toggleSettings\">\n        <svg xmlns=\"http://www.w3.org/2000/svg\" fill=\"currentColor\" class=\"bi bi-gear-wide-connected\" viewBox=\"0 0 16 16\">\n          <path d=\"M7.068.727c.243-.97 1.62-.97 1.864 0l.071.286a.96.96 0 0 0 1.622.434l.205-.211c.695-.719 1.888-.03 1.613.931l-.08.284a.96.96 0 0 0 1.187 1.187l.283-.081c.96-.275 1.65.918.931 1.613l-.211.205a.96.96 0 0 0 .434 1.622l.286.071c.97.243.97 1.62 0 1.864l-.286.071a.96.96 0 0 0-.434 1.622l.211.205c.719.695.03 1.888-.931 1.613l-.284-.08a.96.96 0 0 0-1.187 1.187l.081.283c.275.96-.918 1.65-1.613.931l-.205-.211a.96.96 0 0 0-1.622.434l-.071.286c-.243.97-1.62.97-1.864 0l-.071-.286a.96.96 0 0 0-1.622-.434l-.205.211c-.695.719-1.888.03-1.613-.931l.08-.284a.96.96 0 0 0-1.186-1.187l-.284.081c-.96.275-1.65-.918-.931-1.613l.211-.205a.96.96 0 0 0-.434-1.622l-.286-.071c-.97-.243-.97-1.62 0-1.864l.286-.071a.96.96 0 0 0 .434-1.622l-.211-.205c-.719-.695-.03-1.888.931-1.613l.284.08a.96.96 0 0 0 1.187-1.186l-.081-.284c-.275-.96.918-1.65 1.613-.931l.205.211a.96.96 0 0 0 1.622-.434l.071-.286zM12.973 8.5H8.25l-2.834 3.779A4.998 4.998 0 0 0 12.973 8.5zm0-1a4.998 4.998 0 0 0-7.557-3.779l2.834 3.78h4.723zM5.048 3.967c-.03.021-.058.043-.087.065l.087-.065zm-.431.355A4.984 4.984 0 0 0 3.002 8c0 1.455.622 2.765 1.615 3.678L7.375 8 4.617 4.322zm.344 7.646.087.065-.087-.065z\"/>\n        </svg>\n      </div>\n      <div class=\"home-link\" :class=\"posterCount\" @click=\"goHome\">\n        <span v-if=\"currentLogIsTVLog\">TV Log</span>\n        <span v-else>Movie Log</span>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nexport default {\n  data () {\n    return {\n      showSettings: false\n    }\n  },\n  computed: {\n    currentLogIsTVLog () {\n      return this.$store.state.currentLog === \"tvLog\";\n    },\n    allPostersRanked () {\n      const media = [...this.$store.getters.allMediaAsArray];\n      return media.sort(this.sortByRating).map((media) => {\n        return `https://image.tmdb.org/t/p/w94_and_h141_bestv2${this.topStructure(media).poster_path}`;\n      });\n    },\n    postersForHeader () {\n      if (this.$store.getters.allMediaAsArray.length < 24) {\n        return [this.randomBanner()];\n      } else if (this.$store.getters.allMediaAsArray.length < 120) {\n        return this.allPostersRanked.slice(0, 24);\n      } else {\n        return this.allPostersRanked.slice(0, 120);\n      }\n    },\n    posterCount () {\n      if (this.$store.getters.allMediaAsArray.length < 24) {\n        return \"single\";\n      } else if (this.$store.getters.allMediaAsArray.length < 120) {\n        return \"twenty-four\";\n      } else {\n        return \"one-twenty\";\n      }\n    },\n    devMode () {\n      return this.$store.getters.devMode;\n    }\n  },\n  methods: {\n    toggleSettings () {\n      this.$el.querySelector(\".settings-link\").classList.toggle(\"rotated\");\n\n      if (this.$router.currentRoute.value.name === \"Settings\") {\n        this.$router.push(\"/\");\n      } else {\n        this.$router.push(\"/settings\");\n      }\n    },\n    mostRecentRating (media) {\n      if (this.currentLogIsTVLog) {\n        return media.ratings.tvShow;\n      } else {\n        let mostRecentRating = media.ratings[0];\n\n        media.ratings.forEach((rating) => {\n          if (rating.date && rating.date > mostRecentRating.date) {\n            mostRecentRating = rating;\n          } else if (!mostRecentRating.date) {\n            mostRecentRating = rating;\n          }\n        })\n\n        return mostRecentRating;\n      }\n    },\n    sortByRating (a, b) {\n      const aRating = this.mostRecentRating(a).rating;\n      const bRating = this.mostRecentRating(b).rating;\n\n      if (aRating < bRating) {\n        return 1;\n      }\n      if (aRating > bRating) {\n        return -1;\n      }\n\n      return 0;\n    },\n    randomBanner () {\n      const rand = Math.floor(Math.random() * this.$store.getters.allMediaAsArray.length);\n\n      if (this.$store.getters.allMediaAsArray[rand]) {\n        return `https://image.tmdb.org/t/p/original${this.topStructure(this.$store.getters.allMediaAsArray[rand]).backdrop_path}`;\n      } else {\n        return \"https://www.solidbackgrounds.com/images/1920x1080/1920x1080-black-solid-color-background.jpg\";\n      }\n    },\n    async goHome () {\n      await this.$store.commit(\"setGoHome\", true);\n      this.$router.push(\"/\");\n    },\n    topStructure (result) {\n      if (this.currentLogIsTVLog) {\n        return result.tvShow;\n      } else {\n        return result.movie;\n      }\n    }\n  }\n}\n</script>\n\n<style lang=\"scss\">\n  .header {\n    align-items: center;\n    display: flex;\n    flex-wrap: wrap;\n    justify-content: flex-end;\n    position: relative;\n\n    .overflow-wrapper {\n      height: 100%;\n      width: 100%;\n      position: relative;\n      overflow: hidden;\n\n      .dev-mode-flag {\n        background-color: #dc3545;\n        border: 2px solid white;\n        box-shadow: 0px 0px 9px 0px #424242;\n        font-size: 1rem;\n        left: 0;\n        padding: 6px 64px;\n        pointer-events: none;\n        position: fixed;\n        top: 0;\n        transform: rotate(-45deg) translate(-55px, -33px);\n        color: white;\n        z-index: 1;\n      }\n\n      .home-link {\n        background: rgba(0, 0, 0, 0.5);\n        border-radius: 100px;\n        border: 2px solid white;\n        color: white;\n        cursor: pointer;\n        font-family: \"Anton\", sans-serif;\n        font-size: 1rem;\n        left: 50%;\n        margin: 0;\n        padding: 0 36px;\n        position: absolute;\n        text-decoration: none;\n        top: 50%;\n        transform: translate(-50%, -50%);\n        white-space: nowrap;\n\n        &.single {\n          background: none;\n          border: 0;\n          font-size: 2.5rem;\n          left: 0;\n          padding: 0 24px;\n          text-shadow: -5px 5px 10px black;\n          top: 100%;\n          transform: translate(0, -100%);\n        }\n\n        @media screen and (min-width: 320px) {\n          font-size: 2rem;\n        }\n      }\n    }\n\n    .poster-grid {\n      position: relative;\n      column-gap: 0;\n      display: flex;\n      flex-wrap: wrap;\n      row-gap: 0;\n\n      &.single {\n        max-height: 150px;\n        align-content: center;\n\n        img {\n          width: 100%;\n        }\n      }\n\n      &.twenty-four {\n        img {\n          width: calc(100% / 12);\n\n          @media screen and (min-width: 1024px) {\n            width: calc(100% / 24 );\n          }\n\n          &:hover {\n            transform: scale(2);\n          }\n        }\n      }\n\n      &.one-twenty {\n        img {\n          width: 5%;\n\n          @media screen and (min-width: 640px) {\n            width: calc(100% / 30);\n          }\n\n          @media screen and (min-width: 1024px) {\n            width: calc(100% / 40);\n          }\n\n          @media screen and (min-width: 2000px) {\n            width: calc(100% / 60);\n          }\n\n          &:hover {\n            transform: scale(2);\n          }\n        }\n      }\n    }\n\n    .settings-link {\n      align-items: center;\n      background: black;\n      bottom: -7px;\n      cursor: pointer;\n      display: flex;\n      justify-content: center;\n      padding: 6px 50px 12px;\n      position: absolute;\n      right: -47px;\n      transform: rotate(-45deg);\n\n      &.rotated {\n        svg {\n          transform: rotate(-200deg);\n        }\n      }\n\n      svg {\n        color: white;\n        height: 24px;\n        transition: transform 0.75s ease;\n        width: 24px;\n      }\n    }\n  }\n</style>\n","import { render } from \"./Header.vue?vue&type=template&id=b5ffe8c6\"\nimport script from \"./Header.vue?vue&type=script&lang=js\"\nexport * from \"./Header.vue?vue&type=script&lang=js\"\n\nimport \"./Header.vue?vue&type=style&index=0&id=b5ffe8c6&lang=scss\"\n\nimport exportComponent from \"/Users/mjg/code/movie-log/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { render } from \"./App.vue?vue&type=template&id=45958f9e\"\nimport script from \"./App.vue?vue&type=script&lang=js\"\nexport * from \"./App.vue?vue&type=script&lang=js\"\n\nimport \"./App.vue?vue&type=style&index=0&id=45958f9e&lang=scss\"\n\nimport exportComponent from \"/Users/mjg/code/movie-log/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { createStore } from \"vuex\"\nimport { initializeApp } from 'firebase/app';\nimport { getDatabase, ref, onValue, set } from \"firebase/database\";\nimport { decodeCredential } from 'vue3-google-login'\nimport * as Sentry from \"@sentry/vue\";\n\nconst sortByVoteCount = (a, b) => {\n  if (a.vote_count < b.vote_count) {\n    return 1;\n  }\n  if (a.vote_count > b.vote_count) {\n    return -1;\n  }\n\n  return 0;\n}\n\nconst mostRecentRating = (media) => {\n  if (media.ratings.tvShow) {\n    return media.ratings.tvShow;\n  } else {\n    let mostRecentRating = media.ratings[0];\n\n    media.ratings.forEach((rating) => {\n      const ratingDate = rating.date ? new Date(rating.date).getTime() : 0;\n      const mostRecentRatingDate = mostRecentRating.date ? new Date(mostRecentRating.date).getTime() : 0;\n\n      if (!mostRecentRating.date) {\n        mostRecentRating = rating;\n      } else if (ratingDate && ratingDate > mostRecentRatingDate) {\n        mostRecentRating = rating;\n      }\n    })\n\n    return mostRecentRating;\n  }\n}\n\nconst sortByRating = (a, b) => {\n  const sortValueA = mostRecentRating(a).rating;\n  const sortValueB = mostRecentRating(b).rating;\n\n  if (sortValueA < sortValueB) {\n    return 1;\n  }\n\n  if (sortValueA > sortValueB) {\n    return -1;\n  }\n\n  return 0;\n}\n\nconst removeNaNAndUndefined = (obj) => {\n  for (const key in obj) {\n    if (Object.prototype.hasOwnProperty.call(obj, key)) {\n      if (typeof obj[key] === \"object\" && obj[key] !== null) {\n        removeNaNAndUndefined(obj[key]);\n      } else if (Number.isNaN(obj[key]) || obj[key] === undefined) {\n        Sentry.captureMessage(`NaN or undefined value found in ${key}. The Object was ${JSON.stringify(obj)}`);\n        delete obj[key];\n      }\n    }\n  }\n  return obj;\n};\n\n// Firebase\nconst firebaseConfig = {\n  databaseURL: \"https://movie-log-8c4d5-default-rtdb.firebaseio.com\",\n};\n\ninitializeApp(firebaseConfig);\n\nconst db = getDatabase();\n\nexport default createStore({\n  state: {\n    currentLog: 'movieLog',\n    movieLog: {},\n    tvLog: {},\n    settings: {},\n    googleLogin: null,\n    databaseTopKey: null,\n    newEntrySearchResults: [],\n    movieToRate: {},\n    tvShowToRate: {},\n    DBSearchValue: null,\n    DBSearchType: null,\n    DBSortValue: null,\n    DBSortOrder: null,\n    showHeader: true,\n    goHome: false,\n    devModeTopKey: 'testing-database'\n  },\n  getters: {\n    allMediaAsArray: (state) => {\n      if (state.currentLog === 'tvLog') {\n        return Object.keys(state.tvLog).map((key) => {\n          const tvShow = state.tvLog[key];\n          tvShow.dbKey = key;\n          return tvShow;\n        })\n      } else {\n        return Object.keys(state.movieLog).map((key) => {\n          const movie = state.movieLog[key];\n          movie.dbKey = key;\n          return movie;\n        })\n      }\n    },\n    allMoviesAsArray: (state) => {\n      return Object.keys(state.movieLog).map((key) => {\n        return state.movieLog[key];\n      })\n    },\n    allTVShowsAsArray: (state) => {\n      return Object.keys(state.tvLog).map((key) => {\n        return state.tvLog[key];\n      })\n    },\n    allMediaSortedByRating: (state, getters) => {\n      return getters.allMediaAsArray.sort(sortByRating);\n    },\n    databaseTopKey (state) {\n      return state.databaseTopKey;\n    },\n    devMode (state) {\n      return state.databaseTopKey === state.devModeTopKey;\n    }\n  },\n  mutations: {\n    setCurrentLog (state, value) {\n      state.currentLog = value;\n    },\n    setMovieLog (state, value) {\n      state.movieLog = Object.freeze(value);\n    },\n    setTVLog (state, value) {\n      state.tvLog = Object.freeze(value);\n    },\n    setSettings (state, value) {\n      state.settings = value;\n    },\n    setGoogleLogin (state, value) {\n      state.googleLogin = value;\n    },\n    setDatabaseTopKey (state, value) {\n      state.databaseTopKey = value.replaceAll(/[-!$%@^&*()_+|~=`{}[\\]:\";'<>?,./]/g, \"-\");\n    },\n    setNewEntrySearchResults (state, value) {\n      const results = [...value];\n      const sorted = results.sort(sortByVoteCount);\n\n      state.newEntrySearchResults = sorted;\n    },\n    setMovieToRate (state, movie) {\n      state.movieToRate = movie;\n    },\n    setTVShowToRate (state, tvShow) {\n      state.tvShowToRate = tvShow;\n    },\n    setDBSearchValue (state, value) {\n      state.DBSearchValue = value;\n    },\n    setDBSearchType (state, value) {\n      state.DBSearchType = value;\n    },\n    setDBSortValue (state, value) {\n      state.DBSortValue = value;\n    },\n    setDBSortOrder (state, value) {\n      state.DBSortOrder = value;\n    },\n    setShowHeader (state, value) {\n      state.showHeader = value;\n    },\n    setGoHome (state, value) {\n      state.goHome = value;\n    }\n  },\n  actions: {\n    async login (context, resp) {\n      const devMode = JSON.parse(window.localStorage.getItem('devMode'));\n      const userData = decodeCredential(resp.credential);\n\n      context.commit('setGoogleLogin', userData.email);\n\n      if (devMode) {\n        context.commit('setDatabaseTopKey', context.state.devModeTopKey);\n      } else if (context.state.googleLogin) {\n        context.commit('setDatabaseTopKey', context.state.googleLogin);\n      } else {\n        Sentry.captureMessage(\"Login attempted but the user data didn't work\");\n      }\n\n      await context.dispatch('resetLocalDB');\n    },\n    async resetLocalDB (context) {\n      context.commit('setMovieLog', {});\n      context.commit('setTVLog', {});\n      context.commit('setSettings', {});\n\n      await context.dispatch('initializeDB');\n    },\n    async initializeDB (context) {\n      if (!context.state.databaseTopKey) {\n        return;\n      }\n\n      window.localStorage.setItem('databaseTopKey', context.state.databaseTopKey);\n\n      const movieLogHasData = Boolean(Object.keys(context.state.movieLog).length);\n      if (!movieLogHasData) {\n        onValue(ref(db, `${context.state.databaseTopKey}/movieLog`), (snapshot) => {\n          const data = snapshot.val();\n\n          if (data) {\n            context.commit('setMovieLog', data);\n          }\n        });\n      }\n\n      const tvLogHasData = Boolean(Object.keys(context.state.tvLog).length);\n      if (!tvLogHasData) {\n        onValue(ref(db, `${context.state.databaseTopKey}/tvLog`), (snapshot) => {\n          const data = snapshot.val();\n\n          if (data) {\n            context.commit('setTVLog', data);\n          }\n        });\n      }\n\n      const settingsHasData = Boolean(Object.keys(context.state.settings).length);\n      if (!settingsHasData) {\n        onValue(ref(db, `${context.state.databaseTopKey}/settings`), (snapshot) => {\n          const data = snapshot.val();\n\n          if (data) {\n            context.commit('setSettings', data);\n          }\n        });\n      }\n    },\n    // todo: should I delete this? Nothing is calling it but it seems like something I kind of need...\n    async initiateNewDatabase (context) {\n      if (!context.state.databaseTopKey) {\n        return;\n      }\n\n      const newDB = {\n        movieLog: {},\n        tvLog: {},\n        settings: {\n          tags: {\n            \"viewing-tags\": { title: \"default viewing tag\" },\n            \"movie-tags\": { title: \"default movie tag\" },\n          },\n          weights: [\n            { name: \"direction\", weight: 1.015 },\n            { name: \"imagery\", weight: 0.9 },\n            { name: \"impression\", weight: 1.9 },\n            { name: \"love\", weight: 2.985 },\n            { name: \"overall\", weight: 2.05 },\n            { name: \"performance\", weight: 0.65 },\n            { name: \"soundtrack\", weight: 0.2 },\n            { name: \"story\", weight: 1.25 }\n          ]\n        }\n      }\n\n      set(ref(db, `${context.state.databaseTopKey}`), newDB);\n\n      context.dispatch('initializeDB');\n    },\n    async setDBValue (context, dbEntry) {\n      const cleanedDBEntry = removeNaNAndUndefined(dbEntry.value);\n\n      set(ref(db, `${context.state.databaseTopKey}/${dbEntry.path}`), cleanedDBEntry)\n        .then(() => {\n          console.log('setDBValue success');\n        })\n        .catch((error) => {\n          console.error(error);\n          Sentry.captureException(error);\n        });\n    },\n    // This action adds a TV show to the list of recently rated TV shows in the user's settings.\n    addToRecentlyRatedTVShows (context, tvShow) {\n      // Get the current list of recently rated TV shows from the user's settings.\n      const recentlyRatedTVShows = context.state.settings.recentlyRatedTVShows || [];\n\n      // If the TV show being added is already in the list, remove it from its current position.\n      if (recentlyRatedTVShows.find((show) => show.id === tvShow.id)) {\n        const index = recentlyRatedTVShows.findIndex((show) => show.id === tvShow.id);\n        recentlyRatedTVShows.splice(index, 1);\n      }\n\n      // If the list of recently rated TV shows is longer than 2, remove the oldest item(s) until it's only 2 items long.\n      if (recentlyRatedTVShows.length > 2) {\n        recentlyRatedTVShows.length = 2;\n      }\n\n      // Add the new TV show to the beginning of the list of recently rated TV shows.\n      recentlyRatedTVShows.unshift(tvShow);\n\n      // Update the user's settings in the database with the new list of recently rated TV shows.\n      context.dispatch('setDBValue', {\n        path: 'settings/recentlyRatedTVShows',\n        value: recentlyRatedTVShows\n      });\n    },\n    toggleCurrentLog (context) {\n      if (this.state.currentLog === 'movieLog') {\n        this.commit('setCurrentLog', 'tvLog');\n      } else {\n        this.commit('setCurrentLog', 'movieLog');\n      }\n\n      window.localStorage.setItem('movieLogCurrentLog', context.state.currentLog);\n    }\n  },\n  modules: {\n  }\n})\n","<template>\n  <div class=\"home mx-auto\">\n    <NewRatingSearch />\n    <hr>\n    <SearchDatabase/>\n    <hr>\n    <QuickSearch/>\n  </div>\n</template>\n\n<script>\nimport NewRatingSearch from \"./NewRatingSearch.vue\";\nimport SearchDatabase from \"./SearchDatabase.vue\";\nimport QuickSearch from \"./QuickSearch.vue\";\n\nexport default {\n  components: {\n    NewRatingSearch,\n    SearchDatabase,\n    QuickSearch\n  }\n}\n</script>\n\n<style lang=\"scss\">\n  .home {\n    max-width: 640px;\n  }\n\n  hr {\n    border-top: 1px solid;\n    margin: 0 10%;\n    opacity: 0.3;\n  }\n\n  .bg-dark {\n    hr {\n      border-color: white;\n    }\n\n    p {\n      color: white;\n    }\n  }\n</style>","<template>\n  <form class=\"new-rating-search mt-5 mb-4 mx-3\" @submit.prevent=\"searchTMDB\" target=\"_top\" method=\"GET\">\n    <input type=\"hidden\" name=\"action\" value=\"entry\">\n    <div class=\"search-inputs input-group\">\n      <input v-model=\"value\" type=\"text\" class=\"form-control\" placeholder=\"New Entry\" aria-label=\"New Entry\" aria-describedby=\"new-rating-button\">\n      <div ref=\"noResults\" class=\"invalid-feedback\">No results found</div>\n      <button class=\"btn btn-primary\" :disabled=\"!value\" type=\"submit\" id=\"new-rating-button\">Search</button>\n    </div>\n    <div v-if=\"currentLogIsTVLog && recentlyRatedTVShows.length\" class=\"last-three-shows mt-4\">\n      <ul>\n        <li v-for=\"(tvShow, index) in recentlyRatedTVShows\" :key=\"index\" class=\"col-3\" @click=\"reRate(tvShow)\">\n          <img :src=\"`https://image.tmdb.org/t/p/original${tvShow.poster_path}`\" :alt=\"`${tvShow.name} poster`\">\n          <RatingChangeRibbon :tvShow=\"tvShow\"/>\n        </li>\n      </ul>\n    </div>\n  </form>\n</template>\n\n<script>\nimport axios from 'axios';\nimport RatingChangeRibbon from './RatingChangeRibbon.vue';\n\nexport default {\n  components: {\n    RatingChangeRibbon\n  },\n  data () {\n    return {\n      value: \"\"\n    }\n  },\n  computed: {\n    currentLogIsTVLog () {\n      return this.$store.state.currentLog === \"tvLog\";\n    },\n    movieOrTV () {\n      if (this.currentLogIsTVLog) {\n        return \"tv\";\n      } else {\n        return \"movie\";\n      }\n    },\n    recentlyRatedTVShows () {\n      return this.$store.state.settings.recentlyRatedTVShows || [];\n    },\n    tvLog () {\n      return this.$store.state.tvLog;\n    }\n  },\n  methods: {\n    async searchTMDB () {\n      if (!this.value) {\n        return;\n      }\n\n      const resp = await axios.get(`https://api.themoviedb.org/3/search/${this.movieOrTV}?api_key=${process.env.VUE_APP_TMDB_API_KEY}&language=en-US&query=${this.value}`);\n\n      if (resp.data.results.length) {\n        this.newEntrySearch(resp.data.results);\n      } else {\n        this.showNoResultsMessage();\n      }\n    },\n    showNoResultsMessage () {\n      this.$refs.noResults.classList.add(\"show-message\");\n\n      setTimeout(() => {\n        this.$refs.noResults.classList.remove(\"show-message\");\n      }, 3000);\n    },\n    newEntrySearch (results) {\n      this.$store.commit('setNewEntrySearchResults', results)\n\n      this.$router.push(`/pick-media/${this.value}`);\n    },\n    reRate (tvShow) {\n      this.$store.commit('setTVShowToRate', tvShow);\n      this.$router.push('/rate-tv-show');\n    }\n  }\n}\n</script>\n\n<style lang=\"scss\">\n  .new-rating-search {\n    .search-inputs {\n      position: relative;\n\n      .invalid-feedback {\n        &.show-message {\n          bottom: -24px;\n          display: block;\n          left: 12px;\n          position: absolute;\n        }\n      }\n    }\n\n    .last-three-shows {\n      ul {\n        align-items: center;\n        display: flex;\n        justify-content: center;\n        list-style: none;\n        margin: 0;\n        padding: 0;\n\n        li {\n          background-color: white;\n          border: 6px solid black;\n          box-shadow: 0 0 5px 0 rgba(0,0,0,0.5);\n          cursor: pointer;\n          margin: 0 12px;\n          padding: 6px;\n          position: relative;\n\n          img {\n            width: 100%;\n          }\n\n          .rating-change {\n            right: 0;\n            position: absolute;\n            top: 100%;\n            transform: translate(22px, -22px);\n          }\n        }\n      }\n    }\n  }\n</style>","<template>\n  <div\n    class=\"rating-change\"\n    :class=\"{positive: rankChange > 0, negative: rankChange < 0, neutral: rankChange == 0}\"\n  >\n    <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"16\" height=\"16\" fill=\"currentColor\" class=\"bi bi-award-fill\" viewBox=\"0 0 16 16\">\n      <path d=\"m8 0 1.669.864 1.858.282.842 1.68 1.337 1.32L13.4 6l.306 1.854-1.337 1.32-.842 1.68-1.858.282L8 12l-1.669-.864-1.858-.282-.842-1.68-1.337-1.32L2.6 6l-.306-1.854 1.337-1.32.842-1.68L6.331.864 8 0z\"/>\n      <path d=\"M4 11.794V16l4-1 4 1v-4.206l-2.018.306L8 13.126 6.018 12.1 4 11.794z\"/>\n    </svg>\n    <div class=\"number\">\n      <span class=\"plus\">+</span>\n      <span>{{ rankChange }}</span>\n    </div>\n  </div>\n</template>\n\n<script>\nexport default {\n  props: {\n    tvShow: {\n      type: Object,\n      required: true,\n    },\n  },\n  computed: {\n    rankChange () {\n      const sorted = this.$store.getters.allMediaSortedByRating;\n      const entryWithRatings = sorted.find((tvShow) => tvShow.tvShow.id === this.tvShow.id);\n      const previousRanking = entryWithRatings?.ratings.tvShow.previousRanking ? entryWithRatings.ratings.tvShow.previousRanking : sorted.length;\n      const currentRanking = sorted.findIndex((tvShow) => tvShow.tvShow.id === this.tvShow.id) + 1;\n\n      return previousRanking - currentRanking;\n    }\n  },\n};\n</script>\n\n<style lang=\"scss\">\n  .rating-change {\n    position: absolute;\n\n    &.positive {\n      color: green;\n\n      .number {\n        .plus {\n          display: block;\n        }\n      }\n    }\n\n    &.neutral {\n      color: #fae150;\n\n      .number {\n        color: black;\n\n        .plus {\n          display: block;\n        }\n      }\n    }\n\n    &.negative {\n      color: red;\n\n      .number {\n        .minus {\n          display: block;\n        }\n      }\n    }\n\n    svg {\n      height: 45px;\n      width: 45px;\n\n      path {\n        stroke: #ffffff;\n        stroke-width: 0.25px;\n      }\n    }\n\n    .number {\n      font-size: 12px;\n      color: white;\n      position: absolute;\n      top: 50%;\n      transform: translate(-50%, -16px);\n      line-height: 20px;\n      left: 50%;\n      display: flex;\n      justify-content: center;\n      align-items: center;\n\n      .plus,\n      .minus {\n        display: none;\n      }\n\n      span {\n        display: block;\n        line-height: 20px;\n      }\n    }\n  }\n</style>","import { render } from \"./RatingChangeRibbon.vue?vue&type=template&id=0cdcc496\"\nimport script from \"./RatingChangeRibbon.vue?vue&type=script&lang=js\"\nexport * from \"./RatingChangeRibbon.vue?vue&type=script&lang=js\"\n\nimport \"./RatingChangeRibbon.vue?vue&type=style&index=0&id=0cdcc496&lang=scss\"\n\nimport exportComponent from \"/Users/mjg/code/movie-log/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { render } from \"./NewRatingSearch.vue?vue&type=template&id=1a41735c\"\nimport script from \"./NewRatingSearch.vue?vue&type=script&lang=js\"\nexport * from \"./NewRatingSearch.vue?vue&type=script&lang=js\"\n\nimport \"./NewRatingSearch.vue?vue&type=style&index=0&id=1a41735c&lang=scss\"\n\nimport exportComponent from \"/Users/mjg/code/movie-log/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<template>\n  <form class=\"my-5 mx-3\">\n    <div class=\"search-inputs input-group mb-3\">\n      <input\n        v-model=\"value\"\n        type=\"text\"\n        class=\"form-control\"\n        placeholder=\"Search Database\"\n        aria-label=\"Search Database\"\n        aria-describedby=\"search-database-button\"\n      >\n      <button\n        @click.prevent=\"dBSearch\"\n        class=\"btn btn-primary\"\n        type=\"submit\"\n        id=\"search-database-button\"\n      >\n        <span v-if=\"value\">Search</span>\n        <span v-else>Go</span>\n      </button>\n    </div>\n  </form>\n</template>\n\n<script>\nexport default {\n  data () {\n    return {\n      value: \"\"\n    }\n  },\n  methods: {\n    dBSearch () {\n      this.$store.commit('setDBSearchValue', this.value);\n\n      this.$router.push('/db-search');\n    }\n  },\n}\n</script>\n\n<style>\n\n</style>","import { render } from \"./SearchDatabase.vue?vue&type=template&id=03aff941\"\nimport script from \"./SearchDatabase.vue?vue&type=script&lang=js\"\nexport * from \"./SearchDatabase.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"/Users/mjg/code/movie-log/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<template>\n  <div class=\"quick-search my-3 mx-3 mb-5\">\n    <label class=\"mb-3 text-center col-12\">Quick Search</label>\n    <ul class=\"p-0 d-flex justify-content-around flex-wrap\">\n      <li class=\"col-2\">\n        <button class=\"shadow-lg btn btn-secondary col-12 d-flex justify-content-center\" @click=\"searchDatabase({searchTerm: `${currentYear}`, searchType: 'year', sortValue: 'rating', sortOrder: null})\">\n          <span>{{currentYear}}</span>\n        </button>\n      </li>\n      <li class=\"col-2\">\n        <button class=\"shadow-lg btn btn-secondary col-12 d-flex justify-content-center\" @click=\"searchDatabase({searchTerm: `${currentYear - 1}`, searchType: 'year', sortValue: 'rating', sortOrder: null})\">\n          <span>{{currentYear - 1}}</span>\n        </button>\n      </li>\n      <li class=\"col-2\">\n        <button class=\"shadow-lg btn btn-secondary col-12 d-flex justify-content-center\" @click=\"searchDatabase({searchTerm: `${currentYear - 2}`, searchType: 'year', sortValue: 'rating', sortOrder: null})\">\n          <span>{{currentYear - 2}}</span>\n        </button>\n      </li>\n      <li class=\"col-2\">\n        <button class=\"shadow-lg btn btn-secondary col-12 d-flex justify-content-center\" @click=\"searchDatabase({searchTerm: `${currentYear - 3}`, searchType: 'year', sortValue: 'rating', sortOrder: null})\">\n          <span>{{currentYear - 3}}</span>\n        </button>\n      </li>\n      <li class=\"col-2\">\n        <button class=\"shadow-lg btn btn-secondary col-12 d-flex justify-content-center\" @click=\"searchDatabase({searchTerm: `${currentYear - 4}`, searchType: 'year', sortValue: 'rating', sortOrder: null})\">\n          <span>{{currentYear - 4}}</span>\n        </button>\n      </li>\n      <li class=\"col-12\"></li>\n      <li class=\"col-2\">\n        <button class=\"shadow-lg btn btn-secondary col-12 d-flex justify-content-center\" @click=\"searchDatabase({searchTerm: '70s', searchType: 'year', sortValue: 'rating', sortOrder: null})\">\n          <span>1970s</span>\n        </button>\n      </li>\n      <li class=\"col-2\">\n        <button class=\"shadow-lg btn btn-secondary col-12 d-flex justify-content-center\" @click=\"searchDatabase({searchTerm: '80s', searchType: 'year', sortValue: 'rating', sortOrder: null})\">\n          <span>1980s</span>\n        </button>\n      </li>\n      <li class=\"col-2\">\n        <button class=\"shadow-lg btn btn-secondary col-12 d-flex justify-content-center\" @click=\"searchDatabase({searchTerm: '90s', searchType: 'year', sortValue: 'rating', sortOrder: null})\">\n          <span>1990s</span>\n        </button>\n      </li>\n      <li class=\"col-2\">\n        <button class=\"shadow-lg btn btn-secondary col-12 d-flex justify-content-center\" @click=\"searchDatabase({searchTerm: '2000s', searchType: 'year', sortValue: 'rating', sortOrder: null})\">\n          <span>2000s</span>\n        </button>\n      </li>\n      <li class=\"col-2\">\n        <button class=\"shadow-lg btn btn-secondary col-12 d-flex justify-content-center\" @click=\"searchDatabase({searchTerm: '2010s', searchType: 'year', sortValue: 'rating', sortOrder: null})\">\n          <span>2010s</span>\n        </button>\n      </li>\n      <li class=\"col-12\"></li>\n      <li class=\"col-3\">\n        <button class=\"shadow-lg btn btn-secondary col-12 d-flex justify-content-center\" @click=\"searchDatabase({searchTerm: ' ', searchType: 'annual', sortValue: 'release', sortOrder: null})\">\n          <span>Winners</span>\n        </button>\n      </li>\n      <li class=\"col-3\">\n        <button class=\"shadow-lg btn btn-secondary col-12 d-flex justify-content-center\" @click=\"searchDatabase({searchTerm: '', searchType: 'title', sortValue: 'rating', sortOrder: 'ascending'})\">\n          <span>All</span>\n        </button>\n      </li>\n      <li class=\"col-3\">\n        <button class=\"shadow-lg btn btn-secondary col-12 d-flex justify-content-center\" @click=\"searchDatabase({searchTerm: '', searchType: 'title', sortValue: 'watched', sortOrder: 'ascending'})\">\n          <span>Recent</span>\n        </button>\n      </li>\n    </ul>\n  </div>\n</template>\n\n<script>\nexport default {\n  computed: {\n    currentYear () {\n      return new Date().getFullYear();\n    },\n    settings () {\n      return this.$store.state.settings;\n    },\n  },\n  methods: {\n    searchDatabase (config) {\n      if (!config.searchTerm) {\n        this.$store.commit('setDBSearchValue', '');\n      }\n\n      if (config.searchTerm) {\n        this.$store.commit('setDBSearchValue', config.searchTerm);\n      }\n\n      if (config.searchType) {\n        this.$store.commit('setDBSearchType', config.searchType);\n      }\n\n      if (config.sortValue) {\n        this.$store.commit('setDBSortValue', config.sortValue);\n      }\n\n      if (config.sortOrder) {\n        this.$store.commit('setDBSortOrder', config.sortOrder);\n      }\n\n      this.$router.push('/db-search');\n    }\n  }\n}\n</script>\n\n<style lang=\"scss\">\n  hr {\n    border-top: 1px solid;\n    margin: 0 10%;\n    opacity: 0.3;\n  }\n\n  .quick-search {\n    ul {\n      column-gap: 0.35rem;\n      list-style: none;\n      row-gap: 0.35rem;\n\n      li {\n        button {\n          span {\n            font-size: 0.75rem;\n          }\n        }\n      }\n    }\n  }\n\n  .bg-dark {\n    .quick-search {\n      ul {\n        li {\n          button {\n            background-color: lightgray;\n\n            span {\n              color: black;\n            }\n          }\n        }\n      }\n    }\n  }\n</style>","import { render } from \"./QuickSearch.vue?vue&type=template&id=49a085e6\"\nimport script from \"./QuickSearch.vue?vue&type=script&lang=js\"\nexport * from \"./QuickSearch.vue?vue&type=script&lang=js\"\n\nimport \"./QuickSearch.vue?vue&type=style&index=0&id=49a085e6&lang=scss\"\n\nimport exportComponent from \"/Users/mjg/code/movie-log/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { render } from \"./Home.vue?vue&type=template&id=186dde85\"\nimport script from \"./Home.vue?vue&type=script&lang=js\"\nexport * from \"./Home.vue?vue&type=script&lang=js\"\n\nimport \"./Home.vue?vue&type=style&index=0&id=186dde85&lang=scss\"\n\nimport exportComponent from \"/Users/mjg/code/movie-log/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<template>\n  <div class=\"login\">\n    <h1 class=\"col-12 text-center\">Welcome to Movie Log</h1>\n    <h2 class=\"col-12 text-center fs-6 mb-5\">Please sign in with Google</h2>\n    <GoogleLogin :callback=\"login\" prompt auto-login/>\n  </div>\n</template>\n\n<script>\nexport default {\n  methods: {\n    async login (resp) {\n      await this.$store.dispatch('login', resp);\n      this.$router.push('/');\n    }\n  }\n}\n</script>\n\n<style lang=\"scss\">\n  .login {\n    display: flex;\n    flex-wrap: wrap;\n    justify-content: center;\n    margin: 30vh 24px;\n  }\n</style>","import { render } from \"./Login.vue?vue&type=template&id=e97de98e\"\nimport script from \"./Login.vue?vue&type=script&lang=js\"\nexport * from \"./Login.vue?vue&type=script&lang=js\"\n\nimport \"./Login.vue?vue&type=style&index=0&id=e97de98e&lang=scss\"\n\nimport exportComponent from \"/Users/mjg/code/movie-log/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<template>\n  <div class=\"db-search-results p-3 pt-5 mx-auto\">\n    <div class=\"search-bar mx-auto\">\n      <div class=\"input-group mb-1 col-12 md-col-6\">\n        <input\n          class=\"form-control\"\n          :class=\"{'has-content': value}\"\n          type=\"text\"\n          list=\"datalistOptions\"\n          autocapitalize=\"none\"\n          name=\"search\"\n          id=\"search\"\n          :placeholder=\"`${searchType} search...`\"\n          v-model=\"value\"\n        >\n        <datalist id=\"datalistOptions\">\n          <option v-for=\"(value, index) in datalistForSearchType\" :key=\"index\" :value=\"value\"/>\n        </datalist>\n        <span v-if=\"value\" class=\"clear-button\" @click.prevent=\"value = null\">\n          <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"16\" height=\"16\" fill=\"currentColor\" class=\"bi bi-x-circle\" viewBox=\"0 0 16 16\">\n            <path d=\"M8 15A7 7 0 1 1 8 1a7 7 0 0 1 0 14zm0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16z\"/>\n            <path d=\"M4.646 4.646a.5.5 0 0 1 .708 0L8 7.293l2.646-2.647a.5.5 0 0 1 .708.708L8.707 8l2.647 2.646a.5.5 0 0 1-.708.708L8 8.707l-2.646 2.647a.5.5 0 0 1-.708-.708L7.293 8 4.646 5.354a.5.5 0 0 1 0-.708z\"/>\n          </svg>\n        </span>\n      </div>\n      <div class=\"search-types d-flex flex-nowrap mb-3 col-12 md-col-6\">\n        <div class=\"types d-flex align-items-center flex-wrap p-1\">\n          <span\n            class=\"badge mx-1\"\n            :class=\"searchType === 'title' ? 'text-bg-success' : 'text-bg-secondary'\"\n            @click=\"searchType = 'title'\"\n          >\n            <span v-if=\"currentLogIsTVLog\">Name</span>\n            <span v-else>Title</span>\n          </span>\n          <span\n            class=\"badge mx-1\"\n            :class=\"searchType === 'keyword' ? 'text-bg-success' : 'text-bg-secondary'\"\n            @click=\"searchType = 'keyword'\"\n          >\n            Keyword\n          </span>\n          <span\n            class=\"badge mx-1\"\n            :class=\"searchType === 'genre' ? 'text-bg-success' : 'text-bg-secondary'\"\n            @click=\"searchType = 'genre'\"\n          >\n            Genre\n          </span>\n          <span\n            class=\"badge mx-1\"\n            :class=\"searchType === 'year' ? 'text-bg-success' : 'text-bg-secondary'\"\n            @click=\"searchType = 'year'\"\n          >\n            Year\n          </span>\n          <span\n            class=\"badge mx-1\"\n            :class=\"searchType === 'director' ? 'text-bg-success' : 'text-bg-secondary'\"\n            @click=\"searchType = 'director'\"\n          >\n            <span v-if=\"currentLogIsTVLog\">Created By</span>\n            <span v-else>Director</span>\n          </span>\n          <span\n            class=\"badge mx-1\"\n            :class=\"searchType === 'cast/crew' ? 'text-bg-success' : 'text-bg-secondary'\"\n            @click=\"searchType = 'cast/crew'\"\n          >\n            Cast/Crew\n          </span>\n          <span\n            class=\"badge mx-1\"\n            :class=\"searchType === 'annual' ? 'text-bg-success' : 'text-bg-secondary'\"\n            @click=\"searchType = 'annual'\"\n          >\n            Annual Best\n          </span>\n        </div>\n      </div>\n      <div class=\"input-group mb-3 col-12 md-col-6\">\n        <select class=\"form-select\" name=\"sortValue\" id=\"sortValue\" v-model=\"sortValue\">\n          <option value=\"rating\" selected>Rating</option>\n          <option value=\"watched\">Watch Date</option>\n          <option value=\"release\">Release Date</option>\n          <option value=\"title\">Title</option>\n        </select>\n        <label class=\"input-group-text\" @click=\"toggleSortOrder\">\n          <div v-if=\"sortOrder !== 'ascending'\" class=\"descending\">\n            <svg xmlns=\"http://www.w3.org/2000/svg\" fill=\"currentColor\" class=\"bi bi-sort-down-alt\" viewBox=\"0 0 16 16\">\n              <path d=\"M3.5 3.5a.5.5 0 0 0-1 0v8.793l-1.146-1.147a.5.5 0 0 0-.708.708l2 1.999.007.007a.497.497 0 0 0 .7-.006l2-2a.5.5 0 0 0-.707-.708L3.5 12.293V3.5zm4 .5a.5.5 0 0 1 0-1h1a.5.5 0 0 1 0 1h-1zm0 3a.5.5 0 0 1 0-1h3a.5.5 0 0 1 0 1h-3zm0 3a.5.5 0 0 1 0-1h5a.5.5 0 0 1 0 1h-5zM7 12.5a.5.5 0 0 0 .5.5h7a.5.5 0 0 0 0-1h-7a.5.5 0 0 0-.5.5z\"/>\n            </svg>\n          </div>\n          <div v-if=\"sortOrder === 'ascending'\" class=\"ascending\">\n            <svg xmlns=\"http://www.w3.org/2000/svg\" fill=\"currentColor\" class=\"bi bi-sort-up-alt\" viewBox=\"0 0 16 16\">\n              <path d=\"M3.5 13.5a.5.5 0 0 1-1 0V4.707L1.354 5.854a.5.5 0 1 1-.708-.708l2-1.999.007-.007a.498.498 0 0 1 .7.006l2 2a.5.5 0 1 1-.707.708L3.5 4.707V13.5zm4-9.5a.5.5 0 0 1 0-1h1a.5.5 0 0 1 0 1h-1zm0 3a.5.5 0 0 1 0-1h3a.5.5 0 0 1 0 1h-3zm0 3a.5.5 0 0 1 0-1h5a.5.5 0 0 1 0 1h-5zM7 12.5a.5.5 0 0 0 .5.5h7a.5.5 0 0 0 0-1h-7a.5.5 0 0 0-.5.5z\"/>\n            </svg>\n          </div>\n        </label>\n      </div>\n    </div>\n    <hr class=\"mt-4\">\n    <div v-show=\"paginatedSortedResults.length\" class=\"details\">\n      <p v-if=\"filteredResults.length === allEntriesWithFlatKeywordsAdded.length\" class=\"fs-5 my-2 text-center\">\n        You've rated {{allEntriesWithFlatKeywordsAdded.length}} {{movieOrTVShow}}s.\n      </p>\n      <p v-else class=\"fs-5 my-2 text-center\">\n        {{filteredResults.length}} out of {{allEntriesWithFlatKeywordsAdded.length}} {{movieOrTVShow}}s match your search.\n      </p>\n      <p class=\"m-0 d-flex justify-content-center align-items-center\">\n        They have an average rating of {{averageRating(filteredResults)}}\n      </p>\n      <div class=\"charts-and-share col-12 my-3 d-flex justify-content-around align-items-center\">\n        <button class=\"btn btn-info col-5 collapsed\" type=\"button\" data-bs-toggle=\"collapse\" data-bs-target=\"#charts-accordion\" aria-expanded=\"false\" aria-controls=\"charts-accordion\">\n          Charts\n        </button>\n        <button class=\"btn btn-secondary col-5\" @click=\"shareResults\">\n          <span v-if=\"!sharing\">\n            Share Results\n          </span>\n          <div v-else class=\"spinner-border text-light\" role=\"status\">\n            <span class=\"visually-hidden\">Loading...</span>\n          </div>\n        </button>\n      </div>\n    </div>\n    <div id=\"charts-accordion\" ref=\"chartsAccordion\" class=\"accordion-collapse collapse\" aria-labelledby=\"charts\">\n      <div class=\"accordion-body\">\n        <Charts\n          :results=\"filteredResults\"\n          :sortOrder=\"sortOrder\"\n          :countedKeywords=\"countedKeywords\"\n          @updateSearchValue=\"updateSearchValue\"\n        />\n      </div>\n    </div>\n    <hr :class=\"{'mt-3': currentLogIsTVLog}\">\n    <ul class=\"col-12 py-3 px-0 m-0 d-flex flex-wrap\">\n      <DBSearchResult\n        v-for=\"(result, index) in paginatedSortedResults\"\n        :key=\"index\"\n        :result=\"result\"\n        :index=\"index\"\n        @updateSearchValue=\"updateSearchValue\"\n      />\n    </ul>\n    <button\n      v-if=\"sortedResults.length > numberOfResultsToShow\"\n      class=\"btn btn-secondary mb-5 float-end\"\n      @click=\"addMoreResults\"\n    >\n      More...\n    </button>\n  </div>\n</template>\n\n<script>\nimport Charts from \"./Charts.vue\";\nimport DBSearchResult from './DBSearchResult.vue';\n\nexport default {\n  components: {\n    Charts,\n    DBSearchResult\n  },\n  data () {\n    return {\n      popperInstance: null,\n      sortOrder: \"ascending\",\n      sortValue: null,\n      value: \"\",\n      numberOfResultsToShow: 50,\n      sharing: false,\n      searchType: \"title\"\n    }\n  },\n  watch: {\n    DBSearchValue (newVal) {\n      if (newVal || newVal === \"\") {\n        this.value = newVal;\n      }\n    },\n    DBSearchType (newVal) {\n      if (newVal) {\n        this.searchType = newVal;\n      }\n    },\n    DBSortValue (newVal) {\n      if (newVal) {\n        this.sortValue = newVal;\n      }\n    },\n    DBSortOrder (newVal) {\n      if (newVal) {\n        this.sortOrder = newVal;\n      }\n    },\n    value (newVal) {\n      this.updateUrl();\n    }\n  },\n  mounted () {\n    this.value = this.DBSearchValue;\n    if (this.$route.query.search) {\n      this.value = decodeURIComponent(this.$route.query.search);\n    }\n\n    if (this.DBSearchType) {\n      this.searchType = this.DBSearchType;\n    } else {\n      this.searchType = \"title\";\n    }\n\n    if (this.DBSortValue) {\n      this.sortValue = this.DBSortValue;\n    } else {\n      this.sortValue = \"rating\";\n    }\n\n    if (this.DBSortOrder) {\n      this.sortOrder = this.DBSortOrder;\n    } else {\n      this.sortOrder = \"ascending\";\n    }\n  },\n  beforeRouteLeave () {\n    this.sortOrder = \"ascending\";\n    this.sortValue = null;\n    this.value = \"\";\n    this.$store.commit(\"setDBSearchValue\", this.value);\n    this.$store.commit(\"setDBSearchType\", this.searchType);\n    this.$store.commit(\"setDBSortValue\", this.sortValue);\n    this.$store.commit(\"setDBSortOrder\", this.sortOrder);\n  },\n  computed: {\n    currentLogIsTVLog () {\n      return this.$store.state.currentLog === \"tvLog\";\n    },\n    movieOrTVShow () {\n      if (this.currentLogIsTVLog) {\n        return \"TV show\";\n      } else {\n        return \"movie\";\n      }\n    },\n    DBSearchValue () {\n      return this.$store.state.DBSearchValue;\n    },\n    DBSearchType () {\n      return this.$store.state.DBSearchType;\n    },\n    DBSortValue () {\n      return this.$store.state.DBSortValue;\n    },\n    DBSortOrder () {\n      return this.$store.state.DBSortOrder;\n    },\n    allEntriesWithFlatKeywordsAdded () {\n      return this.$store.getters.allMediaAsArray.map((result) => {\n        if (this.currentLogIsTVLog) {\n          return {\n            ...result,\n            tvShow: {\n              ...this.topStructure(result),\n              flatKeywords: this.topStructure(result).keywords ? this.topStructure(result).keywords.map((keyword) => keyword.name) : []\n            }\n          }\n        } else {\n          return {\n            ...result,\n            movie: {\n              ...this.topStructure(result),\n              flatKeywords: this.topStructure(result).keywords ? this.topStructure(result).keywords.map((keyword) => keyword.name) : []\n            }\n          }\n        }\n      });\n    },\n    filteredResults () {\n      if (this.searchType === \"annual\") {\n        this.$store.commit(\"setDBSortValue\", \"release\");\n        return this.bestMovieFromEachYear;\n      } else if (!this.value) {\n        this.$store.commit(\"setDBSortValue\", this.DBSortValue || \"rating\");\n        return this.allEntriesWithFlatKeywordsAdded;\n      } else if (this.searchType === \"title\") {\n        this.$store.commit(\"setDBSortValue\", this.DBSortValue || \"rating\");\n        return this.titleFilter;\n      } else if (this.searchType === \"keyword\") {\n        this.$store.commit(\"setDBSortValue\", this.DBSortValue || \"rating\");\n        return this.keywordFilter;\n      } else if (this.searchType === \"genre\") {\n        this.$store.commit(\"setDBSortValue\", this.DBSortValue || \"rating\");\n        return this.genreFilter;\n      } else if (this.searchType === \"year\") {\n        this.$store.commit(\"setDBSortValue\", this.DBSortValue || \"release\");\n        return this.yearFilter;\n      } else if (this.searchType === \"director\") {\n        this.$store.commit(\"setDBSortValue\", this.DBSortValue || \"rating\");\n        return this.directorFilter;\n      } else if (this.searchType === \"cast/crew\") {\n        this.$store.commit(\"setDBSortValue\", this.DBSortValue || \"rating\");\n        return this.castCrewFilter;\n      } else {\n        return [];\n      }\n    },\n    titleFilter () {\n      return this.allEntriesWithFlatKeywordsAdded.filter((media) => {\n        if (this.currentLogIsTVLog) {\n          return this.topStructure(media).name.toLowerCase().includes(this.value.toLowerCase());\n        } else {\n          return this.topStructure(media).title.toLowerCase().includes(this.value.toLowerCase());\n        }\n      })\n    },\n    keywordFilter () {\n      return this.allEntriesWithFlatKeywordsAdded.filter((media) => {\n        return this.topStructure(media).flatKeywords?.includes(this.value.toLowerCase());\n      })\n    },\n    genreFilter () {\n      return this.allEntriesWithFlatKeywordsAdded.filter((media) => {\n        return this.topStructure(media).genres?.find((genre) => genre.name.toLowerCase() === this.value.toLowerCase());\n      })\n    },\n    yearFilter () {\n      let parsedYears = [];\n\n      if (this.value.length === 2 && parseInt(this.value) < new Date().getFullYear() - 2000) {\n        parsedYears = [`20${this.value}`];\n      } else if (this.value.length === 2) {\n        parsedYears = [`19${this.value}`];\n      } else if (this.value.includes(\"-\") && this.value.includes(\" \")) {\n        parsedYears = this.value.split(\" \").join(\"\").split(\"-\");\n\n        for (let i = parseInt(parsedYears[0]) + 1; i < parseInt(parsedYears[1]); i++) {\n          parsedYears.push(i.toString());\n        }\n      } else if (this.value.includes(\"-\")) {\n        parsedYears = this.value.split(\"-\");\n\n        for (let i = parseInt(parsedYears[0]) + 1; i < parseInt(parsedYears[1]); i++) {\n          parsedYears.push(i.toString());\n        }\n      } else if (this.value.length === 5 && this.value.includes(\"s\")) {\n        parsedYears = this.value.split(\"s\").filter((x) => x);\n\n        parsedYears.push(`${parseInt(parsedYears[0]) + 1}`);\n        parsedYears.push(`${parseInt(parsedYears[0]) + 2}`);\n        parsedYears.push(`${parseInt(parsedYears[0]) + 3}`);\n        parsedYears.push(`${parseInt(parsedYears[0]) + 4}`);\n        parsedYears.push(`${parseInt(parsedYears[0]) + 5}`);\n        parsedYears.push(`${parseInt(parsedYears[0]) + 6}`);\n        parsedYears.push(`${parseInt(parsedYears[0]) + 7}`);\n        parsedYears.push(`${parseInt(parsedYears[0]) + 8}`);\n        parsedYears.push(`${parseInt(parsedYears[0]) + 9}`);\n      } else if (this.value.length === 3 && this.value.includes(\"s\")) {\n        parsedYears = this.value.split(\"s\").filter((x) => x);\n\n        if (parseInt(this.value) < new Date().getFullYear() - 2000) {\n          parsedYears[0] = `20${parsedYears[0]}`;\n        } else {\n          parsedYears[0] = `19${parsedYears[0]}`;\n        }\n        parsedYears.push(`${parseInt(parsedYears[0]) + 1}`);\n        parsedYears.push(`${parseInt(parsedYears[0]) + 2}`);\n        parsedYears.push(`${parseInt(parsedYears[0]) + 3}`);\n        parsedYears.push(`${parseInt(parsedYears[0]) + 4}`);\n        parsedYears.push(`${parseInt(parsedYears[0]) + 5}`);\n        parsedYears.push(`${parseInt(parsedYears[0]) + 6}`);\n        parsedYears.push(`${parseInt(parsedYears[0]) + 7}`);\n        parsedYears.push(`${parseInt(parsedYears[0]) + 8}`);\n        parsedYears.push(`${parseInt(parsedYears[0]) + 9}`);\n      } else {\n        parsedYears = [this.value];\n      }\n\n      return this.allEntriesWithFlatKeywordsAdded.filter((media) => {\n        return parsedYears.includes(`${this.getYear(media)}`);\n      })\n    },\n    directorFilter () {\n      if (this.currentLogIsTVLog) {\n        return this.allEntriesWithFlatKeywordsAdded.filter((media) => {\n          return media.tvShow.created_by?.map((person) => person.name.toLowerCase()).join(\" \").includes(this.value.toLowerCase());\n        })\n      } else {\n        return this.allEntriesWithFlatKeywordsAdded.filter((media) => {\n          return media.movie.crew?.find((person) => person.job === \"Director\").name.toLowerCase() === this.value.toLowerCase();\n        })\n      }\n    },\n    castCrewFilter () {\n      return this.allEntriesWithFlatKeywordsAdded.filter((media) => {\n        const cast = this.topStructure(media).cast?.map((person, index) => person.name.toLowerCase()) || [];\n        const crew = this.topStructure(media).crew?.map((person, index) => person.name.toLowerCase()) || [];\n        const castCrewCombined = [...cast, ...crew];\n\n        return castCrewCombined.includes(this.value.toLowerCase());\n      })\n    },\n    bestMovieFromEachYear () {\n      const years = {};\n\n      this.allEntriesWithFlatKeywordsAdded.forEach((result) => {\n        let year;\n\n        if (this.currentLogIsTVLog) {\n          year = new Date(result.tvShow.first_air_date).getFullYear();\n        } else {\n          year = new Date(result.movie.release_date).getFullYear();\n        }\n\n        if (!years[year]) {\n          years[year] = result;\n        } else if (this.mostRecentRating(result).rating > this.mostRecentRating(years[year]).rating) {\n          years[year] = result;\n        }\n      })\n\n      return Object.keys(years).map((year) => years[year]);\n    },\n    sortedResults () {\n      return [...this.filteredResults].sort(this.sortResults);\n    },\n    sortedByRating () {\n      const allMediaSortedByRating = this.$store.getters.allMediaSortedByRating;\n\n      if (this.sortOrder === 'ascending') {\n        return allMediaSortedByRating;\n      } else {\n        return allMediaSortedByRating.slice().reverse();\n      }\n    },\n    paginatedSortedResults () {\n      return this.sortedResults.slice(0, this.numberOfResultsToShow);\n    },\n    datalistForSearchType () {\n      if (this.searchType === \"title\") {\n        return this.allTitles;\n      } else if (this.searchType === \"keyword\") {\n        return this.allKeywords;\n      } else if (this.searchType === \"genre\") {\n        return this.allGenres;\n      } else if (this.searchType === \"year\") {\n        return this.allYears;\n      } else if (this.searchType === \"director\") {\n        return this.allDirectors;\n      } else if (this.searchType === \"cast/crew\") {\n        return this.allCastCrew;\n      } else {\n        return [];\n      }\n    },\n    allTitles () {\n      if (this.currentLogIsTVLog) {\n        return this.sortedResults.map((result) => result.tvShow.name);\n      } else {\n        return this.sortedResults.map((result) => result.movie.title);\n      }\n    },\n    allKeywords () {\n      return Object.keys(this.countedKeywords).map((keyword) => this.titleCase(keyword));\n    },\n    allGenres () {\n      const genres = [];\n\n      this.sortedResults.forEach((result) => {\n        this.topStructure(result).genres.forEach((genre) => {\n          if (!genres.includes(genre.name)) {\n            genres.push(genre.name);\n          }\n        })\n      })\n\n      return genres;\n    },\n    allYears () {\n      const years = [];\n\n      this.sortedResults.forEach((result) => {\n        const year = this.getYear(result);\n        if (!years.includes(year)) {\n          years.push(year);\n        }\n      })\n\n      return years;\n    },\n    allDirectors () {\n      const directors = [];\n\n      this.sortedResults.forEach((result) => {\n        let director;\n        if (this.currentLogIsTVLog) {\n          director = result?.tvShow?.created_by?.[0].name;\n        } else {\n          director = result?.movie?.crew?.find((person) => person.job === \"Director\").name;\n        }\n\n        if (director && !directors.includes(director)) {\n          directors.push(director);\n        }\n      })\n\n      return directors;\n    },\n    allCastCrew () {\n      const castCrew = [];\n\n      this.sortedResults.forEach((result) => {\n        const cast = this.topStructure(result)?.cast?.map((person, index) => index < 10 && person.name) || [];\n        const crew = this.topStructure(result)?.crew?.map((person, index) => index < 10 && person.name) || [];\n        const castCrewCombined = [...cast, ...crew];\n\n        castCrewCombined.forEach((person) => {\n          if (!castCrew.includes(person)) {\n            castCrew.push(person);\n          }\n        })\n      })\n\n      return castCrew;\n    },\n    countedKeywords () {\n      const counts = {};\n\n      this.sortedResults.forEach((result) => {\n        if (this.topStructure(result).flatKeywords) {\n          this.topStructure(result).flatKeywords.forEach((keyword) => {\n            if (counts[keyword]) {\n              counts[keyword]++;\n            } else {\n              counts[keyword] = 1;\n            }\n          })\n        }\n      })\n\n      return counts;\n    }\n  },\n  methods: {\n    updateSearchValue (searchObject) {\n      this.searchType = searchObject.searchType;\n      this.value = searchObject.value.replace(/'/g, '');\n      this.$refs.chartsAccordion?.classList.remove(\"show\");\n    },\n    toggleSortOrder () {\n      if (this.sortOrder === \"ascending\") {\n        this.sortOrder = \"descending\";\n      } else {\n        this.sortOrder = \"ascending\";\n      }\n    },\n    sortResults (a, b) {\n      let sortValueA;\n      let sortValueB;\n\n      if (!this.sortValue || this.sortValue === \"rating\") {\n        sortValueA = this.mostRecentRating(a).rating;\n        sortValueB = this.mostRecentRating(b).rating;\n      } else if (this.sortValue === \"release\") {\n        if (this.currentLogIsTVLog) {\n          sortValueA = new Date(a.tvShow.first_air_date);\n          sortValueB = new Date(b.tvShow.first_air_date);\n        } else {\n          sortValueA = new Date(a.movie.release_date);\n          sortValueB = new Date(b.movie.release_date);\n        }\n      } else if (this.sortValue === \"title\") {\n        if (this.currentLogIsTVLog) {\n          sortValueA = a.tvShow.name;\n          sortValueB = b.tvShow.name;\n        } else {\n          sortValueA = a.movie.title;\n          sortValueB = b.movie.title;\n        }\n      } else if (this.sortValue === \"watched\") {\n        const dateA = this.mostRecentRating(a).date || \"3/22/1982\";\n        const dateB = this.mostRecentRating(b).date || \"3/22/1982\";\n\n        sortValueA = new Date(dateA);\n        sortValueB = new Date(dateB);\n      } else {\n        sortValueA = 0;\n        sortValueB = 0;\n      }\n\n      if (sortValueA < sortValueB) {\n        if (this.sortOrder === \"ascending\") {\n          return 1;\n        } else {\n          return -1;\n        }\n      }\n      if (sortValueA > sortValueB) {\n        if (this.sortOrder === \"ascending\") {\n          return -1;\n        } else {\n          return 1;\n        }\n      }\n\n      return 0;\n    },\n    averageRating (results) {\n      const ratedMovies = results.filter((result) => this.mostRecentRating(result).rating);\n      const ratings = ratedMovies.map((result) => parseFloat(this.mostRecentRating(result).rating));\n      const total = ratings.reduce((a, b) => a + b, 0);\n      return (total / ratings.length).toFixed(2);\n    },\n    getYear (media) {\n      let date;\n      if (this.currentLogIsTVLog) {\n        date = media.tvShow.first_air_date;\n      } else {\n        date = media.movie.release_date;\n      }\n\n      return new Date(date).getFullYear();\n    },\n    mostRecentRating (media) {\n      if (this.currentLogIsTVLog) {\n        return media.ratings.tvShow;\n      } else {\n        let mostRecentRating = media.ratings[0];\n\n        media.ratings.forEach((rating) => {\n          const ratingDate = rating.date ? new Date(rating.date).getTime() : 0;\n          const mostRecentRatingDate = mostRecentRating.date ? new Date(mostRecentRating.date).getTime() : 0;\n\n          if (!mostRecentRating.date) {\n            mostRecentRating = rating;\n          } else if (ratingDate && ratingDate > mostRecentRatingDate) {\n            mostRecentRating = rating;\n          }\n        })\n\n        return mostRecentRating;\n      }\n    },\n    togglePopper () {\n      const popper = this.$refs.popper;\n      if (popper.hasAttribute('data-show', '')) {\n        popper.removeAttribute('data-show', '')\n      } else {\n        popper.setAttribute('data-show', '');\n      }\n\n      this.popperInstance.update();\n    },\n    onClickAway (event) {\n      const popperWrapper = this.$refs.popperWrapper;\n      const popper = this.$refs.popper;\n\n      if (popperWrapper.contains(event.target)) {\n        return;\n      } else if (popper.hasAttribute('data-show', '')) {\n        popper.removeAttribute('data-show', '')\n        this.popperInstance.update();\n      }\n    },\n    addMoreResults () {\n      this.numberOfResultsToShow = this.numberOfResultsToShow + 50;\n\n      this.$nextTick(() => {\n        window.scrollBy({\n          top: 500,\n          behavior: 'smooth'\n        })\n      });\n    },\n    async shareResults () {\n      this.sharing = true;\n\n      const shareObject = {\n        results: this.sortedResults,\n        sortOrder: this.sortOrder,\n        sortValue: this.sortValue,\n        value: this.value\n      };\n\n      const dbKey = `${new Date().getTime()}-${crypto.randomUUID()}`;\n\n      const dbEntry = {\n        path: `sharedDBSearches/${dbKey}`,\n        value: shareObject\n      }\n\n      this.$store.dispatch('setDBValue', dbEntry);\n\n      this.sharing = false;\n      this.value = \"\";\n\n      this.$nextTick(() => {\n        this.$router.push(`/share/${this.$store.state.databaseTopKey}/${dbKey}`);\n      });\n    },\n    updateUrl () {\n      if (!this.$store.state.goHome) {\n        const queryValue = this.value ? { search: encodeURIComponent(this.value) } : undefined;\n        this.$router.replace({ query: queryValue });\n      }\n    },\n    topStructure (result) {\n      if (this.currentLogIsTVLog) {\n        return result.tvShow;\n      } else {\n        return result.movie;\n      }\n    },\n    titleCase (string) {\n      return string.replace(\n        /\\w\\S*/g,\n        function (txt) {\n          return txt.charAt(0).toUpperCase() + txt.substr(1).toLowerCase();\n        }\n      );\n    }\n  },\n}\n</script>\n\n<style lang=\"scss\">\n  .db-search-results {\n    max-width: 832px;\n\n    .search-bar {\n      max-width: 416px;\n\n      input#search {\n        border-bottom-right-radius: .375rem;\n        border-top-right-radius: .375rem;\n\n        &.has-content {\n          padding-left: 36px;\n        }\n      }\n\n      .search-types {\n        p {\n          white-space: nowrap;\n        }\n\n        .types {\n          row-gap: 6px;\n\n          span {\n            cursor: pointer;\n          }\n        }\n      }\n\n      .clear-button {\n        align-items: center;\n        cursor: pointer;\n        display: flex;\n        height: 18px;\n        justify-content: center;\n        position: absolute;\n        left: 12px;\n        top: 50%;\n        transform: translateY(-50%);\n        width: 18px;\n        z-index: 5;\n\n        svg {\n          path {\n            fill: black;\n          }\n        }\n      }\n\n      svg {\n        height: 18px;\n        width: 18px;\n      }\n    }\n\n    ul {\n      list-style: none;\n    }\n\n    .btn {\n      .spinner-border {\n        height: 18px;\n        width: 18px;\n      }\n    }\n  }\n\n  .bg-dark {\n    .db-search-results {\n      color: white;\n\n      ul {\n        .media-result {\n          border-color: white;\n        }\n      }\n    }\n  }\n</style>","<template>\n  <div class=\"charts\">\n    <KeywordCloud\n      :results=\"results\"\n      :countedKeywords=\"countedKeywords\"\n      @updateSearchValue=\"updateSearchValue\"\n    />\n    <LineChart v-if=\"results.length > 9\" class=\"chart my-5\" :chartData=\"ratingsCountData\" :options=\"ratingsCountOptions\"/>\n    <BarChart class=\"chart my-5\" :chartData=\"allRatingsData\" :options=\"allRatingsOptions\"/>\n    <BarChart v-if=\"results.length < 10\" class=\"chart my-5\" :chartData=\"ratingsCountData\" :options=\"ratingsCountOptions\"/>\n    <BarChart class=\"chart my-5\" :chartData=\"yearsData\" :options=\"yearsOptions\"/>\n    <BarChart class=\"chart my-5\" :chartData=\"highestRatingEachYearData\" :options=\"highestRatingEachYearOptions\"/>\n    <DoughnutChart class=\"chart my-5\" :chartData=\"genreChartData\" :options=\"genreChartOptions\"/>\n    <ScatterChart class=\"chart my-5\" :chartData=\"lengthVsRatingData\" :options=\"lengthVsRatingOptions\"/>\n    <DoughnutChart class=\"chart my-5\" :chartData=\"companyChartData\" :options=\"companyChartOptions\"/>\n    <RadarChart v-if=\"results.length < 10\" class=\"chart my-5\" :chartData=\"radarRatingsData\" :options=\"radarRatingsOptions\"/>\n    <Streaks v-if=\"!currentLogIsTVLog\" :resultsWithRatings=\"resultsWithRatings\" :mostRecentRating=\"mostRecentRating\"/>\n  </div>\n</template>\n\n<script>\nimport { BarChart, DoughnutChart, ScatterChart, RadarChart, LineChart } from \"vue-chart-3\";\nimport { Chart, registerables } from \"chart.js\";\nimport mean from 'lodash/mean';\nimport maxBy from 'lodash/maxBy';\nimport sortBy from 'lodash/sortBy';\nimport randomColor from 'randomcolor';\nimport Streaks from \"./Streaks.vue\";\nimport KeywordCloud from \"./KeywordCloud.vue\";\n\nChart.register(...registerables);\n\nexport default {\n  props: {\n    results: {\n      type: Array,\n      required: true\n    },\n    sortOrder: {\n      type: String,\n      required: true\n    },\n    countedKeywords: {\n      type: Object,\n      required: false,\n      default: () => {}\n    }\n  },\n  components: {\n    BarChart,\n    LineChart,\n    DoughnutChart,\n    ScatterChart,\n    RadarChart,\n    Streaks,\n    KeywordCloud\n  },\n  data () {\n    return {\n      streakThreshold: 5\n    }\n  },\n  computed: {\n    currentLogIsTVLog () {\n      return this.$store.state.currentLog === \"tvLog\";\n    },\n    resultsWithRatings () {\n      return this.results.filter((result) => this.mostRecentRating(result).rating);\n    },\n    allRatingsData () {\n      const resultsByRating = sortBy(this.resultsWithRatings, (result) => this.mostRecentRating(result).rating);\n      const labels = resultsByRating.map((result) => this.getMediaTitle(result));\n      const data = resultsByRating.map((result) => parseFloat(this.mostRecentRating(result).rating));\n\n      return {\n        labels: labels,\n        datasets: [\n          {\n            data: data,\n            backgroundColor: [randomColor(), randomColor(), randomColor(), randomColor()],\n          }\n        ]\n      }\n    },\n    allRatingsOptions () {\n      return {\n        plugins: {\n          legend: {\n            display: false\n          },\n          title: {\n            display: true,\n            text: \"All Ratings\",\n          },\n        },\n        scales: {\n          x: {\n            display: false\n          }\n        }\n      }\n    },\n    ratingsCountData () {\n      const rounded = this.resultsWithRatings.map((result) => {\n        const rounded = Math.round((parseFloat(this.mostRecentRating(result).rating)) * 2) / 2;\n        if (isNaN(rounded)) {\n          return 0;\n        } else {\n          return rounded;\n        }\n      });\n\n      const counts = {\n        1: 0,\n        1.5: 0,\n        2: 0,\n        2.5: 0,\n        3: 0,\n        3.5: 0,\n        4: 0,\n        4.5: 0,\n        5: 0,\n        5.5: 0,\n        6: 0,\n        6.5: 0,\n        7: 0,\n        7.5: 0,\n        8: 0,\n        8.5: 0,\n        9: 0,\n        9.5: 0,\n        10: 0\n      };\n      rounded.forEach((number) => {\n        if (!counts[number]) {\n          counts[number] = 1;\n        } else {\n          counts[number]++;\n        }\n      })\n\n      const countsWithLabels = Object.keys(counts).map((val) => {\n        return {\n          label: val,\n          value: counts[val]\n        }\n      }).sort((a, b) => parseFloat(a.label) - parseFloat(b.label));\n\n      const data = countsWithLabels.map((count) => count.value);\n      const labels = countsWithLabels.map((count) => count.label);\n\n      const color = randomColor();\n\n      return {\n        labels: labels,\n        datasets: [\n          {\n            data: data,\n            backgroundColor: color,\n            borderColor: color,\n            tension: 0.5\n          }\n        ]\n      }\n    },\n    ratingsCountOptions () {\n      return {\n        plugins: {\n          legend: {\n            display: false\n          },\n          title: {\n            display: true,\n            text: \"Ratings Distribution\",\n          },\n        },\n        backgroundColor: 'rgba(100, 100, 0, 1)',\n        scales: {\n          x: {\n            display: true\n          }\n        }\n      }\n    },\n    genreChartData () {\n      const genreArrays = this.results.map((result) => this.topStructure(result).genres);\n\n      const counts = {};\n\n      genreArrays.forEach((array) => {\n        if (!array) {\n          return;\n        }\n\n        array.forEach((genre) => {\n          if (counts[genre.name]) {\n            counts[genre.name]++;\n          } else {\n            counts[genre.name] = 1;\n          }\n        })\n      })\n\n      const countsWithLabels = Object.keys(counts).map((val) => {\n        return {\n          label: val,\n          value: counts[val]\n        }\n      })\n\n      const data = countsWithLabels.map((count) => count.value);\n      const labels = countsWithLabels.map((count) => count.label);\n\n      return {\n        labels: labels,\n        datasets: [\n          {\n            data: data,\n            backgroundColor: [randomColor(), randomColor(), randomColor(), randomColor(), randomColor()],\n          }\n        ]\n      }\n    },\n    genreChartOptions () {\n      return {\n        plugins: {\n          legend: {\n            display: false\n          },\n          title: {\n            display: true,\n            text: \"Genres\",\n          },\n        },\n        scales: {\n          x: {\n            display: false\n          }\n        }\n      }\n    },\n    lengthVsRatingData () {\n      const data = this.resultsWithRatings.map((result) => {\n        let runtime;\n\n        if (this.topStructure(result).runtime) {\n          runtime = this.topStructure(result).runtime;\n        } else if (this.topStructure(result).episode_run_time) {\n          runtime = this.topStructure(result).episode_run_time[0];\n        } else {\n          runtime = 0;\n        }\n\n        return {\n          x: runtime,\n          y: this.mostRecentRating(result).rating\n        }\n      }).filter((result) => result.x && result.y);\n\n      return {\n        datasets: [{\n          label: '(minutes, rating)',\n          data: data,\n          backgroundColor: randomColor(),\n          pointBorderColor: randomColor()\n        }],\n      }\n    },\n    lengthVsRatingOptions () {\n      return {\n        plugins: {\n          legend: {\n            display: false\n          },\n          title: {\n            display: true,\n            text: 'Runtime vs Rating'\n          },\n        },\n        scales: {\n          y: {\n            title: {\n              display: true,\n              text: 'Rating'\n            },\n            type: 'linear'\n          },\n          x: {\n            title: {\n              display: true,\n              text: 'Minutes'\n            },\n            type: 'linear',\n            position: 'bottom'\n          }\n        }\n      }\n    },\n    companyChartData () {\n      const companyArrays = this.results.map((result) => this.topStructure(result).production_companies);\n\n      const counts = {};\n\n      companyArrays.forEach((array) => {\n        if (!array) {\n          return;\n        }\n        array.forEach((company) => {\n          if (counts[company.name]) {\n            counts[company.name]++;\n          } else {\n            counts[company.name] = 1;\n          }\n        })\n      })\n\n      let total = 0;\n      Object.keys(counts).forEach((count) => {\n        total = total + counts[count];\n      })\n\n      const countsWithLabels = Object.keys(counts).map((val) => {\n        if (counts[val] < total * 0.005) {\n          return null;\n        }\n\n        return {\n          label: val,\n          value: counts[val]\n        }\n      }).filter((count) => count);\n\n      const data = countsWithLabels.map((count) => count.value);\n      const labels = countsWithLabels.map((count) => count.label);\n\n      return {\n        labels: labels,\n        datasets: [\n          {\n            data: data,\n            backgroundColor: [randomColor(), randomColor(), randomColor(), randomColor(), randomColor()],\n          }\n        ]\n      }\n    },\n    companyChartOptions () {\n      return {\n        plugins: {\n          legend: {\n            display: false\n          },\n          title: {\n            display: true,\n            text: \"Production Companies\",\n          },\n          subtitle: {\n            display: true,\n            text: '(with >0.5% representation)'\n          }\n        },\n        scales: {\n          x: {\n            display: false\n          }\n        }\n      }\n    },\n    radarRatingsData () {\n      const data = this.resultsWithRatings.map((result) => {\n        const rating = this.mostRecentRating(result);\n        const color = randomColor({\n          format: 'rgba',\n          alpha: 0.5\n        });\n\n        return {\n          label: this.getMediaTitle(result),\n          data: [\n            rating.direction,\n            rating.imagery,\n            rating.story,\n            rating.performance,\n            rating.soundtrack,\n            rating.impression,\n            rating.love,\n            rating.overall\n          ],\n          fill: true,\n          backgroundColor: color,\n          borderColor: randomColor({ hue: color }),\n          pointBackgroundColor: randomColor({ hue: color }),\n          pointBorderColor: '#fff',\n          pointHoverBackgroundColor: '#fff',\n          pointHoverBorderColor: randomColor({ hue: color })\n        }\n      });\n\n      return {\n        labels: [\n          \"direction\",\n          \"imagery\",\n          \"story\",\n          \"performance\",\n          \"soundtrack\",\n          \"impression\",\n          \"love\",\n          \"overall\"\n        ],\n        datasets: data\n      };\n    },\n    radarRatingsOptions () {\n      return {\n        plugins: {\n          legend: {\n            display: false\n          },\n          title: {\n            display: true,\n            text: 'Ratings'\n          },\n        },\n        elements: {\n          line: {\n            borderWidth: 3\n          }\n        }\n      };\n    },\n    yearsData () {\n      const yearsAndRatings = this.resultsWithRatings.map((result) => {\n        return {\n          year: this.getYear(result),\n          rating: this.mostRecentRating(result).rating\n        }\n      });\n\n      const years = {};\n\n      yearsAndRatings.forEach((movie) => {\n        if (!years[movie.year]) {\n          years[movie.year] = [parseFloat(movie.rating)];\n        } else {\n          years[movie.year].push(parseFloat(movie.rating));\n        }\n      });\n\n      const labels = [];\n      const data = [];\n      const backgroundColors = [];\n\n      Object.keys(years).forEach((year) => {\n        labels.push(year);\n        data.push(years[year].length);\n        backgroundColors.push(this.percentToColor(parseFloat(mean(years[year]).toFixed()) * 10));\n      });\n\n      return {\n        labels: labels,\n        datasets: [\n          {\n            data: data,\n            backgroundColor: backgroundColors,\n          }\n        ]\n      }\n    },\n    yearsOptions () {\n      return {\n        plugins: {\n          legend: {\n            display: false\n          },\n          title: {\n            display: true,\n            text: \"Years\",\n          },\n          subtitle: {\n            display: true,\n            text: \"(Warmer color means higher average rating)\"\n          }\n        }\n      };\n    },\n    highestRatingEachYearData () {\n      const yearsAndRatings = this.resultsWithRatings.map((result) => {\n        return {\n          year: this.getYear(result),\n          rating: this.mostRecentRating(result).rating,\n          title: this.getMediaTitle(result)\n        }\n      });\n\n      const years = {};\n\n      yearsAndRatings.forEach((movie) => {\n        if (!years[movie.year]) {\n          years[movie.year] = [{ rating: parseFloat(movie.rating), title: movie.title }];\n        } else {\n          years[movie.year].push({ rating: parseFloat(movie.rating), title: movie.title });\n        }\n      });\n\n      const labels = [];\n      const data = [];\n      const backgroundColors = [];\n\n      Object.keys(years).forEach((year) => {\n        const highest = maxBy(years[year], (i) => i.rating);\n\n        labels.push(`${highest.title} (${year})`);\n        data.push(highest.rating);\n        backgroundColors.push(this.percentToColor(parseFloat(highest.rating.toFixed()) * 10));\n      });\n\n      return {\n        labels: labels,\n        datasets: [\n          {\n            data: data,\n            backgroundColor: backgroundColors\n          }\n        ]\n      }\n    },\n    highestRatingEachYearOptions () {\n      return {\n        plugins: {\n          legend: {\n            display: false\n          },\n          title: {\n            display: true,\n            text: this.currentLogIsTVLog ? \"Best Show Each Year\" : \"Best Movie Each Year\",\n          }\n        },\n        scales: {\n          x: {\n            display: false\n          }\n        }\n      };\n    }\n  },\n  methods: {\n    getMediaTitle (media) {\n      if (this.currentLogIsTVLog) {\n        return media.tvShow.name;\n      } else {\n        return media.movie.title;\n      }\n    },\n    topStructure (media) {\n      if (this.currentLogIsTVLog) {\n        return media.tvShow;\n      } else {\n        return media.movie;\n      }\n    },\n    getYear (media) {\n      let date;\n      if (this.currentLogIsTVLog) {\n        date = media.tvShow.first_air_date;\n      } else {\n        date = media.movie.release_date;\n      }\n\n      return new Date(date).getFullYear();\n    },\n    mostRecentRating (media) {\n      if (this.currentLogIsTVLog) {\n        return media.ratings.tvShow;\n      } else {\n        let mostRecentRating = media.ratings[0];\n\n        media.ratings.forEach((rating) => {\n          if (!mostRecentRating.date) {\n            mostRecentRating = rating;\n          } else if (rating.date && rating.date > mostRecentRating.date) {\n            mostRecentRating = rating;\n          }\n        })\n\n        return mostRecentRating;\n      }\n    },\n    percentToColor (percent) {\n      let r = 0;\n      let g = 0;\n      const b = 0;\n      if (percent < 50) {\n        g = 255;\n        r = Math.round(5.1 * percent);\n      } else {\n        r = 255;\n        g = Math.round(510 - 5.10 * percent);\n      }\n      const h = r * 0x10000 + g * 0x100 + b * 0x1;\n      return '#' + ('000000' + h.toString(16)).slice(-6);\n    },\n    updateSearchValue (searchObject) {\n      this.$emit('updateSearchValue', searchObject);\n    }\n  }\n}\n</script>\n\n<style lang=\"scss\">\n\n</style>","<template>\n  <div class=\"streaks p-2 mb-4 border\">\n    <div class=\"slider position-relative\">\n      <label for=\"streak-threshold-input\" class=\"form-label\">Minimum score for streaks: {{streakThreshold}}</label>\n      <input type=\"range\" class=\"form-range\" min=\"0\" max=\"10\" step=\"0.5\" id=\"streak-threshold-input\" v-model=\"streakThreshold\">\n    </div>\n    <div v-if=\"longestStreakByDays\" class=\"longest-streak-days chart mt-2 mb-3 border border-2 rounded-1 shadow-sm p-3\">\n      <h5 class=\"mb-4\">Consecutive days of {{streakThreshold}}+ ratings</h5>\n      <p>{{longestStreakByDays.startDate.toLocaleDateString()}} - {{longestStreakByDays.endDate.toLocaleDateString()}}</p>\n      <p>That's {{longestStreakByDays.duration}} days.</p>\n      <p>Every movie from \"{{longestStreakByDays.titles[0]}}\" through \"{{longestStreakByDays.titles[longestStreakByDays.titles.length - 1]}}\".</p>\n      <p>And then \"{{longestStreakByDays.streakBreaker}}\" came along and blew it.</p>\n    </div>\n    <div v-if=\"longestStreakByMovies\" class=\"longest-streak-movies chart my-3 border border-2 rounded-1 shadow-sm p-3\">\n      <h5 class=\"mb-4\">Consecutive movies at {{streakThreshold}} or more</h5>\n      <p>{{longestStreakByMovies.titles.length}} movies in a row.</p>\n      <p>From {{longestStreakByMovies.startDate.toLocaleDateString()}} to {{longestStreakByMovies.endDate.toLocaleDateString()}}</p>\n      <p>\n        <span v-for=\"(movie, index) in longestStreakByMovies.titles\" :key=\"index\">\n          <span v-if=\"index === longestStreakByMovies.titles.length - 1\">and </span>\"{{movie}}\"<span v-if=\"index !== longestStreakByMovies.titles.length - 1\">, </span>\n        </span>\n      </p>\n      <p>And then \"{{longestStreakByMovies.streakBreaker}}\" came along and ruined everything.</p>\n    </div>\n  </div>\n</template>\n\n<script>\nimport maxBy from 'lodash/maxBy';\nimport sortBy from 'lodash/sortBy';\n\nexport default {\n  props: {\n    resultsWithRatings: {\n      type: Array,\n      required: true\n    },\n    mostRecentRating: {\n      type: Function,\n      required: true\n    }\n  },\n  data () {\n    return {\n      streakThreshold: 8\n    }\n  },\n  computed: {\n    streaks () {\n      const ratingsAndReleases = [...this.resultsWithRatings].map((result) => {\n        return {\n          title: result.movie.title,\n          releaseDate: new Date(result.movie.release_date),\n          rating: parseFloat(this.mostRecentRating(result).rating)\n        }\n      });\n\n      const sortedByDate = sortBy(ratingsAndReleases, (result) => result.releaseDate);\n\n      const streaks = [];\n      let scratch = {};\n\n      sortedByDate.forEach((movie) => {\n        if (!scratch.titles && movie.rating > this.streakThreshold) {\n          scratch.titles = [movie.title];\n          scratch.startDate = movie.releaseDate;\n        } else if (movie.rating > this.streakThreshold) {\n          scratch.titles.push(movie.title);\n          scratch.endDate = movie.releaseDate;\n        } else if (scratch.endDate) {\n          scratch.streakBreaker = movie.title;\n          scratch.endDate = movie.releaseDate;\n          scratch.duration = this.daysBetweenDates(scratch.startDate, scratch.endDate) - 1;\n          streaks.push({ ...scratch });\n          scratch = {};\n        } else {\n          scratch = {};\n        }\n      });\n\n      return streaks;\n    },\n    longestStreakByDays () {\n      return maxBy(this.streaks, (streak) => streak.duration);\n    },\n    longestStreakByMovies () {\n      return maxBy(this.streaks, (streak) => streak.titles.length);\n    }\n  },\n  methods: {\n    daysBetweenDates (dateA, dateB) {\n      const oneDay = 24 * 60 * 60 * 1000; // hours*minutes*seconds*milliseconds\n      const firstDate = dateA;\n      const secondDate = dateB;\n\n      return Math.round(Math.abs((firstDate - secondDate) / oneDay));\n    }\n  },\n}\n</script>\n\n<style>\n\n</style>","import { render } from \"./Streaks.vue?vue&type=template&id=1134cd67\"\nimport script from \"./Streaks.vue?vue&type=script&lang=js\"\nexport * from \"./Streaks.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"/Users/mjg/code/movie-log/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<template>\n  <div v-if=\"keywordsForCloud.length > 1\" class=\"keywords\">\n    <div class=\"keywords-header d-flex align-items-center justify-content-center py-2\">\n      <button\n        class=\"keyword-style-toggle btn btn-sm btn-light\"\n        type=\"button\"\n        @click=\"showKeywordCloud = !showKeywordCloud\"\n      >\n        <span v-if=\"showKeywordCloud\">\n          <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"16\" height=\"16\" fill=\"currentColor\" class=\"bi bi-columns-gap\" viewBox=\"0 0 16 16\">\n            <path d=\"M6 1v3H1V1zM1 0a1 1 0 0 0-1 1v3a1 1 0 0 0 1 1h5a1 1 0 0 0 1-1V1a1 1 0 0 0-1-1zm14 12v3h-5v-3zm-5-1a1 1 0 0 0-1 1v3a1 1 0 0 0 1 1h5a1 1 0 0 0 1-1v-3a1 1 0 0 0-1-1zM6 8v7H1V8zM1 7a1 1 0 0 0-1 1v7a1 1 0 0 0 1 1h5a1 1 0 0 0 1-1V8a1 1 0 0 0-1-1zm14-6v7h-5V1zm-5-1a1 1 0 0 0-1 1v7a1 1 0 0 0 1 1h5a1 1 0 0 0 1-1V1a1 1 0 0 0-1-1z\"/>\n          </svg>\n        </span>\n        <span v-else>\n          <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"16\" height=\"16\" fill=\"currentColor\" class=\"bi bi-cloud\" viewBox=\"0 0 16 16\">\n            <path d=\"M4.406 3.342A5.53 5.53 0 0 1 8 2c2.69 0 4.923 2 5.166 4.579C14.758 6.804 16 8.137 16 9.773 16 11.569 14.502 13 12.687 13H3.781C1.708 13 0 11.366 0 9.318c0-1.763 1.266-3.223 2.942-3.593.143-.863.698-1.723 1.464-2.383m.653.757c-.757.653-1.153 1.44-1.153 2.056v.448l-.445.049C2.064 6.805 1 7.952 1 9.318 1 10.785 2.23 12 3.781 12h8.906C13.98 12 15 10.988 15 9.773c0-1.216-1.02-2.228-2.313-2.228h-.5v-.5C12.188 4.825 10.328 3 8 3a4.53 4.53 0 0 0-2.941 1.1z\"/>\n          </svg>\n        </span>\n      </button>\n      <div class=\"keyword-threshold d-flex align-items-center col-10\">\n        <label for=\"customRange1\" class=\"form-label col-2 d-flex justify-content-end align-items-center px-2 my-0\">{{ threseholdRange }}%</label>\n        <input type=\"range\" class=\"form-range col-10\" style=\"width: 83.33333333%\" id=\"customRange1\" min=\"0\" :max=\"maxKeywordPercentage\" v-model=\"threseholdRange\">\n      </div>\n    </div>\n    <vueWordCloud\n      v-if=\"showKeywordCloud\"\n      class=\"word-cloud\"\n      :words=\"keywordsForCloud\"\n      :color=\"wordCLoudColors\"\n      :rotation=\"wordCloudRotation\"\n      spacing=\"1\"\n      font-size-ratio=\"4\"\n      font-family=\"Roboto Condensed\"\n      @click=\"handleKeywordClick\"\n    />\n    <div v-else class=\"d-flex flex-wrap\">\n      <div v-for=\"(keyword, index) in keywordsForCloud\" :key=\"index\">\n        <span class=\"badge mx-1 text-bg-secondary\">\n          <span @click=\"handleKeywordClick\">{{ keyword[0] }}</span>\n          <span>&nbsp;({{ Math.floor((keyword[1] / this.results.length) * 100) }}%)</span>\n        </span>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport randomColor from 'randomcolor';\nimport VueWordCloud from 'vuewordcloud';\n\nexport default {\n  props: {\n    results: {\n      type: Array,\n      required: true\n    },\n    countedKeywords: {\n      type: Object,\n      required: false,\n      default: () => {}\n    }\n  },\n  components: {\n    VueWordCloud\n  },\n  data () {\n    return {\n      showKeywordCloud: true,\n      threseholdRange: 3\n    }\n  },\n  computed: {\n    keywordsForCloud () {\n      const percentofMedia = Math.round(this.results.length * (this.threseholdRange / 100));\n\n      const keywords = Object.keys(this.countedKeywords).map((keyword) => {\n        return [keyword, this.countedKeywords[keyword]];\n      }).filter((keyword) => keyword[1] > percentofMedia).sort((a, b) => b[1] - a[1]);\n\n      return keywords;\n    },\n    maxKeywordPercentage () {\n      const keywords = Object.keys(this.countedKeywords).map((keyword) => {\n        return [keyword, this.countedKeywords[keyword]];\n      }).sort((a, b) => b[1] - a[1]);\n\n      return Math.floor((keywords[1][1] / this.results.length) * 100);\n    }\n  },\n  methods: {\n    handleKeywordClick (event) {\n      this.searchFor('keyword', event.target.innerText);\n    },\n    searchFor (searchType, term) {\n      this.updateSearchValue(searchType, term);\n\n      window.scroll({\n        top: top,\n        behavior: 'smooth'\n      })\n    },\n    updateSearchValue (searchType, value) {\n      const searchObject = {\n        searchType: searchType,\n        value: value\n      }\n      this.$emit('updateSearchValue', searchObject);\n    },\n    wordCLoudColors (word) {\n      const brightness = document.querySelector(\"body\").classList.contains(\"bg-light\") ? \"dark\" : \"light\";\n\n      return [\n        randomColor({ luminosity: brightness }),\n        randomColor({ luminosity: brightness }),\n        randomColor({ luminosity: brightness }),\n        randomColor({ luminosity: brightness })\n      ];\n    },\n    wordCloudRotation (word) {\n      const index = Math.round(Math.random());\n      return [0, 3 / 4][index];\n    }\n  },\n};\n</script>\n\n<style lang=\"scss\">\n.keywords {\n  .word-cloud {\n    height: 250px !important;\n    pointer-events: none;\n    width: 100% !important;\n\n    transition {\n      div {\n        cursor: pointer;\n        pointer-events: all;\n      }\n    }\n  }\n\n  .badge {\n    cursor: pointer;\n  }\n}\n</style>","import { render } from \"./KeywordCloud.vue?vue&type=template&id=6fe86b52\"\nimport script from \"./KeywordCloud.vue?vue&type=script&lang=js\"\nexport * from \"./KeywordCloud.vue?vue&type=script&lang=js\"\n\nimport \"./KeywordCloud.vue?vue&type=style&index=0&id=6fe86b52&lang=scss\"\n\nimport exportComponent from \"/Users/mjg/code/movie-log/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { render } from \"./Charts.vue?vue&type=template&id=65b0dc3c\"\nimport script from \"./Charts.vue?vue&type=script&lang=js\"\nexport * from \"./Charts.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"/Users/mjg/code/movie-log/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<template>\n  <li\n    class=\"media-result py-3 px-1 my-3 d-flex flex-wrap align-items-center shadow-lg\"\n    @click=\"showInfo(`Info-${this.topStructure(result).id}`)\"\n  >\n    <label class=\"number col-1 text-center\">\n      {{index + 1}}\n    </label>\n    <div class=\"poster col-2\">\n      <img\n        class=\"col-12\"\n        @click.stop=\"goToWikipedia(result)\"\n        v-lazy=\"`https://image.tmdb.org/t/p/original${topStructure(result).poster_path}`\"\n      >\n    </div>\n    <div class=\"details px-4 col-7\">\n      <p class=\"title mb-1\">\n        <span v-if=\"currentLogIsTVLog\" class=\"fs-4\">\n          {{result.tvShow.name}}\n        </span>\n        <span v-else class=\"fs-4\">\n          {{result.movie.title}}\n        </span>\n        <a class=\"link mx-2\" @click.stop=\"searchFor('year', `${getYear(result)}`)\">({{getYear(result)}})</a>\n      </p>\n      <p class=\"etc m-0 d-flex flex-wrap\">\n        <span v-if=\"currentLogIsTVLog\" class=\"col-12\">{{tvNetwork(result)}}</span>\n        <span v-else class=\"col-12\">{{prettifyRuntime(result)}}</span>\n        <span class=\"col-12\">\n          <a\n            v-for=\"(genre, index) in topStructure(result).genres\"\n            :key=\"index\"\n            class=\"link\"\n            @click.stop=\"searchFor('genre', genre.name)\"\n          >\n            {{genre.name}}<span v-if=\"index !== topStructure(result).genres.length - 1\">&nbsp;</span>\n          </a>\n        </span>\n        <span class=\"col-12\">\n          <span v-if=\"currentLogIsTVLog && result.tvShow.created_by\">\n            <a\n              v-for=\"(person, index) in result.tvShow.created_by\"\n              :key=\"index\"\n              class=\"link\"\n              @click.stop=\"searchFor('cast/crew', `\\'${person.name}\\'`)\"\n            >\n              {{person.name}}<span v-if=\"index !== result.tvShow.created_by.length - 1\">&nbsp;</span>\n            </a>\n          </span>\n          <a v-if=\"!currentLogIsTVLog\" class=\"link\" @click.stop=\"searchFor('director', `\\'${getCrewMember(result.movie.crew, 'Director', 'strict')}\\'`)\">\n            {{getCrewMember(result.movie.crew, 'Director', 'strict')}}\n          </a>\n        </span>\n      </p>\n    </div>\n    <div class=\"rating col-2 d-flex justify-content-center flex-wrap\">\n      <p class=\"col-12 m-0 fs-3 text-center\">{{parseFloat(mostRecentRating(result).rating).toFixed(2)}}</p>\n    </div>\n    <div v-if=\"currentLogIsTVLog\" @click.stop=\"rateTVShow(result.tvShow)\" class=\"rerate-button\">\n      <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"16\" height=\"16\" fill=\"currentColor\" class=\"bi bi-plus-square-fill shadow-sm\" viewBox=\"0 0 16 16\">\n        <path d=\"M2 0a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V2a2 2 0 0 0-2-2H2zm6.5 4.5v3h3a.5.5 0 0 1 0 1h-3v3a.5.5 0 0 1-1 0v-3h-3a.5.5 0 0 1 0-1h3v-3a.5.5 0 0 1 1 0z\"/>\n      </svg>\n    </div>\n\n    <div :id=\"`Info-${topStructure(result).id}`\" class=\"full-info ps-3 hidden\">\n      <hr class=\"my-4\">\n      <h3 class=\"mt-3 mb-2 fs-5\">Full Rating</h3>\n      <p class=\"rating-categories m-3\">\n        <span>Direction: {{mostRecentRating(result).direction}},&nbsp;</span>\n        <span>Imagery: {{mostRecentRating(result).imagery}},&nbsp;</span>\n        <span>Story: {{mostRecentRating(result).story}},&nbsp;</span>\n        <span>Performance: {{mostRecentRating(result).performance}},&nbsp;</span>\n        <span>Soundtrack: {{mostRecentRating(result).soundtrack}},&nbsp;</span>\n        <span>Impression: {{mostRecentRating(result).impression}},&nbsp;</span>\n        <span>Love: {{mostRecentRating(result).love}},&nbsp;</span>\n        <span>Overall: {{mostRecentRating(result).overall}}</span>\n      </p>\n\n      <hr>\n\n      <h3 class=\"mt-3 mb-2 fs-5\">Production Companies</h3>\n      <p class=\"m-3\">{{turnArrayIntoList(topStructure(result).production_companies, \"name\")}}</p>\n\n      <hr>\n\n      <h3 class=\"mt-3 mb-2 fs-5\">Producer(s)</h3>\n      <p class=\"m-3\">{{getCrewMember(topStructure(result).crew, \"Producer\")}}</p>\n\n      <hr>\n\n      <h3 class=\"mt-3 mb-2 fs-5\">Writer(s)</h3>\n      <p class=\"m-3\" v-if='getCrewMember(topStructure(result).crew, \"Writer\")'>{{getCrewMember(topStructure(result).crew, \"Writer\")}} (Writer)</p>\n      <p class=\"m-3\" v-if='getCrewMember(topStructure(result).crew, \"Screenplay\")'>{{getCrewMember(topStructure(result).crew, \"Screenplay\")}} (Screenplay)</p>\n      <p class=\"m-3\" v-if='getCrewMember(topStructure(result).crew, \"Story\")'>{{getCrewMember(topStructure(result).crew, \"Story\")}} (Story)</p>\n      <p class=\"m-3\" v-if='getCrewMember(topStructure(result).crew, \"Novel\")'>{{getCrewMember(topStructure(result).crew, \"Novel\")}} (Novel)</p>\n\n      <hr>\n\n      <h3 class=\"mt-3 mb-2 fs-5\">Actors</h3>\n      <div class=\"actors\">\n        <p class=\"m-3\">{{turnArrayIntoList(topStructure(result).cast, \"name\")}}</p>\n      </div>\n\n      <hr>\n\n      <h3 class=\"mt-3 mb-2 fs-5\">Composer(s)</h3>\n      <p class=\"m-3\">{{getCrewMember(topStructure(result).crew, \"Composer\")}}</p>\n\n      <hr>\n\n      <h3 class=\"mt-3 mb-2 fs-5\">Editor(s)</h3>\n      <p class=\"m-3\">{{getCrewMember(topStructure(result).crew, \"Editor\", \"strict\")}}</p>\n\n      <hr>\n\n      <h3 class=\"mt-3 mb-2 fs-5\">Cinematographer(s)</h3>\n      <p class=\"m-3\">{{getCrewMember(topStructure(result).crew, \"Photo\")}}</p>\n\n      <hr v-if='turnArrayIntoList(topStructure(result).tags, \"title\")'>\n\n      <h3 class=\"mt-3 mb-2 fs-5\" v-if='turnArrayIntoList(topStructure(result).tags, \"title\")'>Tags</h3>\n      <p class=\"m-3\" v-if='turnArrayIntoList(topStructure(result).tags, \"title\")'>{{turnArrayIntoList(topStructure(result).tags, \"title\")}}</p>\n\n      <hr v-if=\"turnArrayIntoList(result.awards?.oscarWins).length || turnArrayIntoList(result.awards?.oscarNoms).length\">\n\n      <h3 class=\"mt-3 mb-2 fs-5\" v-if=\"turnArrayIntoList(result.awards?.oscarWins).length || turnArrayIntoList(result.awards?.oscarNoms).length\">Academy Awards</h3>\n      <div class=\"awards m-3\">\n        <p v-if=\"turnArrayIntoList(result.awards?.oscarWins).length\">Won: {{turnArrayIntoList(result.awards?.oscarWins)}}</p>\n        <p v-if=\"turnArrayIntoList(result.awards?.oscarNoms).length\">Nominated: {{turnArrayIntoList(result.awards?.oscarNoms)}}</p>\n      </div>\n\n      <hr>\n\n      <h3 v-if=\"currentLogIsTVLog\" class=\"mt-3 mb-2 fs-5\">Ratings Chart</h3>\n      <EpisodeRatingsChart v-if=\"currentLogIsTVLog && openEpisodes.includes(`Info-${this.topStructure(result).id}`)\" :tvShow=\"result\"/>\n\n      <hr>\n\n      <h3 class=\"mt-3 mb-2 fs-5\">Viewings</h3>\n      <div\n        v-for=\"(rating, index) in result.ratings\"\n        :key=\"index\"\n        class=\"viewing-wrapper\"\n      >\n        <p class=\"d-flex flex-wrap justify-content-between m-3\">\n          <span class=\"medium-and-date col-10\">\n            <span>{{rating.medium}}</span>\n            <span v-if=\"rating.medium && rating.date\">&nbsp;on&nbsp;</span>\n            <span v-else-if=\"rating.date\">&nbsp;On</span>\n            <span>{{formattedDate(rating.date)}}</span>\n          </span>\n          <span class=\"col-2\">\n            <span>{{rating.rating}}</span>\n          </span>\n          <span class=\"col-12 mx-4\">\n            <span class=\"ratings-tags\" v-if=\"rating.tags\">{{ turnArrayIntoList(rating.tags, \"title\") }}</span>\n          </span>\n        </p>\n        <hr v-if=\"index !== result.ratings.length - 1\" >\n      </div>\n    </div>\n  </li>\n</template>\n\n<script>\nimport axios from 'axios';\nimport ordinal from \"ordinal-js\";\nimport minBy from 'lodash/minBy';\nimport EpisodeRatingsChart from './EpisodeRatingsChart.vue';\n\nexport default {\n  props: {\n    result: {\n      type: Object,\n      required: true\n    },\n    index: {\n      type: Number,\n      required: true\n    }\n  },\n  data () {\n    return {\n      openEpisodes: []\n    }\n  },\n  components: {\n    EpisodeRatingsChart\n  },\n  computed: {\n    currentLogIsTVLog () {\n      return this.$store.state.currentLog === \"tvLog\";\n    }\n  },\n  methods: {\n    updateSearchValue (searchType, value) {\n      this.$emit('updateSearchValue', { searchType: searchType, value });\n    },\n    topStructure (result) {\n      if (this.currentLogIsTVLog) {\n        return result.tvShow;\n      } else {\n        return result.movie;\n      }\n    },\n    showInfo (id) {\n      const x = document.getElementById(id);\n\n      if (!x) {\n        return;\n      }\n\n      if (x.classList.contains(\"hidden\")) {\n        x.classList.remove(\"hidden\");\n        x.classList.add(\"shown\");\n        this.openEpisodes.push(id);\n      } else {\n        x.classList.add(\"hidden\");\n        x.classList.remove(\"shown\");\n        this.openEpisodes = this.openEpisodes.filter((episode) => episode !== id);\n      }\n    },\n    async goToWikipedia (result) {\n      let title;\n      if (this.currentLogIsTVLog) {\n        title = result.tvShow.name;\n      } else {\n        title = result.movie.title;\n      }\n\n      window.open(await this.wikiLinkFor(title));\n    },\n    async wikiLinkFor (title) {\n      const wiki = await axios.get(`https://en.wikipedia.org/w/api.php?action=query&origin=*&format=json&generator=search&gsrnamespace=0&gsrlimit=5&gsrsearch=%27${title}%27`);\n      const pages = wiki.data.query.pages;\n      const pagesArray = Object.keys(pages).map((page) => pages[page]);\n      const bestMatch = minBy(pagesArray, (page) => page.index);\n\n      return `https://en.wikipedia.org/w/index.php?curid=${bestMatch.pageid}`;\n    },\n    searchFor (searchType, term) {\n      this.updateSearchValue(searchType, term);\n\n      window.scroll({\n        top: top,\n        behavior: 'smooth'\n      })\n    },\n    getYear (media) {\n      let date;\n      if (this.currentLogIsTVLog) {\n        date = media.tvShow.first_air_date;\n      } else {\n        date = media.movie.release_date;\n      }\n\n      return new Date(date).getFullYear();\n    },\n    tvNetwork (result) {\n      const networkName = result.tvShow.networks ? result.tvShow.networks[0].name : false;\n\n      if (networkName) {\n        return networkName;\n      } else {\n        return \"\";\n      }\n    },\n    prettifyRuntime (result) {\n      let minutes;\n      if (this.currentLogIsTVLog && result.tvShow.episode_run_time) {\n        minutes = result.tvShow.episode_run_time[0];\n      } else if (this.currentLogIsTVLog) {\n        minutes = 0;\n      } else {\n        minutes = result.movie.runtime;\n      }\n      return `${Math.floor(minutes / 60)}h ${minutes % 60}m`\n    },\n    turnArrayIntoList (array, key) {\n      if (!array) {\n        return \"\"\n      }\n\n      let arr = [...array];\n\n      if (arr[0][key] && !key) {\n        return \"\";\n      }\n\n      if (key && arr[0][key]) {\n        arr = arr.map((el) => el[key]);\n      }\n\n      if (arr.length > 1) {\n        return arr.join(\", \");\n      } else {\n        return arr[0];\n      }\n    },\n    getCrewMember (crew, title, strict) {\n      if (!crew) {\n        return \"\";\n      }\n\n      let matches;\n      if (strict) {\n        matches = crew.filter((crew) => crew.job === title);\n      } else {\n        matches = crew.filter((crew) => crew.job.includes(title));\n      }\n\n      const names = matches.map((match) => match.name);\n\n      if (!names.length) {\n        return \"\";\n      } else if (names.length > 1) {\n        return names.join(\", \");\n      } else {\n        return names[0];\n      }\n    },\n    mostRecentRating (media) {\n      if (this.currentLogIsTVLog) {\n        return media.ratings.tvShow;\n      } else {\n        let mostRecentRating = media.ratings[0];\n\n        media.ratings.forEach((rating) => {\n          const ratingDate = rating.date ? new Date(rating.date).getTime() : 0;\n          const mostRecentRatingDate = mostRecentRating.date ? new Date(mostRecentRating.date).getTime() : 0;\n\n          if (!mostRecentRating.date) {\n            mostRecentRating = rating;\n          } else if (ratingDate && ratingDate > mostRecentRatingDate) {\n            mostRecentRating = rating;\n          }\n        })\n\n        return mostRecentRating;\n      }\n    },\n    getOrdinal (number) {\n      return ordinal.toOrdinal(number);\n    },\n    rateTVShow (tvShow) {\n      this.$store.commit('setTVShowToRate', tvShow);\n\n      window.scroll({\n        top: top,\n        behavior: 'smooth'\n      })\n\n      this.$router.push('/rate-tv-show');\n    },\n    formattedDate (date) {\n      return new Date(date).toLocaleDateString();\n    }\n  }\n};\n</script>\n\n<style lang=\"scss\">\n  .media-result {\n    border: 1px solid black;\n    cursor: pointer;\n    overflow: hidden;\n    position: relative;\n\n    .details {\n      .etc {\n        font-size: 0.75rem;\n\n        span {\n          margin-right: 0.5rem;\n        }\n      }\n    }\n\n    .rating {\n      .rank {\n        font-size: 0.65rem;\n      }\n    }\n\n    .rerate-button {\n      align-items: center;\n      display: flex;\n      height: 30px;\n      justify-content: center;\n      padding: 6px;\n      position: absolute;\n      right: 0;\n      top: 0;\n      width: 30px;\n\n      svg {\n        width: 18px;\n        height: 18px;\n\n        path {\n          fill: #316cf4;\n        }\n      }\n    }\n\n    .full-info {\n      overflow: hidden;\n\n      &.hidden {\n        max-height: 0;\n        transition: max-height 0.5s ease-in-out;\n      }\n\n      &.shown {\n        max-height: 6000px;\n        transition: max-height 0.5s ease-in-out;\n      }\n\n      .rating-categories {\n        display: flex;\n        flex-wrap: wrap;\n\n        span {\n          white-space: nowrap;\n        }\n      }\n\n      .ratings-tags {\n        color: #a7a7a7;\n        font-size: 0.75rem;\n        padding-left: 3px;\n      }\n\n      .actors {\n        p {\n          max-height: 100px;\n          overflow-y: scroll;\n        }\n      }\n    }\n  }\n</style>","<template>\n  <LineChart class=\"chart my-5\" :chartData=\"episodeRatingsData\" :options=\"episodeRatingsOptions\"/>\n</template>\n\n<script>\nimport { LineChart } from \"vue-chart-3\";\nimport { Chart, registerables } from \"chart.js\";\nimport randomColor from 'randomcolor';\nimport axios from 'axios';\n\nChart.register(...registerables);\n\nexport default {\n  props: {\n    tvShow: {\n      type: Object,\n      required: true,\n    },\n  },\n  data () {\n    return {\n      loading: true,\n      seasonsAndEpisodes: [],\n    }\n  },\n  components: {\n    LineChart\n  },\n  async mounted () {\n    this.seasonsAndEpisodes = await this.getSeasonsAndEpisodes();\n\n    this.loading = false;\n  },\n  computed: {\n    ratings () {\n      return this.tvShow.ratings.episodes;\n    },\n    labels () {\n      const labels = [];\n\n      this.seasonsAndEpisodes.forEach((season) => {\n        if (season.seasonNumber === 0) {\n          return;\n        }\n\n        for (let i = 1; i <= season.episodeCount; i++) {\n          labels.push(`${season.seasonNumber}x${i}`);\n        }\n      });\n\n      return labels;\n    },\n    data () {\n      const data = [];\n\n      this.labels.forEach((label) => {\n        const rating = this.ratings.find((rating) => {\n          const ratingKey = `${rating.episode.season_number}x${rating.episode.episode_number}`;\n          return label === ratingKey;\n        });\n\n        if (rating) {\n          data.push(parseFloat(rating.rating));\n        } else {\n          data.push(0);\n        }\n      });\n\n      return data;\n    },\n    episodeRatingsData () {\n      const color = randomColor();\n\n      return {\n        labels: this.labels,\n        datasets: [\n          {\n            data: this.data,\n            backgroundColor: color,\n            borderColor: color,\n            tension: 0,\n            radius: 0,\n            fill: 'origin'\n          }\n        ]\n      }\n    },\n    episodeRatingsOptions () {\n      return {\n        plugins: {\n          legend: {\n            display: false\n          },\n          title: {\n            display: true,\n            text: \"Ratings Distribution\",\n          },\n        },\n        backgroundColor: 'rgba(100, 100, 0, 1)',\n        scales: {\n          x: {\n            display: true\n          }\n        }\n      }\n    },\n  },\n  methods: {\n    async getSeasonsAndEpisodes () {\n      const seasons = await axios.get(`https://api.themoviedb.org/3/tv/${this.tvShow.tvShow.id}?api_key=${process.env.VUE_APP_TMDB_API_KEY}&language=en-US`);\n\n      return seasons.data.seasons.map((season) => {\n        return {\n          seasonName: season.name,\n          seasonId: season.id,\n          seasonNumber: season.season_number,\n          episodeCount: season.episode_count\n        }\n      });\n    }\n  },\n};\n</script>\n\n<style lang=\"scss\">\n\n</style>","import { render } from \"./EpisodeRatingsChart.vue?vue&type=template&id=341d59dc\"\nimport script from \"./EpisodeRatingsChart.vue?vue&type=script&lang=js\"\nexport * from \"./EpisodeRatingsChart.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"/Users/mjg/code/movie-log/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { render } from \"./DBSearchResult.vue?vue&type=template&id=daa65780\"\nimport script from \"./DBSearchResult.vue?vue&type=script&lang=js\"\nexport * from \"./DBSearchResult.vue?vue&type=script&lang=js\"\n\nimport \"./DBSearchResult.vue?vue&type=style&index=0&id=daa65780&lang=scss\"\n\nimport exportComponent from \"/Users/mjg/code/movie-log/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { render } from \"./DBSearchResults.vue?vue&type=template&id=570ae5ea\"\nimport script from \"./DBSearchResults.vue?vue&type=script&lang=js\"\nexport * from \"./DBSearchResults.vue?vue&type=script&lang=js\"\n\nimport \"./DBSearchResults.vue?vue&type=style&index=0&id=570ae5ea&lang=scss\"\n\nimport exportComponent from \"/Users/mjg/code/movie-log/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<template>\n  <div\n    class=\"settings bg-secondary text-light\"\n  >\n    <div class=\"p-3\">\n      <div class=\"p-1 border-white border\">\n        <p class=\"m-0 text-center fs-5\">:: {{$store.state.databaseTopKey}} ::</p>\n      </div>\n      <div class=\"dev-mode mt-3 p-3 border border-white\">\n        <div class=\"form-check form-switch m-0 d-flex justify-content-center\">\n          <input class=\"form-check-input\" type=\"checkbox\" role=\"switch\" id=\"devMode\" v-model=\"devMode\">\n          <label class=\"form-check-label ml-3\" for=\"devMode\">Dev Mode</label>\n        </div>\n      </div>\n      <div class=\"tv-log-switch mt-3 p-3 border border-white\">\n        <button class=\"btn btn-primary col-12\" @click=\"toggleMovieTV\">Switch to\n          <span v-if=\"currentLog === 'tvLog'\">Movie Log</span>\n          <span v-if=\"currentLog === 'movieLog'\">TV Log</span>\n        </button>\n      </div>\n      <div class=\"tags viewing-tags p-3 border border-white mt-3\">\n        <p class=\"col-12\">Viewing Specific Tags</p>\n        <ul class=\"col-12\">\n          <li class=\"tag mb-2 col-6 dflex align-items-center\" v-for=\"(tag, index) in viewingTags\" :key=\"index\">\n            <span class=\"badge col-12 rounded-pill text-bg-light\" @click=\"showRemoveButton($event)\">\n              {{ tag.title }}\n              <span class=\"remove-button\" @click.prevent=\"removeViewingTag(index)\">\n                <svg xmlns=\"http://www.w3.org/2000/svg\" fill=\"currentColor\" class=\"bi bi-x-circle-fill text-light\" viewBox=\"0 0 16 16\">\n                  <path d=\"M16 8A8 8 0 1 1 0 8a8 8 0 0 1 16 0zM5.354 4.646a.5.5 0 1 0-.708.708L7.293 8l-2.647 2.646a.5.5 0 0 0 .708.708L8 8.707l2.646 2.647a.5.5 0 0 0 .708-.708L8.707 8l2.647-2.646a.5.5 0 0 0-.708-.708L8 7.293 5.354 4.646z\"/>\n                </svg>\n              </span>\n            </span>\n          </li>\n        </ul>\n        <div class=\"new-tag col-6 mt-4\">\n          <div class=\"input-group\">\n            <input type=\"text\" class=\"form-control\" placeholder=\"new tag\" v-model=\"newViewingTagTitle\" @keyup.enter=\"addViewingTag\">\n            <button class=\"btn btn-dark\" type=\"button\" @click=\"addViewingTag\">\n              add\n            </button>\n          </div>\n        </div>\n      </div>\n      <div class=\"tags movie-tags p-3 border border-white mt-3\">\n        <p class=\"col-12\">Movie Specific Tags</p>\n        <ul class=\"col-12\">\n          <li class=\"tag mb-2 col-6 dflex align-items-center\" v-for=\"(tag, index) in movieTags\" :key=\"index\">\n            <span class=\"badge col-12 rounded-pill text-bg-light\" @click=\"showRemoveButton($event)\">\n              {{ tag.title }}\n              <span class=\"remove-button\" @click.prevent=\"removeMovieTag(index)\">\n                <svg xmlns=\"http://www.w3.org/2000/svg\" fill=\"currentColor\" class=\"bi bi-x-circle-fill text-light\" viewBox=\"0 0 16 16\">\n                  <path d=\"M16 8A8 8 0 1 1 0 8a8 8 0 0 1 16 0zM5.354 4.646a.5.5 0 1 0-.708.708L7.293 8l-2.647 2.646a.5.5 0 0 0 .708.708L8 8.707l2.646 2.647a.5.5 0 0 0 .708-.708L8.707 8l2.647-2.646a.5.5 0 0 0-.708-.708L8 7.293 5.354 4.646z\"/>\n                </svg>\n              </span>\n            </span>\n          </li>\n        </ul>\n        <div class=\"new-tag col-6 mt-4\">\n          <div class=\"input-group\">\n            <input type=\"text\" class=\"form-control\" placeholder=\"new tag\" v-model=\"newMovieTagTitle\" @keyup.enter=\"addMovieTag\">\n            <button class=\"btn btn-dark\" type=\"button\" @click=\"addMovieTag\">\n              add\n            </button>\n          </div>\n        </div>\n      </div>\n      <div class=\"weights col-12 p-3 border-white border mt-3\">\n        <table class=\"table text-light\">\n          <thead>\n            <tr>\n              <th>Category</th>\n              <th>Weight</th>\n              <th>Share</th>\n            </tr>\n          </thead>\n          <tbody>\n            <tr v-for=\"(weight, index) in weights\" :key=\"index\">\n              <td>{{weight.name}}</td>\n              <td class=\"d-flex align-items-center\">\n                <span>\n                  {{weight.weight}}\n                </span>\n                <div class=\"input-group\">\n                  <input type=\"text\" class=\"form-control\" :value=\"weight.weight\" @keyup.enter=\"clickSave(index)\">\n                  <button :ref=\"`save${index}`\" class=\"btn btn-dark\" type=\"button\" @click=\"updateWeight($event, index, weight)\">\n                    save\n                  </button>\n                </div>\n                <svg @click=\"toggleEdit($event)\" xmlns=\"http://www.w3.org/2000/svg\" fill=\"currentColor\" class=\"bi bi-pencil\" viewBox=\"0 0 16 16\">\n                  <path d=\"M12.146.146a.5.5 0 0 1 .708 0l3 3a.5.5 0 0 1 0 .708l-10 10a.5.5 0 0 1-.168.11l-5 2a.5.5 0 0 1-.65-.65l2-5a.5.5 0 0 1 .11-.168l10-10zM11.207 2.5 13.5 4.793 14.793 3.5 12.5 1.207 11.207 2.5zm1.586 3L10.5 3.207 4 9.707V10h.5a.5.5 0 0 1 .5.5v.5h.5a.5.5 0 0 1 .5.5v.5h.293l6.5-6.5zm-9.761 5.175-.106.106-1.528 3.821 3.821-1.528.106-.106A.5.5 0 0 1 5 12.5V12h-.5a.5.5 0 0 1-.5-.5V11h-.5a.5.5 0 0 1-.468-.325z\"/>\n                </svg>\n              </td>\n              <td>\n                {{calculateShare(weight.weight)}}%\n              </td>\n            </tr>\n            <tr>\n              <td>Total</td>\n              <td>\n                <span>\n                  {{totalWeight}}\n                </span>\n              </td>\n              <td></td>\n            </tr>\n          </tbody>\n        </table>\n      </div>\n      <div class=\"mt-3 p-3 border border-white\">\n        <label class=\"form-label\" for=\"routeAfterRating\">After rating where would you like to go?</label>\n        <select class=\"form-select\" name=\"routeAfterRating\" id=\"routeAfterRating\" v-model=\"routeAfterRating\">\n          <option value=\"recentlyViewed\">Recently viewed</option>\n          <option value=\"allRatings\">All ratings</option>\n          <option value=\"home\">Home screen</option>\n          <option value=\"sameYear\">Ratings from the same year</option>\n        </select>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nexport default {\n  props: {\n    showSettings: {\n      type: Boolean,\n      required: false,\n      default: false\n    }\n  },\n  async mounted () {\n    this.devMode = JSON.parse(window.localStorage.getItem('devMode'));\n\n    const route = this.$store.state.settings?.routeAfterRating?.value;\n    if (route) {\n      this.routeAfterRating = route;\n    } else {\n      this.routeAfterRating = \"recentlyViewed\";\n    }\n  },\n  data () {\n    return {\n      newViewingTagTitle: null,\n      newMovieTagTitle: null,\n      devMode: false,\n      routeAfterRating: \"\"\n    }\n  },\n  watch: {\n    devMode (newVal) {\n      window.localStorage.setItem('devMode', newVal);\n      this.devModeSwitched(newVal);\n    },\n    routeAfterRating (newVal) {\n      this.setRouteAfterRating(newVal);\n    },\n    settingsRouteAfterRating (newVal) {\n      this.routeAfterRating = newVal;\n    }\n  },\n  computed: {\n    currentLog () {\n      return this.$store.state.currentLog;\n    },\n    settings () {\n      return this.$store.state.settings;\n    },\n    settingsRouteAfterRating () {\n      return this.$store.state.settings?.routeAfterRating?.value;\n    },\n    databaseTopKey () {\n      return this.$store.state.databaseTopKey;\n    },\n    viewingTags () {\n      if (!this.settings || !this.settings.tags) {\n        return [];\n      }\n\n      return this.settings.tags[\"viewing-tags\"];\n    },\n    movieTags () {\n      if (!this.settings || !this.settings.tags) {\n        return [];\n      }\n\n      return this.settings.tags[\"movie-tags\"];\n    },\n    weights () {\n      if (!this.settings) {\n        return [];\n      }\n\n      return this.settings.weights;\n    },\n    totalWeight () {\n      if (!this.settings?.weights) {\n        return 0;\n      }\n\n      const weights = this.settings.weights.map((weight) => {\n        if (weight.name === \"impression\") {\n          return weight.weight / 2;\n        } else {\n          return weight.weight;\n        }\n      });\n\n      let totalWeight = 0;\n\n      weights.forEach((weight) => {\n        totalWeight = totalWeight + weight;\n      })\n\n      return totalWeight.toPrecision(4);\n    }\n  },\n  methods: {\n    calculateShare (weight) {\n      const share = (weight / this.totalWeight) * 100;\n      return share.toPrecision(4);\n    },\n    async setRouteAfterRating (value) {\n      if (this.databaseTopKey) {\n        const dbEntry = {\n          path: \"settings/routeAfterRating\",\n          value: { value: value }\n        }\n\n        this.$store.dispatch('setDBValue', dbEntry);\n      }\n    },\n    async addViewingTag () {\n      if (!this.settings.tags || !this.settings.tags[\"viewing-tags\"]) {\n        return;\n      }\n\n      const viewingTagsArray = Object.keys(this.settings.tags[\"viewing-tags\"]).map((key) => this.settings.tags[\"viewing-tags\"][key]);\n\n      if (!viewingTagsArray.find((tag) => tag.title === this.newViewingTagTitle)) {\n        const dbKey = `${new Date().getTime()}-${crypto.randomUUID()}`;\n\n        const dbEntry = {\n          path: `settings/tags/viewing-tags/${dbKey}`,\n          value: { title: this.newViewingTagTitle }\n        }\n\n        this.$store.dispatch('setDBValue', dbEntry);\n      }\n\n      this.newViewingTagTitle = null;\n    },\n    async addMovieTag () {\n      if (!this.settings.tags || !this.settings.tags[\"movie-tags\"]) {\n        return;\n      }\n\n      const movieTagsArray = Object.keys(this.settings.tags[\"movie-tags\"]).map((key) => this.settings.tags[\"movie-tags\"][key]);\n\n      if (!movieTagsArray.find((tag) => tag.title === this.newMovieTagTitle)) {\n        const dbKey = `${new Date().getTime()}-${crypto.randomUUID()}`;\n\n        const dbEntry = {\n          path: `settings/tags/movie-tags/${dbKey}`,\n          value: { title: this.newMovieTagTitle }\n        }\n\n        this.$store.dispatch('setDBValue', dbEntry);\n      }\n\n      this.newMovieTagTitle = null;\n    },\n    showRemoveButton (event) {\n      const all = Array.from(this.$el.querySelectorAll('.show-remove-button'));\n      const notTarget = all.filter((el) => el !== event.target);\n\n      notTarget.forEach((el) => el.classList.remove(\"show-remove-button\"));\n\n      event.target.classList.toggle('show-remove-button');\n    },\n    async removeViewingTag (tagIndex) {\n      const dbEntry = {\n        path: `settings/tags/viewing-tags/${tagIndex}`,\n        value: null\n      }\n\n      this.$store.dispatch('setDBValue', dbEntry);\n    },\n    async removeMovieTag (tagIndex) {\n      const dbEntry = {\n        path: `settings/tags/movie-tags/${tagIndex}`,\n        value: null\n      }\n\n      this.$store.dispatch('setDBValue', dbEntry);\n    },\n    toggleEdit (event) {\n      this.calculateShare();\n      this.$el.querySelectorAll('td.editing').forEach((el) => el.classList.remove(\"editing\"));\n\n      event.target.parentElement.classList.add('editing');\n    },\n    clickSave (index) {\n      this.$refs[`save${index}`][0].click();\n    },\n    async updateWeight (event, index, weight) {\n      const value = event.target.previousElementSibling.value;\n      const payload = {\n        index: index,\n        weight: {\n          ...weight,\n          weight: parseFloat(value)\n        }\n      };\n\n      const dbEntry = {\n        path: `settings/weights/${payload.index}`,\n        value: payload.weight\n      }\n\n      this.$store.dispatch('setDBValue', dbEntry);\n\n      this.$el.querySelectorAll('td.editing').forEach((el) => el.classList.remove(\"editing\"));\n    },\n    async devModeSwitched (devMode) {\n      if (!this.$route.meta.requiresLogin) {\n        return;\n      }\n\n      if (devMode) {\n        this.$store.commit('setDatabaseTopKey', this.$store.state.devModeTopKey);\n      } else if (this.$store.state.googleLogin) {\n        this.$store.commit('setDatabaseTopKey', this.$store.state.googleLogin);\n      } else {\n        window.localStorage.removeItem('databaseTopKey');\n        this.$router.push('/login');\n      }\n\n      await this.$store.dispatch('initializeDB');\n    },\n    toggleMovieTV () {\n      this.$store.dispatch('toggleCurrentLog');\n      this.$router.push(\"/\");\n    }\n  },\n}\n</script>\n\n<style lang=\"scss\">\n  .settings {\n    display: flex;\n    flex-wrap: wrap;\n    padding-bottom: 50px;\n\n    &>div {\n      max-width: 100%;\n    }\n\n    ul {\n      list-style: none;\n      margin: 0;\n      padding: 0;\n    }\n\n    .tags {\n      display: flex;\n      flex-wrap: wrap;\n      justify-content: flex-end;\n\n      ul {\n        column-count: 2;\n        display: flex;\n        flex-wrap: wrap;\n        overflow: scroll;\n\n        .tag {\n          cursor: pointer;\n          position: relative;\n\n          .badge {\n            font-size: 0.75rem;\n            max-width: 85%;\n            position: relative;\n            white-space: normal;\n\n            &.show-remove-button {\n              .remove-button {\n                transform: translate(150%, -50%);\n                z-index: 1;\n              }\n            }\n\n            .remove-button {\n              display: flex;\n              position: absolute;\n              right: 0;\n              top: 50%;\n              transform: translateY(-50%) rotate(-90deg);\n              transition: all 0.25s ease-out;\n              z-index: -1;\n\n              svg {\n                height: 18px;\n                width: 18px;\n              }\n            }\n          }\n        }\n      }\n    }\n\n    .weights {\n      th {\n        font-size: 1.25rem;\n      }\n\n      td {\n        font-size: 0.85rem;\n\n        &.editing {\n          span {\n            display: none;\n          }\n\n          .input-group {\n            display: flex;\n            width: 75%;\n\n            input {\n              font-size: 0.85rem;\n              padding: 0 12px;\n            }\n\n            button {\n              font-size: 0.85rem;\n              padding: 0 6px;\n            }\n          }\n        }\n\n        .input-group {\n          display: none;\n        }\n\n        svg {\n          height: 0.6rem;\n          margin-left: 8px;\n          width: 0.6rem;\n        }\n      }\n    }\n\n    .dev-mode {\n      .form-check {\n        .form-check-input {\n          cursor: pointer;\n\n          &:checked {\n            background-color: #198754;\n            border-color: #198754;\n          }\n        }\n\n        .form-check-label {\n          margin: 0 12px;\n        }\n      }\n    }\n  }\n</style>","import { render } from \"./Settings.vue?vue&type=template&id=dfda537e\"\nimport script from \"./Settings.vue?vue&type=script&lang=js\"\nexport * from \"./Settings.vue?vue&type=script&lang=js\"\n\nimport \"./Settings.vue?vue&type=style&index=0&id=dfda537e&lang=scss\"\n\nimport exportComponent from \"/Users/mjg/code/movie-log/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<template>\n  <div class=\"pick-media mx-auto\">\n    <ul class=\"p-0 d-flex justify-content-around flex-wrap\">\n      <li class=\"card shadow border\" v-for=\"media in searchResults\" :key=\"media.id\" @click=\"rateMedia(media)\">\n        <img\n          v-if=\"media.poster_path\"\n          class=\"card-img-top\"\n          :src=\"`https://image.tmdb.org/t/p/original${media.poster_path}`\"\n          align=\"center\"\n        >\n        <img\n          v-else\n          class=\"card-img-top not-found\"\n          src=\"../assets/images/Image_not_available.png\"\n          align=\"center\"\n        >\n        <p class=\"my-3 mx-1 card-text text-center\" :title=\"getTitle(media)\">\n          {{truncate(getTitle(media))}}\n          <br>\n          {{getReleaseDate(media)}}\n        </p>\n      </li>\n    </ul>\n  </div>\n</template>\n\n<script>\nexport default {\n  computed: {\n    currentLogIsTVLog () {\n      return this.$store.state.currentLog === \"tvLog\";\n    },\n    searchResults () {\n      return this.$store.state.newEntrySearchResults;\n    }\n  },\n  methods: {\n    rateMedia (media) {\n      if (this.currentLogIsTVLog) {\n        this.$store.commit('setTVShowToRate', media);\n        this.$router.push('/rate-tv-show');\n      } else {\n        this.$store.commit('setMovieToRate', media);\n        this.$router.push('/rate-movie');\n      }\n    },\n    getTitle (media) {\n      if (this.currentLogIsTVLog) {\n        return media.name;\n      } else {\n        return media.title;\n      }\n    },\n    getReleaseDate (media) {\n      if (this.currentLogIsTVLog) {\n        return media.first_air_date;\n      } else {\n        return media.release_date;\n      }\n    },\n    truncate (string) {\n      if (string.length > 15) {\n        return `${string.substr(0, 13)}...`;\n      } else {\n        return string;\n      }\n    }\n  },\n}\n</script>\n\n<style lang=\"scss\">\n  .pick-media {\n    max-width: 832px;\n\n    ul {\n      column-gap: 1rem;\n      list-style: none;\n      margin: 1rem 1rem 5rem;\n      row-gap: 1rem;\n\n      .card {\n        border-radius: 4px;\n        cursor: pointer;\n        width: calc((100% - 2rem) / 3);\n\n        .not-found {\n          padding: 48px 0;\n        }\n\n        p {\n          font-size: .75rem;\n        }\n      }\n    }\n  }\n</style>","import { render } from \"./PickMedia.vue?vue&type=template&id=5318f0b2\"\nimport script from \"./PickMedia.vue?vue&type=script&lang=js\"\nexport * from \"./PickMedia.vue?vue&type=script&lang=js\"\n\nimport \"./PickMedia.vue?vue&type=style&index=0&id=5318f0b2&lang=scss\"\n\nimport exportComponent from \"/Users/mjg/code/movie-log/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<template>\n  <div class=\"rate-movie mx-auto\">\n    <div class=\"rate-movie-header\">\n      <div class=\"home-link\" @click=\"returnHome\">\n        <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"16\" height=\"16\" fill=\"currentColor\" class=\"bi bi-caret-left-fill\" viewBox=\"0 0 16 16\">\n          <path d=\"m3.86 8.753 5.482 4.796c.646.566 1.658.106 1.658-.753V3.204a1 1 0 0 0-1.659-.753l-5.48 4.796a1 1 0 0 0 0 1.506z\"/>\n        </svg>\n        <span>\n          Home\n        </span>\n      </div>\n      <img v-if=\"rateBannerUrl\" class=\"col-12\" :src=\"rateBannerUrl\">\n      <h1 class=\"text-light col-12 m-0 px-3 py-2\">Rate {{title}}</h1>\n    </div>\n    <div class=\"p-4\">\n      <div class=\"col-12 mb-4\">\n        <label class=\"form-label fs-4\" for=\"title\">Title</label>\n        <input class=\"form-control\" name=\"title\" type=\"text\" id=\"title\" v-model=\"title\">\n      </div>\n\n      <div class=\"year-medium-date col-12 my-4 d-flex justify-content-between\">\n        <div class=\"year col-2\">\n          <label class=\"form-label fs-4\" for=\"year\">Year</label>\n          <input class=\"form-control\" name=\"year\" id=\"year\" type=\"text\" v-model=\"year\">\n        </div>\n        <div class=\"medium col-3\">\n          <label class=\"form-label fs-4\" for=\"medium\">Medium</label>\n          <select class=\"form-select\" name=\"medium\" id=\"medium\" v-model=\"medium\">\n            <option value=\"\"></option>\n            <option value=\"Theater\">Theater</option>\n            <option value=\"Bluray\">Bluray</option>\n            <option value=\"4K\">4K</option>\n            <option value=\"DVD\">DVD</option>\n            <option value=\"Netflix\">Netflix</option>\n            <option value=\"Netflix\">Youtube</option>\n            <option value=\"Vudu\">Vudu</option>\n            <option value=\"HBO\">HBO</option>\n            <option value=\"Hulu\">Hulu</option>\n            <option value=\"Amazon Prime\">Amazon Prime</option>\n            <option value=\"Disney+\">Disney+</option>\n            <option value=\"Paramount+\">Paramount+</option>\n            <option value=\"Kanopy\">Kanopy</option>\n            <option value=\"Criterion\">Criterion</option>\n            <option value=\"Apple+\">Apple+</option>\n            <option value=\"Peacock\">Peacock</option>\n            <option value=\"Download\">Download</option>\n            <option value=\"Other\">Other</option>\n          </select>\n        </div>\n        <div class=\"date col-5\">\n          <label class=\"form-label fs-4\" for=\"date\">Date</label>\n          <input class=\"form-control\" name=\"date\" id=\"date\" type=\"date\" v-model=\"date\">\n        </div>\n      </div>\n\n      <div class=\"col-12 mt-4 mb-3 movie-tags collapsed\" ref=\"movieTagList\">\n        <div class=\"movie-tags-toggle d-flex justify-content-between align-items-center\" @click=\"toggleMovieTagList\">\n          <label class=\"form-label\">Tags for the movie itself\n            <span v-if=\"selectedMovieTagNames.length\">({{ selectedMovieTagNames.length }})</span>\n          </label>\n          <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"16\" height=\"16\" fill=\"currentColor\" class=\"bi bi-caret-right\" viewBox=\"0 0 16 16\">\n            <path d=\"M6 12.796V3.204L11.481 8 6 12.796zm.659.753 5.48-4.796a1 1 0 0 0 0-1.506L6.66 2.451C6.011 1.885 5 2.345 5 3.204v9.592a1 1 0 0 0 1.659.753z\"/>\n          </svg>\n        </div>\n        <div class=\"movie-tags-content\">\n          <div class=\"tag-list d-flex flex-wrap\">\n            <div v-for=\"(tag, index) in movieTags\" :key=\"index\" class='form-check mx-2 mb-2'>\n              <input class='form-check-input' :checked=\"movieTagChecked(tag)\" type='checkbox' :id=\"`tag-${index}`\" @click=\"toggleMovieTag(tag)\">\n              <label class=\"form-check-label\" :for=\"`tag-${index}`\">\n                {{tag.title}}\n              </label>\n            </div>\n          </div>\n\n          <div class=\"input-group\">\n            <input type=\"text\" class=\"form-control\" placeholder=\"new tag\" v-model=\"newMovieTagTitle\" @keyup.enter.prevent>\n            <button class=\"btn btn-dark\" type=\"button\" @click.prevent=\"addMovieTag\">\n              add\n            </button>\n          </div>\n        </div>\n      </div>\n\n      <hr>\n\n      <div class=\"col-12 my-5\">\n        <label class=\"form-label fs-4 mb-0\" for=\"direction\">Direction</label>\n        <p class=\"fs-6 fst-italic\">Rate the film's directing and editing.</p>\n        <select class=\"form-select\" name=\"direction\" id=\"direction\" v-model=\"direction\">\n          <option value=\"\"></option>\n          <option value=\"0\">\n            0 - Worst in class\n          </option>\n          <option value=\"1\">\n            1 - Among the worst in class\n          </option>\n          <option value=\"2\">\n            2 - Terrible\n          </option>\n          <option value=\"3\">\n            3 - Really Bad\n          </option>\n          <option value=\"4\">\n            4 - Bad\n          </option>\n          <option value=\"5\">\n            5 - Average\n          </option>\n          <option value=\"6\">\n            6 - Good\n          </option>\n          <option value=\"7\">\n            7 - Great\n          </option>\n          <option value=\"8\">\n            8 - Incredible\n          </option>\n          <option value=\"9\">\n            9 - Among the best in class\n          </option>\n          <option value=\"10\">\n            10 - Best in class\n          </option>\n        </select>\n      </div>\n\n      <div class=\"col-12 my-5\">\n        <label class=\"form-label fs-4 mb-0\" for=\"imagery\">Imagery</label>\n        <p class=\"fs-6 fst-italic\">\n          Rate the film's cinematography, visual effects, production design,costume design, and/or animation.\n        </p>\n        <select class=\"form-select\" name=\"imagery\" id=\"imagery\" v-model=\"imagery\">\n          <option value=\"\"></option>\n          <option value=\"0\">\n            0 - Worst in class\n          </option>\n          <option value=\"1\">\n            1 - Among the worst in class\n          </option>\n          <option value=\"2\">\n            2 - Terrible\n          </option>\n          <option value=\"3\">\n            3 - Really Bad\n          </option>\n          <option value=\"4\">\n            4 - Bad\n          </option>\n          <option value=\"5\">\n            5 - Average\n          </option>\n          <option value=\"6\">\n            6 - Good\n          </option>\n          <option value=\"7\">\n            7 - Great\n          </option>\n          <option value=\"8\">\n            8 - Incredible\n          </option>\n          <option value=\"9\">\n            9 - Among the best in class\n          </option>\n          <option value=\"10\">\n            10 - Best in class\n          </option>\n        </select>\n      </div>\n\n      <div class=\"col-12 my-5\">\n        <label class=\"form-label fs-4 mb-0\" for=\"story\">Story</label>\n        <p class=\"fs-6 fst-italic\">\n          Rate the film's story and screenplay.\n        </p>\n        <select class=\"form-select\" name=\"story\" id=\"story\" v-model=\"story\">\n          <option value=\"\"></option>\n          <option value=\"0\">\n            0 - Worst in class\n          </option>\n          <option value=\"1\">\n            1 - Among the worst in class\n          </option>\n          <option value=\"2\">\n            2 - Terrible\n          </option>\n          <option value=\"3\">\n            3 - Really Bad\n          </option>\n          <option value=\"4\">\n            4 - Bad\n          </option>\n          <option value=\"5\">\n            5 - Average\n          </option>\n          <option value=\"6\">\n            6 - Good\n          </option>\n          <option value=\"7\">\n            7 - Great\n          </option>\n          <option value=\"8\">\n            8 - Incredible\n          </option>\n          <option value=\"9\">\n            9 - Among the best in class\n          </option>\n          <option value=\"10\">\n            10 - Best in class\n          </option>\n        </select>\n      </div>\n\n      <div class=\"col-12 my-5\">\n        <label class=\"form-label fs-4 mb-0\" for=\"performance\">Performance</label>\n        <p class=\"fs-6 fst-italic\">\n          Rate the performances in the film. In the case of documentaries, rate the interest of the subject matter.\n        </p>\n        <select class=\"form-select\" name=\"performance\" id=\"performance\" v-model=\"performance\">\n          <option value=\"\"></option>\n          <option value=\"0\">\n            0 - Worst in class\n          </option>\n          <option value=\"1\">\n            1 - Among the worst in class\n          </option>\n          <option value=\"2\">\n            2 - Terrible\n          </option>\n          <option value=\"3\">\n            3 - Really Bad\n          </option>\n          <option value=\"4\">\n            4 - Bad\n          </option>\n          <option value=\"5\">\n            5 - Average\n          </option>\n          <option value=\"6\">\n            6 - Good\n          </option>\n          <option value=\"7\">\n            7 - Great\n          </option>\n          <option value=\"8\">\n            8 - Incredible\n          </option>\n          <option value=\"9\">\n            9 - Among the best in class\n          </option>\n          <option value=\"10\">\n            10 - Best in class\n          </option>\n        </select>\n      </div>\n\n      <div class=\"col-12 my-5\">\n        <label class=\"form-label fs-4 mb-0\" for=\"soundtrack\">Soundtrack</label>\n        <p class=\"fs-6 fst-italic\">\n          Rate the film's score, songs, and sound design.\n        </p>\n        <select class=\"form-select\" name=\"soundtrack\" id=\"soundtrack\" v-model=\"soundtrack\">\n          <option value=\"\"></option>\n          <option value=\"0\">\n            0 - Worst in class\n          </option>\n          <option value=\"1\">\n            1 - Among the worst in class\n          </option>\n          <option value=\"2\">\n            2 - Terrible\n          </option>\n          <option value=\"3\">\n            3 - Really Bad\n          </option>\n          <option value=\"4\">\n            4 - Bad\n          </option>\n          <option value=\"5\">\n            5 - Average\n          </option>\n          <option value=\"6\">\n            6 - Good\n          </option>\n          <option value=\"7\">\n            7 - Great\n          </option>\n          <option value=\"8\">\n            8 - Incredible\n          </option>\n          <option value=\"9\">\n            9 - Among the best in class\n          </option>\n          <option value=\"10\">\n            10 - Best in class\n          </option>\n        </select>\n      </div>\n\n      <div class=\"col-12 my-5\">\n        <label class=\"form-label fs-4 mb-0\" for=\"impression\">Impression</label>\n        <p class=\"fs-6 fst-italic\">\n          Give your sense of the film's longevity or impact.\n        </p>\n        <select class=\"form-select\" name=\"impression\" id=\"impression\" v-model=\"impression\">\n          <option value=\"\"></option>\n          <option value=\"0\">\n            0 - None\n          </option>\n          <option value=\"1\">\n            1 - Will be remembered\n          </option>\n          <option value=\"2\">\n            2 - Will be referenced\n          </option>\n          <option value=\"3\">\n            3 - Influenced me\n          </option>\n          <option value=\"4\">\n            4 - Important to me\n          </option>\n          <option value=\"5\">\n            5 - Central to my life\n          </option>\n        </select>\n      </div>\n\n      <div class=\"col-12 my-5\">\n        <label class=\"form-label fs-4 mb-0\" for=\"love\">Love</label>\n        <p class=\"fs-6 fst-italic\">\n          The intangible quality of a film that seems to speak to you specifically.\n        </p>\n        <select class=\"form-select\" name=\"love\" id=\"love\" v-model=\"love\">\n          <option value=\"\"></option>\n          <option value=\"0\">\n            -5 - The worst ever\n          </option>\n          <option value=\"1\">\n            -4 - One of the worst ever\n          </option>\n          <option value=\"2\">\n            -3 - I hated it\n          </option>\n          <option value=\"3\">\n            -2 - I really didn't like it\n          </option>\n          <option value=\"4\">\n            -1 - I didn't like it\n          </option>\n          <option value=\"5\">\n            0 - No love\n          </option>\n          <option value=\"6\">\n            1 - I liked it\n          </option>\n          <option value=\"7\">\n            2 - I really liked it\n          </option>\n          <option value=\"8\">\n            3 - A genre favorite\n          </option>\n          <option value=\"9\">\n            4 - An overall favorite\n          </option>\n          <option value=\"10\">\n            5 - My favorite\n          </option>\n        </select>\n      </div>\n\n      <div class=\"col-12 my-5\">\n        <label class=\"form-label fs-4 mb-0\" for=\"overall\">Overall</label>\n        <p class=\"fs-6 fst-italic\">\n          Gut sense of the film's overall rating.\n        </p>\n        <select class=\"form-select\" name=\"overall\" id=\"overall\" v-model=\"overall\">\n          <option value=\"\"></option>\n          <option value=\"0\">\n            0 - Worst in class\n          </option>\n          <option value=\"1\">\n            1 - Among the worst in class\n          </option>\n          <option value=\"2\">\n            2 - Terrible\n          </option>\n          <option value=\"3\">\n            3 - Really Bad\n          </option>\n          <option value=\"4\">\n            4 - Bad\n          </option>\n          <option value=\"5\">\n            5 - Average\n          </option>\n          <option value=\"6\">\n            6 - Good\n          </option>\n          <option value=\"7\">\n            7 - Great\n          </option>\n          <option value=\"8\">\n            8 - Incredible\n          </option>\n          <option value=\"9\">\n            9 - Among the best in class\n          </option>\n          <option value=\"10\">\n            10 - Best in class\n          </option>\n        </select>\n      </div>\n\n      <hr>\n\n      <p class=\"rating col-12 my-3 d-flex justify-content-center align-items-center\" id=\"rating\">\n        Rating: {{rating}}\n        <span class=\"mx-3 d-flex justify-content-center align-items-center\">|</span>\n        #{{indexIfSortedIntoArray(movieAsRatedOnPage, allMoviesRanked) + 1}}/{{numberOfMoviesAfterRating}}\n        <span class=\"mx-3 d-flex justify-content-center align-items-center\">|</span>\n        #{{indexIfSortedIntoArray(movieAsRatedOnPage, moviesRankedFromYear) + 1}} in {{movieYear(movieToRate)}}\n      </p>\n\n      <hr>\n\n      <div class=\"col-12 my-5 viewing-tags\">\n        <label class=\"form-label\">Tags for this viewing</label>\n        <div class=\"tag-list d-flex flex-wrap\">\n          <div v-for=\"(tag, index) in viewingTags\" :key=\"index\" class='form-check mx-2 mb-2'>\n            <input class='form-check-input' type='checkbox' :id=\"`tag-${index}`\" @click=\"toggleViewingTag(tag)\">\n            <label class=\"form-check-label\" :for=\"`tag-${index}`\">\n              {{tag.title}}\n            </label>\n          </div>\n        </div>\n\n        <div class=\"input-group\">\n          <input type=\"text\" class=\"form-control\" placeholder=\"new tag\" v-model=\"newViewingTagTitle\" @keyup.enter.prevent>\n          <button class=\"btn btn-dark\" type=\"button\" @click.prevent=\"addViewingTag\">\n            add\n          </button>\n        </div>\n      </div>\n\n      <hr>\n\n      <button\n        class=\"submit-button btn btn-primary col-12 mt-5 mb-4\"\n        @click.prevent=\"addRating\"\n        type=\"submit\"\n        value=\"Submit\"\n        :disabled=\"loading\"\n      >\n        <span v-if=\"!loading\">Submit</span>\n        <span v-if=\"loading\" class=\"disabled-show spinner-border spinner-border-sm mx-2\" role=\"status\" aria-hidden=\"true\"></span>\n        <span v-if=\"loading\" class=\"disabled-show \">Submiting...</span>\n      </button>\n    </div>\n\n    <hr>\n\n    <div v-if=\"previousEntry?.ratings\" class=\"previous-ratings my-3 mb-5 px-4 pt-3 pb-5\">\n      <label class=\"fs-4\">Previous Viewings</label>\n      <div class=\"accordion\" id=\"previous-ratings-accordion\">\n        <div class=\"accordion-item\" v-for=\"(rating, index) in previousEntry.ratings\" :key=\"index\">\n          <h2 class=\"accordion-header\" :id=\"`heading-${index}`\">\n            <button class=\"accordion-button px-5\" type=\"button\" data-bs-toggle=\"collapse\" :data-bs-target=\"`#collapse-${index}`\" aria-expanded=\"false\" :aria-controls=\"`collapse-${index}`\">\n              <div class=\"col-12 d-flex\">\n                <p class=\"col-7 m-0 text-center border-end\">\n                  <span v-if=\"rating.date\">{{rating.date}}</span>\n                  <span v-else>-</span>\n                </p>\n                <p class=\"col-5 m-0 text-center border-start\">{{rating.rating}}</p>\n              </div>\n            </button>\n          </h2>\n          <div :id=\"`collapse-${index}`\" class=\"accordion-collapse collapse\" :aria-labelledby=\"`heading-${index}`\">\n            <div class=\"accordion-body\">\n              <table class=\"table mb-0 col-12 table-striped-columns\">\n                <thead>\n                  <th class=\"col-1\"><span>dir</span></th>\n                  <th class=\"col-1\"><span>img</span></th>\n                  <th class=\"col-1\"><span>stry</span></th>\n                  <th class=\"col-1\"><span>perf</span></th>\n                  <th class=\"col-1\"><span>sndtk</span></th>\n                  <th class=\"col-1\"><span>imp</span></th>\n                  <th class=\"col-1\"><span>love</span></th>\n                  <th class=\"col-1\"><span>ovral</span></th>\n                </thead>\n                <tbody>\n                  <tr class=\"table-secondary\">\n                    <td class=\"col-1\">{{rating.direction}}</td>\n                    <td class=\"col-1\">{{rating.imagery}}</td>\n                    <td class=\"col-1\">{{rating.story}}</td>\n                    <td class=\"col-1\">{{rating.performance}}</td>\n                    <td class=\"col-1\">{{rating.soundtrack}}</td>\n                    <td class=\"col-1\">{{rating.impression}}</td>\n                    <td class=\"col-1\">{{rating.love}}</td>\n                    <td class=\"col-1\">{{rating.overall}}</td>\n                  </tr>\n                </tbody>\n              </table>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport addRating from \"../assets/javascript/AddRating.js\";\n\nexport default {\n  data () {\n    return {\n      date: new Date().toISOString().substr(0, 10),\n      direction: null,\n      id: null,\n      imagery: null,\n      impression: null,\n      loading: false,\n      love: null,\n      medium: \"\",\n      newViewingTagTitle: null,\n      newMovieTagTitle: null,\n      overall: null,\n      performance: null,\n      soundtrack: null,\n      story: null,\n      selectedViewingTags: [],\n      selectedMovieTags: [],\n      title: null,\n      year: null\n    }\n  },\n  mounted () {\n    this.$store.commit(\"setShowHeader\", false);\n    this.title = this.movieToRate.title;\n    this.year = new Date(this.movieToRate.release_date).getFullYear();\n    this.id = this.movieToRate.id;\n\n    this.selectedMovieTags = this.previousEntry ? this.previousEntry.movie.tags || [] : [];\n  },\n  beforeRouteLeave () {\n    this.$store.commit(\"setShowHeader\", true);\n  },\n  computed: {\n    database () {\n      return this.$store.state.movieLog;\n    },\n    movieToRate () {\n      return this.$store.state.movieToRate;\n    },\n    settings () {\n      return this.$store.state.settings;\n    },\n    rating () {\n      const direction = this.getRatingFor(\"direction\") >= 0 ? this.getRatingFor(\"direction\") : 5;\n      const imagery = this.getRatingFor(\"imagery\") >= 0 ? this.getRatingFor(\"imagery\") : 5;\n      const story = this.getRatingFor(\"story\") >= 0 ? this.getRatingFor(\"story\") : 5;\n      const performance = this.getRatingFor(\"performance\") >= 0 ? this.getRatingFor(\"performance\") : 5;\n      const soundtrack = this.getRatingFor(\"soundtrack\") >= 0 ? this.getRatingFor(\"soundtrack\") : 5;\n      const impression = this.getRatingFor(\"impression\") >= 0 ? this.getRatingFor(\"impression\") : 0;\n      const love = this.getRatingFor(\"love\") >= 0 ? this.getRatingFor(\"love\") : 5;\n      const overall = this.getRatingFor(\"overall\") >= 0 ? this.getRatingFor(\"overall\") : 5;\n\n      const total = direction + imagery + story + performance + soundtrack + impression + love + overall;\n\n      return parseFloat(total / 10).toFixed(2);\n    },\n    movieAsRatedOnPage () {\n      return {\n        ...this.movieToRate,\n        ratings: [{ rating: this.rating }]\n      };\n    },\n    numberOfMoviesAfterRating () {\n      if (this.previousEntry) {\n        return this.$store.getters.allMoviesAsArray.length;\n      } else {\n        return this.$store.getters.allMoviesAsArray.length + 1;\n      }\n    },\n    allMoviesRanked () {\n      const movies = [...this.$store.getters.allMoviesAsArray];\n      return movies.sort(this.sortByRating);\n    },\n    moviesRankedFromYear () {\n      const moviesFromYear = this.$store.getters.allMoviesAsArray.filter((movie) => {\n        return this.movieYear(movie.movie) === this.movieYear(this.movieToRate);\n      })\n\n      return moviesFromYear.sort(this.sortByRating);\n    },\n    previousEntry () {\n      return this.$store.getters.allMoviesAsArray.find((entry) => {\n        return entry.movie.id === this.id;\n      })\n    },\n    viewingTags () {\n      if (!this.settings || !this.settings.tags) {\n        return [];\n      }\n\n      return this.settings.tags[\"viewing-tags\"];\n    },\n    movieTags () {\n      if (!this.settings || !this.settings.tags) {\n        return [];\n      }\n\n      return this.settings.tags[\"movie-tags\"];\n    },\n    rateBannerUrl () {\n      if (this.movieToRate) {\n        return `https://image.tmdb.org/t/p/original${this.movieToRate.backdrop_path}`;\n      } else {\n        return false;\n      }\n    },\n    databaseTopKey () {\n      return this.$store.state.databaseTopKey;\n    },\n    selectedViewingTagNames () {\n      return this.selectedViewingTags.map((tag) => tag.title);\n    },\n    selectedMovieTagNames () {\n      return this.selectedMovieTags.map((tag) => tag.title);\n    }\n  },\n  methods: {\n    movieYear (movie) {\n      return new Date(movie.release_date).getFullYear();\n    },\n    previouslyRated (id) {\n      const ids = Object.keys(this.database).map((key) => this.database[key].movie.id);\n\n      return ids.includes(id);\n    },\n    mostRecentRating (movie) {\n      let mostRecentRating = movie.ratings[0];\n      movie.ratings.forEach((rating) => {\n        if (rating.date && rating.date > mostRecentRating.date) {\n          mostRecentRating = rating;\n        }\n      })\n\n      return mostRecentRating;\n    },\n    sortByRating (a, b) {\n      const aRating = this.mostRecentRating(a).rating;\n      const bRating = this.mostRecentRating(b).rating;\n\n      if (aRating < bRating) {\n        return 1;\n      }\n      if (aRating > bRating) {\n        return -1;\n      }\n\n      return 0;\n    },\n    getWeight (weightName) {\n      const weightObj = this.settings?.weights?.find((weight) => {\n        return weight.name === weightName;\n      });\n\n      return weightObj ? weightObj.weight : 0;\n    },\n    getScore (scoreName) {\n      const lowerCase = scoreName.toLowerCase();\n      const property = this[lowerCase];\n\n      return parseFloat(property);\n    },\n    getRatingFor (category) {\n      if (!category || !this.getWeight(category) || !this.getScore(category)) {\n        return;\n      }\n\n      return this.getWeight(category) * this.getScore(category);\n    },\n    indexIfSortedIntoArray (movie, array) {\n      const arr = [...array];\n      arr.push(movie);\n\n      arr.sort(this.sortByRating);\n\n      return arr.indexOf(movie);\n    },\n    async addViewingTag () {\n      if (!this.settings.tags || !this.settings.tags[\"viewing-tags\"]) {\n        return;\n      }\n\n      const viewingTagsArray = Object.keys(this.settings.tags[\"viewing-tags\"]).map((key) => this.settings.tags[\"viewing-tags\"][key]);\n\n      if (!viewingTagsArray.find((tag) => tag.title === this.newViewingTagTitle)) {\n        const dbKey = `${new Date().getTime()}-${crypto.randomUUID()}`;\n\n        const dbEntry = {\n          path: `settings/tags/viewing-tags/${dbKey}`,\n          value: { title: this.newViewingTagTitle }\n        }\n\n        this.$store.dispatch('setDBValue', dbEntry);\n      }\n\n      this.newViewingTagTitle = null;\n    },\n    async addMovieTag () {\n      if (!this.settings.tags || !this.settings.tags[\"movie-tags\"]) {\n        return;\n      }\n\n      const movieTagsArray = Object.keys(this.settings.tags[\"movie-tags\"]).map((key) => this.settings.tags[\"movie-tags\"][key]);\n\n      if (!movieTagsArray.find((tag) => tag.title === this.newMovieTagTitle)) {\n        const dbKey = `${new Date().getTime()}-${crypto.randomUUID()}`;\n\n        const dbEntry = {\n          path: `settings/tags/movie-tags/${dbKey}`,\n          value: { title: this.newMovieTagTitle }\n        }\n\n        this.$store.dispatch('setDBValue', dbEntry);\n      }\n\n      this.newMovieTagTitle = null;\n    },\n    toggleViewingTag (tag) {\n      if (this.viewingTagChecked(tag)) {\n        this.selectedViewingTags.splice(this.selectedViewingTags.indexOf(tag), 1);\n      } else {\n        this.selectedViewingTags.push(tag);\n      }\n    },\n    toggleMovieTag (tag) {\n      if (this.movieTagChecked(tag)) {\n        this.selectedMovieTags.splice(this.selectedMovieTags.indexOf(tag), 1);\n      } else {\n        this.selectedMovieTags.push(tag);\n      }\n    },\n    async addRating () {\n      this.loading = true;\n\n      let ratings = [];\n\n      if (this.previousEntry?.ratings) {\n        ratings = [...this.previousEntry.ratings];\n      }\n\n      const rating = {\n        date: this.date ? this.date : new Date().getTime(),\n        direction: this.direction ? this.direction : 5,\n        id: this.id,\n        imagery: this.imagery ? this.imagery : 5,\n        impression: this.impression ? this.impression : 0,\n        love: this.love ? this.love : 5,\n        medium: this.medium ? this.medium : \"Other\",\n        overall: this.overall ? this.overall : 5,\n        performance: this.performance ? this.performance : 5,\n        rating: this.rating,\n        soundtrack: this.soundtrack ? this.soundtrack : 5,\n        story: this.story ? this.story : 5,\n        tags: this.selectedViewingTags,\n        title: this.title,\n        year: this.year\n      };\n\n      ratings.push(rating);\n\n      await addRating(ratings, this.selectedMovieTags);\n\n      const routeAfterRating = this.settings?.routeAfterRating?.value;\n\n      window.scroll({\n        top: top,\n        behavior: 'smooth'\n      })\n\n      this.$store.commit(\"setShowHeader\", true);\n      if (routeAfterRating === \"recentlyViewed\") {\n        this.$store.commit(\"setDBSortValue\", \"watched\");\n        this.$router.push(\"/db-search\");\n      } else if (routeAfterRating === \"allRatings\") {\n        this.$store.commit(\"setDBSortValue\", \"rating\");\n        this.$router.push(\"/db-search\");\n      } else if (routeAfterRating === \"sameYear\") {\n        this.$store.commit(\"setDBSearchValue\", `y:${rating.year}`);\n        this.$store.commit(\"setDBSortValue\", \"rating\");\n        this.$router.push(\"/db-search\");\n      } else {\n        this.$router.push(\"/\");\n      }\n    },\n    returnHome () {\n      this.$store.commit(\"setShowHeader\", true);\n      this.$router.push(\"/\");\n    },\n    viewingTagChecked (tag) {\n      if (!this.selectedViewingTagNames) {\n        return false;\n      }\n\n      return this.selectedViewingTagNames.includes(tag.title);\n    },\n    movieTagChecked (tag) {\n      if (!this.selectedMovieTagNames) {\n        return false;\n      }\n\n      return this.selectedMovieTagNames.includes(tag.title);\n    },\n    toggleMovieTagList () {\n      this.$refs.movieTagList.classList.toggle(\"collapsed\");\n    }\n  },\n}\n</script>\n\n<style lang=\"scss\">\n  .rate-movie {\n    max-width: 832px;\n\n    .rate-movie-header {\n      position: relative;\n\n      .home-link {\n        align-items: center;\n        background: rgba(0, 0, 0, 0.5);\n        border-radius: 4px;\n        color: white;\n        cursor: pointer;\n        display: flex;\n        font-size: 1rem;\n        left: 0;\n        margin: 6px;\n        padding: 2px 8px;\n        position: absolute;\n        text-decoration: none;\n        top: 0;\n      }\n\n      h1 {\n        background-color: #000000a3;\n        bottom: 0;\n        position: absolute;\n      }\n    }\n\n    .year-medium-date {\n      column-gap: 1rem;\n    }\n\n    .movie-tags {\n      .movie-tags-toggle {\n        align-items: center;\n        cursor: pointer;\n        display: flex;\n        justify-content: space-between;\n        margin-bottom: 0.5rem;\n\n        label {\n          cursor: pointer;\n          line-height: 16px;\n          margin: 0;\n        }\n\n        svg {\n          transform: rotate(90deg);\n          transition: all 0.3s ease;\n        }\n      }\n\n      .movie-tags-content {\n        max-height: 500px;\n        overflow: hidden;\n        transition: all 0.3s ease;\n      }\n\n      &.collapsed {\n        .movie-tags-toggle {\n          svg {\n            transform: rotate(0deg);\n          }\n        }\n\n        .movie-tags-content {\n          max-height: 0;\n        }\n      }\n    }\n\n    .submit-button {\n      &[disabled] {\n        .disabled-show {\n          display: inline-block;\n        }\n      }\n\n      .disabled-show {\n        display: none;\n      }\n    }\n\n    .previous-ratings {\n      .accordion-button {\n        background-color: white;\n        color: black;\n\n        &:focus {\n          box-shadow: none;\n        }\n      }\n\n      table {\n        th {\n          span {\n            display: inline-block;\n            font-size: 0.6rem;\n            transform: rotate(60deg);\n          }\n        }\n\n        td {\n          font-size: 0.6rem;\n        }\n      }\n    }\n  }\n\n  .bg-dark {\n    .rate-movie {\n      color: white;\n    }\n  }\n</style>","import axios from 'axios';\nimport cheerio from \"cheerio\";\nimport store from '../../store/index';\n\nconst getTMDBData = async (rating) => {\n  const apiKey = process.env.VUE_APP_TMDB_API_KEY;\n  const id = rating.id || rating.tvShowId;\n\n  let dataResp;\n  let creditsResp;\n  let keywordsResp;\n\n  try {\n    if (store.state.currentLog === \"tvLog\") {\n      dataResp = await axios.get(`https://api.themoviedb.org/3/tv/${id}?api_key=${apiKey}`);\n      creditsResp = await axios.get(`https://api.themoviedb.org/3/tv/${id}/credits?api_key=${apiKey}`);\n      keywordsResp = await axios.get(`https://api.themoviedb.org/3/tv/${id}/keywords?api_key=${apiKey}`);\n    } else {\n      dataResp = await axios.get(`https://api.themoviedb.org/3/movie/${id}?api_key=${apiKey}`);\n      creditsResp = await axios.get(`https://api.themoviedb.org/3/movie/${id}/credits?api_key=${apiKey}`);\n      keywordsResp = await axios.get(`https://api.themoviedb.org/3/movie/${id}/keywords?api_key=${apiKey}`);\n    }\n  } catch (error) {\n    console.log(error);\n    return;\n  }\n\n  return {\n    ...dataResp.data,\n    ...creditsResp.data,\n    keywords: keywordsResp.data.keywords || keywordsResp.data.results\n  }\n}\n\nconst getIMDBData = async (id) => {\n  if (!id) {\n    return null;\n  }\n\n  let resp;\n\n  try {\n    resp = await axios.get(`https://fast-refuge-34363.herokuapp.com/www.imdb.com/title/${id}/awards`);\n  } catch (error) {\n    console.log(error);\n    return;\n  }\n\n  const $ = cheerio.load(resp.data);\n\n  const oscarWins = $(\"h3:contains('Oscar [Winner]')\").parent().next().text();\n  const oscarNoms = $(\"h3:contains('Oscar [Nominee]')\").parent().next().text();\n\n  const BAFTAWins = $(\"h3:contains('BAFTA Film Award [Winner]')\").parent().next().text();\n  const BAFTANoms = $(\"h3:contains('BAFTA Film Award [Nominee]')\").parent().next().text();\n\n  const GoldGlobeWins = $(\"h3:contains('Golden Globe [Winner]')\").parent().next().text();\n  const GoldGlobeNoms = $(\"h3:contains('Golden Globe [Nominee]')\").parent().next().text();\n\n  return {\n    oscarWins: parseScrapedAwards(oscarWins),\n    oscarNoms: parseScrapedAwards(oscarNoms),\n    BAFTAWins: parseScrapedAwards(BAFTAWins),\n    BAFTANoms: parseScrapedAwards(BAFTANoms),\n    GoldGlobeWins: parseScrapedAwards(GoldGlobeWins),\n    GoldGlobeNoms: parseScrapedAwards(GoldGlobeNoms)\n  };\n}\n\nconst parseScrapedAwards = (string) => {\n  return string.replace(/ {2}/g, \"\").split(\"\\n\").filter((str) => str);\n}\n\nconst findKeyForTVShowInDatabase = (id) => {\n  const keys = Object.keys(store.state.tvLog);\n  const entries = keys.map((key) => {\n    return {\n      ...store.state.tvLog[key],\n      key\n    }\n  })\n\n  const entry = entries.find((entry) => entry.tvShow.id === id);\n\n  if (entry) {\n    return entry.key;\n  } else {\n    return false;\n  }\n}\n\nconst findKeyForMovieInDatabase = (id) => {\n  const keys = Object.keys(store.state.movieLog);\n  const movies = keys.map((key) => {\n    return {\n      ...store.state.movieLog[key],\n      key\n    }\n  })\n\n  const movie = movies.find((movie) => movie.movie.id === id);\n\n  if (movie) {\n    return movie.key;\n  } else {\n    return false;\n  }\n}\n\nconst createTVShowRatingFromEpisodeRatings = (ratings) => {\n  if (!ratings.episodes || ratings.episodes.length === 0) {\n    return {};\n  }\n\n  const keys = Object.keys(ratings.episodes[0]);\n  const keysToRemove = [\"date\", \"episode\", \"medium\", \"season\", \"tags\", \"title\", \"year\", \"tvShowId\"];\n  const filteredKeys = keys.filter((key) => !keysToRemove.includes(key));\n\n  const previousIndex = store.getters.allMediaSortedByRating.findIndex((tvShow) => {\n    return tvShow.tvShow.id === ratings.episodes[0].tvShowId;\n  });\n\n  const averages = {\n    date: new Date().getTime(),\n    tvShowId: ratings.episodes[0].tvShowId,\n    previousRanking: previousIndex + 1\n  };\n\n  filteredKeys.forEach((key) => {\n    const sum = ratings.episodes.reduce((total, rating) => total + parseFloat(rating[key]), 0);\n    const average = sum / ratings.episodes.length;\n    averages[key] = parseFloat(average.toPrecision(2));\n  });\n\n  return averages;\n};\n\nconst addTVShowRating = async (ratings, tvShowTags) => {\n  if (!ratings.episodes[0].tvShowId) {\n    return;\n  }\n\n  const tmdbData = await getTMDBData(ratings.episodes[0]);\n\n  let crew;\n  let cast;\n\n  if (tmdbData) {\n    crew = tmdbData.crew.map((person) => {\n      return {\n        job: person.job,\n        name: person.name\n      }\n    })\n\n    cast = tmdbData.cast.map((person) => {\n      return {\n        name: person.name\n      }\n    })\n  }\n\n  const tmdbDataWeStore = {\n    backdrop_path: tmdbData ? tmdbData.backdrop_path : null,\n    cast: tmdbData ? cast : [],\n    crew: tmdbData ? crew : [],\n    created_by: tmdbData ? tmdbData.created_by : [],\n    episode_run_time: tmdbData ? tmdbData.episode_run_time : [],\n    genres: tmdbData ? tmdbData.genres : [],\n    id: tmdbData ? tmdbData.id : null,\n    poster_path: tmdbData ? tmdbData.poster_path : null,\n    production_companies: tmdbData ? tmdbData.production_companies : [],\n    first_air_date: tmdbData ? tmdbData.first_air_date : null,\n    last_air_date: tmdbData ? tmdbData.last_air_date : null,\n    networks: tmdbData ? tmdbData.networks : [],\n    number_of_episodes: tmdbData ? tmdbData.number_of_episodes : null,\n    number_of_seasons: tmdbData ? tmdbData.number_of_seasons : null,\n    name: tmdbData ? tmdbData.name : \"\",\n    tags: tvShowTags || [],\n    keywords: tmdbData ? tmdbData.keywords.results : []\n  };\n\n  const ratingsWithShowRating = { ...ratings, tvShow: createTVShowRatingFromEpisodeRatings(ratings) };\n\n  const tvShowWithRatings = {\n    tvShow: tmdbDataWeStore,\n    ratings: ratingsWithShowRating\n  };\n\n  const safeName = tmdbDataWeStore.name.replaceAll(/[-!$%@^&*()_+|~=`{}[\\]:\";'<>?,./]/g, \"-\");\n  const key = findKeyForTVShowInDatabase(ratings.episodes[0].tvShowId) || `${new Date().getTime()}-${crypto.randomUUID()}-${safeName}`;\n\n  return {\n    path: `tvLog/${key}`,\n    value: tvShowWithRatings\n  }\n}\n\nconst addMovieRating = async (ratings, movieTags) => {\n  if (!ratings[0].id) {\n    return;\n  }\n\n  const tmdbData = await getTMDBData(ratings[0]);\n  const imdbData = await getIMDBData(tmdbData.imdb_id);\n\n  let crew;\n  let cast;\n\n  if (tmdbData) {\n    crew = tmdbData.crew.map((person) => {\n      return {\n        job: person.job,\n        name: person.name\n      }\n    })\n\n    cast = tmdbData.cast.map((person) => {\n      return {\n        name: person.name\n      }\n    })\n  }\n\n  const tmdbDataWeStore = {\n    backdrop_path: tmdbData ? tmdbData.backdrop_path : null,\n    cast: tmdbData ? cast : [],\n    crew: tmdbData ? crew : [],\n    genres: tmdbData ? tmdbData.genres : [],\n    id: tmdbData ? tmdbData.id : null,\n    imdb_id: tmdbData ? tmdbData.imdb_id : null,\n    ownership: ratings[0].ownership || null,\n    poster_path: tmdbData ? tmdbData.poster_path : null,\n    production_companies: tmdbData ? tmdbData.production_companies : [],\n    release_date: tmdbData ? tmdbData.release_date : null,\n    runtime: tmdbData ? tmdbData.runtime : null,\n    title: tmdbData ? tmdbData.title : \"\",\n    awards: imdbData || null,\n    tags: movieTags || [],\n    keywords: tmdbData ? tmdbData.keywords : []\n  };\n\n  const ratingsWithoutOwnership = ratings.map((rating) => {\n    const tempRating = { ...rating };\n\n    delete tempRating.ownership;\n\n    return tempRating;\n  })\n\n  const movieWithRating = {\n    movie: tmdbDataWeStore,\n    ratings: ratingsWithoutOwnership\n  };\n\n  const safeTitle = tmdbDataWeStore.title.replaceAll(/[-!$%@^&*()_+|~=`{}[\\]:\";'<>?,./]/g, \"-\");\n  const key = findKeyForMovieInDatabase(ratings[0].id) || `${new Date().getTime()}-${crypto.randomUUID()}-${safeTitle}`;\n\n  return {\n    path: `movieLog/${key}`,\n    value: movieWithRating\n  }\n}\n\nconst addRating = async (ratings, movieTags) => {\n  let dbEntry;\n\n  if (store.state.currentLog === \"tvLog\") {\n    dbEntry = await addTVShowRating(ratings, movieTags);\n  } else {\n    dbEntry = await addMovieRating(ratings, movieTags);\n  }\n\n  store.dispatch('setDBValue', dbEntry);\n  return dbEntry;\n}\n\nexport default addRating;","import { render } from \"./RateMovie.vue?vue&type=template&id=a2b40462\"\nimport script from \"./RateMovie.vue?vue&type=script&lang=js\"\nexport * from \"./RateMovie.vue?vue&type=script&lang=js\"\n\nimport \"./RateMovie.vue?vue&type=style&index=0&id=a2b40462&lang=scss\"\n\nimport exportComponent from \"/Users/mjg/code/movie-log/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<template>\n  <div class=\"rate-tv-show mx-auto\">\n    <div class=\"rate-tv-show-header\">\n      <div class=\"home-link\" @click=\"returnHome\">\n        <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"16\" height=\"16\" fill=\"currentColor\" class=\"bi bi-caret-left-fill\" viewBox=\"0 0 16 16\">\n          <path d=\"m3.86 8.753 5.482 4.796c.646.566 1.658.106 1.658-.753V3.204a1 1 0 0 0-1.659-.753l-5.48 4.796a1 1 0 0 0 0 1.506z\"/>\n        </svg>\n        <span>\n          Home\n        </span>\n      </div>\n      <img v-if=\"rateBannerUrl\" class=\"col-12\" :src=\"rateBannerUrl\">\n      <h1 class=\"text-light col-12 m-0 px-3 py-2\">Rate {{title}}</h1>\n    </div>\n    <div class=\"p-4\">\n      <div class=\"col-12 mb-4\">\n        <label class=\"form-label fs-4\" for=\"title\">Title</label>\n        <input class=\"form-control\" name=\"title\" type=\"text\" id=\"title\" v-model=\"title\">\n      </div>\n\n      <div class=\"season-and-episode d-flex justify-content-between\">\n        <div class=\"season col-4 my-4\">\n          <label class=\"form-label fs-4\" for=\"season\">Season</label>\n          <select class=\"form-select\" name=\"season\" id=\"season\" v-model=\"season\" @change=\"selectSeason\">\n            <option value=\"all_seasons\">All Seasons</option>\n            <option v-for=\"(season, index) in seasons\" :key=\"index\" :value=\"season\">{{season.name}}</option>\n          </select>\n        </div>\n        <div class=\"episode col-7 my-4\">\n          <label class=\"form-label fs-4\" for=\"episode\">Episode</label>\n          <select class=\"form-select\" name=\"episode\" id=\"episode\" v-model=\"episode\">\n            <option value=\"all_episodes\">All Episodes</option>\n            <option v-for=\"(episode, index) in episodes\" :key=\"index\" :value=\"episode\">{{episode.episode_number}} - {{episode.name}}</option>\n          </select>\n        </div>\n      </div>\n\n      <div class=\"date col-12 mb-4\">\n        <label class=\"form-label fs-4\" for=\"date\">Watch Date</label>\n        <input class=\"form-control\" name=\"date\" id=\"date\" type=\"date\" v-model=\"date\">\n      </div>\n\n      <div class=\"col-12 mt-4 mb-3 media-tags collapsed\" ref=\"mediaTagList\">\n        <div class=\"media-tags-toggle d-flex justify-content-between align-items-center\" @click=\"toggleTVShowTagList\">\n          <label class=\"form-label\">Tags for the show itself\n            <span v-if=\"selectedTVShowTagNames.length\">({{ selectedTVShowTagNames.length }})</span>\n          </label>\n          <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"16\" height=\"16\" fill=\"currentColor\" class=\"bi bi-caret-right\" viewBox=\"0 0 16 16\">\n            <path d=\"M6 12.796V3.204L11.481 8 6 12.796zm.659.753 5.48-4.796a1 1 0 0 0 0-1.506L6.66 2.451C6.011 1.885 5 2.345 5 3.204v9.592a1 1 0 0 0 1.659.753z\"/>\n          </svg>\n        </div>\n        <div class=\"media-tags-content\">\n          <div class=\"tag-list d-flex flex-wrap\">\n            <div v-for=\"(tag, index) in mediaTags\" :key=\"index\" class='form-check mx-2 mb-2'>\n              <input class='form-check-input' :checked=\"mediaTagChecked(tag)\" type='checkbox' :id=\"`tag-${index}`\" @click=\"toggleMediaTag(tag)\">\n              <label class=\"form-check-label\" :for=\"`tag-${index}`\">\n                {{tag.title}}\n              </label>\n            </div>\n          </div>\n\n          <div class=\"input-group\">\n            <input type=\"text\" class=\"form-control\" placeholder=\"new tag\" v-model=\"newMediaTagTitle\" @keyup.enter.prevent>\n            <button class=\"btn btn-dark\" type=\"button\" @click.prevent=\"addMediaTag\">\n              add\n            </button>\n          </div>\n        </div>\n      </div>\n\n      <hr>\n\n      <div class=\"col-12 my-5\">\n        <label class=\"form-label fs-4 mb-0\" for=\"direction\">Direction</label>\n        <p class=\"fs-6 fst-italic\">Rate the {{episodeSeasonOrShow}}'s directing and editing.</p>\n        <select class=\"form-select\" name=\"direction\" id=\"direction\" v-model=\"direction\">\n          <option value=\"\"></option>\n          <option value=\"0\">\n            0 - Worst in class\n          </option>\n          <option value=\"1\">\n            1 - Among the worst in class\n          </option>\n          <option value=\"2\">\n            2 - Terrible\n          </option>\n          <option value=\"3\">\n            3 - Really Bad\n          </option>\n          <option value=\"4\">\n            4 - Bad\n          </option>\n          <option value=\"5\">\n            5 - Average\n          </option>\n          <option value=\"6\">\n            6 - Good\n          </option>\n          <option value=\"7\">\n            7 - Great\n          </option>\n          <option value=\"8\">\n            8 - Incredible\n          </option>\n          <option value=\"9\">\n            9 - Among the best in class\n          </option>\n          <option value=\"10\">\n            10 - Best in class\n          </option>\n        </select>\n      </div>\n\n      <div class=\"col-12 my-5\">\n        <label class=\"form-label fs-4 mb-0\" for=\"imagery\">Imagery</label>\n        <p class=\"fs-6 fst-italic\">\n          Rate the {{episodeSeasonOrShow}}'s cinematography, visual effects, production design,costume design, and/or animation.\n        </p>\n        <select class=\"form-select\" name=\"imagery\" id=\"imagery\" v-model=\"imagery\">\n          <option value=\"\"></option>\n          <option value=\"0\">\n            0 - Worst in class\n          </option>\n          <option value=\"1\">\n            1 - Among the worst in class\n          </option>\n          <option value=\"2\">\n            2 - Terrible\n          </option>\n          <option value=\"3\">\n            3 - Really Bad\n          </option>\n          <option value=\"4\">\n            4 - Bad\n          </option>\n          <option value=\"5\">\n            5 - Average\n          </option>\n          <option value=\"6\">\n            6 - Good\n          </option>\n          <option value=\"7\">\n            7 - Great\n          </option>\n          <option value=\"8\">\n            8 - Incredible\n          </option>\n          <option value=\"9\">\n            9 - Among the best in class\n          </option>\n          <option value=\"10\">\n            10 - Best in class\n          </option>\n        </select>\n      </div>\n\n      <div class=\"col-12 my-5\">\n        <label class=\"form-label fs-4 mb-0\" for=\"story\">Story</label>\n        <p class=\"fs-6 fst-italic\">\n          Rate the {{episodeSeasonOrShow}}'s story and screenplay.\n        </p>\n        <select class=\"form-select\" name=\"story\" id=\"story\" v-model=\"story\">\n          <option value=\"\"></option>\n          <option value=\"0\">\n            0 - Worst in class\n          </option>\n          <option value=\"1\">\n            1 - Among the worst in class\n          </option>\n          <option value=\"2\">\n            2 - Terrible\n          </option>\n          <option value=\"3\">\n            3 - Really Bad\n          </option>\n          <option value=\"4\">\n            4 - Bad\n          </option>\n          <option value=\"5\">\n            5 - Average\n          </option>\n          <option value=\"6\">\n            6 - Good\n          </option>\n          <option value=\"7\">\n            7 - Great\n          </option>\n          <option value=\"8\">\n            8 - Incredible\n          </option>\n          <option value=\"9\">\n            9 - Among the best in class\n          </option>\n          <option value=\"10\">\n            10 - Best in class\n          </option>\n        </select>\n      </div>\n\n      <div class=\"col-12 my-5\">\n        <label class=\"form-label fs-4 mb-0\" for=\"performance\">Performance</label>\n        <p class=\"fs-6 fst-italic\">\n          Rate the performances in the {{episodeSeasonOrShow}}. In the case of documentaries, rate the interest of the subject matter.\n        </p>\n        <select class=\"form-select\" name=\"performance\" id=\"performance\" v-model=\"performance\">\n          <option value=\"\"></option>\n          <option value=\"0\">\n            0 - Worst in class\n          </option>\n          <option value=\"1\">\n            1 - Among the worst in class\n          </option>\n          <option value=\"2\">\n            2 - Terrible\n          </option>\n          <option value=\"3\">\n            3 - Really Bad\n          </option>\n          <option value=\"4\">\n            4 - Bad\n          </option>\n          <option value=\"5\">\n            5 - Average\n          </option>\n          <option value=\"6\">\n            6 - Good\n          </option>\n          <option value=\"7\">\n            7 - Great\n          </option>\n          <option value=\"8\">\n            8 - Incredible\n          </option>\n          <option value=\"9\">\n            9 - Among the best in class\n          </option>\n          <option value=\"10\">\n            10 - Best in class\n          </option>\n        </select>\n      </div>\n\n      <div class=\"col-12 my-5\">\n        <label class=\"form-label fs-4 mb-0\" for=\"soundtrack\">Soundtrack</label>\n        <p class=\"fs-6 fst-italic\">\n          Rate the {{episodeSeasonOrShow}}'s score, songs, and sound design.\n        </p>\n        <select class=\"form-select\" name=\"soundtrack\" id=\"soundtrack\" v-model=\"soundtrack\">\n          <option value=\"\"></option>\n          <option value=\"0\">\n            0 - Worst in class\n          </option>\n          <option value=\"1\">\n            1 - Among the worst in class\n          </option>\n          <option value=\"2\">\n            2 - Terrible\n          </option>\n          <option value=\"3\">\n            3 - Really Bad\n          </option>\n          <option value=\"4\">\n            4 - Bad\n          </option>\n          <option value=\"5\">\n            5 - Average\n          </option>\n          <option value=\"6\">\n            6 - Good\n          </option>\n          <option value=\"7\">\n            7 - Great\n          </option>\n          <option value=\"8\">\n            8 - Incredible\n          </option>\n          <option value=\"9\">\n            9 - Among the best in class\n          </option>\n          <option value=\"10\">\n            10 - Best in class\n          </option>\n        </select>\n      </div>\n\n      <div class=\"col-12 my-5\">\n        <label class=\"form-label fs-4 mb-0\" for=\"impression\">Impression</label>\n        <p class=\"fs-6 fst-italic\">\n          Give your sense of the {{episodeSeasonOrShow}}'s longevity or impact.\n        </p>\n        <select class=\"form-select\" name=\"impression\" id=\"impression\" v-model=\"impression\">\n          <option value=\"\"></option>\n          <option value=\"0\">\n            0 - None\n          </option>\n          <option value=\"1\">\n            1 - Will be remembered\n          </option>\n          <option value=\"2\">\n            2 - Will be referenced\n          </option>\n          <option value=\"3\">\n            3 - Influenced me\n          </option>\n          <option value=\"4\">\n            4 - Important to me\n          </option>\n          <option value=\"5\">\n            5 - Central to my life\n          </option>\n        </select>\n      </div>\n\n      <div class=\"col-12 my-5\">\n        <label class=\"form-label fs-4 mb-0\" for=\"love\">Love</label>\n        <p class=\"fs-6 fst-italic\">\n          The intangible quality of a {{episodeSeasonOrShow}} that seems to speak to you specifically.\n        </p>\n        <select class=\"form-select\" name=\"love\" id=\"love\" v-model=\"love\">\n          <option value=\"\"></option>\n          <option value=\"0\">\n            -5 - The worst ever\n          </option>\n          <option value=\"1\">\n            -4 - One of the worst ever\n          </option>\n          <option value=\"2\">\n            -3 - I hated it\n          </option>\n          <option value=\"3\">\n            -2 - I really didn't like it\n          </option>\n          <option value=\"4\">\n            -1 - I didn't like it\n          </option>\n          <option value=\"5\">\n            0 - No love\n          </option>\n          <option value=\"6\">\n            1 - I liked it\n          </option>\n          <option value=\"7\">\n            2 - I really liked it\n          </option>\n          <option value=\"8\">\n            3 - A genre favorite\n          </option>\n          <option value=\"9\">\n            4 - An overall favorite\n          </option>\n          <option value=\"10\">\n            5 - My favorite\n          </option>\n        </select>\n      </div>\n\n      <div class=\"col-12 my-5\">\n        <label class=\"form-label fs-4 mb-0\" for=\"overall\">Overall</label>\n        <p class=\"fs-6 fst-italic\">\n          Gut sense of the {{episodeSeasonOrShow}}'s overall rating.\n        </p>\n        <select class=\"form-select\" name=\"overall\" id=\"overall\" v-model=\"overall\">\n          <option value=\"\"></option>\n          <option value=\"0\">\n            0 - Worst in class\n          </option>\n          <option value=\"1\">\n            1 - Among the worst in class\n          </option>\n          <option value=\"2\">\n            2 - Terrible\n          </option>\n          <option value=\"3\">\n            3 - Really Bad\n          </option>\n          <option value=\"4\">\n            4 - Bad\n          </option>\n          <option value=\"5\">\n            5 - Average\n          </option>\n          <option value=\"6\">\n            6 - Good\n          </option>\n          <option value=\"7\">\n            7 - Great\n          </option>\n          <option value=\"8\">\n            8 - Incredible\n          </option>\n          <option value=\"9\">\n            9 - Among the best in class\n          </option>\n          <option value=\"10\">\n            10 - Best in class\n          </option>\n        </select>\n      </div>\n\n      <hr>\n\n      <p class=\"rating col-12 my-3 d-flex justify-content-center align-items-center\" id=\"rating\">\n        Rating: {{rating}}\n        <span class=\"mx-3 d-flex justify-content-center align-items-center\">|</span>\n        #{{indexIfSortedIntoArray(tvShowAsRatedOnPage, allTVShowsRanked) + 1}}/{{numberOfTVShowsAfterRating}}\n        <span class=\"mx-3 d-flex justify-content-center align-items-center\">|</span>\n        #{{indexIfSortedIntoArray(tvShowAsRatedOnPage, tvShowsRankedFromYear) + 1}} in {{tvShowYear(this.tvShowToRate)}}\n      </p>\n\n      <hr>\n\n      <div class=\"col-12 my-5 viewing-tags\">\n        <label class=\"form-label\">Tags for this viewing</label>\n        <div class=\"tag-list d-flex flex-wrap\">\n          <div v-for=\"(tag, index) in viewingTags\" :key=\"index\" class='form-check mx-2 mb-2'>\n            <input class='form-check-input' type='checkbox' :id=\"`tag-${index}`\" @click=\"toggleViewingTag(tag)\">\n            <label class=\"form-check-label\" :for=\"`tag-${index}`\">\n              {{tag.title}}\n            </label>\n          </div>\n        </div>\n\n        <div class=\"input-group\">\n          <input type=\"text\" class=\"form-control\" placeholder=\"new tag\" v-model=\"newViewingTagTitle\" @keyup.enter.prevent>\n          <button class=\"btn btn-dark\" type=\"button\" @click.prevent=\"addViewingTag\">\n            add\n          </button>\n        </div>\n      </div>\n\n      <hr>\n\n      <button\n        class=\"submit-button btn btn-primary col-12 mt-5\"\n        @click.prevent=\"addRating\"\n        type=\"submit\"\n        value=\"Submit\"\n        :disabled=\"loading\"\n      >\n        <span v-if=\"!loading\">Rate {{episodeSeasonOrShow}}</span>\n        <span v-if=\"loading\" class=\"disabled-show spinner-border spinner-border-sm mx-2\" role=\"status\" aria-hidden=\"true\"></span>\n        <span v-if=\"loading\" class=\"disabled-show \">Submiting...</span>\n      </button>\n    </div>\n  </div>\n</template>\n\n<script>\nimport axios from 'axios';\nimport addRating from \"../assets/javascript/AddRating.js\";\n\nexport default {\n  data () {\n    return {\n      date: new Date().toISOString().substr(0, 10),\n      direction: null,\n      tvShowId: null,\n      imagery: null,\n      impression: null,\n      loading: false,\n      love: null,\n      medium: \"\",\n      newViewingTagTitle: null,\n      newMediaTagTitle: null,\n      overall: null,\n      performance: null,\n      soundtrack: null,\n      story: null,\n      selectedViewingTags: [],\n      selectedMediaTags: [],\n      title: null,\n      year: null,\n      season: \"all_seasons\",\n      seasons: [],\n      episode: \"all_episodes\",\n      episodes: []\n    }\n  },\n  async mounted () {\n    this.$store.commit(\"setShowHeader\", false);\n    this.title = this.tvShowToRate.name;\n    this.year = new Date(this.tvShowToRate.first_air_date).getFullYear();\n    this.tvShowId = this.tvShowToRate.id;\n\n    const seasons = await axios.get(`https://api.themoviedb.org/3/tv/${this.tvShowId}?api_key=${process.env.VUE_APP_TMDB_API_KEY}&language=en-US`);\n    this.seasons = seasons.data.seasons;\n\n    this.selectedMediaTags = this.previousEntry ? this.previousEntry.tvShow.tags || [] : [];\n  },\n  beforeRouteLeave () {\n    this.$store.commit(\"setShowHeader\", true);\n  },\n  computed: {\n    currentLogIsTVLog () {\n      return this.$store.state.currentLog === \"tvLog\";\n    },\n    database () {\n      return this.$store.state.tvLog;\n    },\n    tvShowToRate () {\n      return this.$store.state.tvShowToRate;\n    },\n    settings () {\n      return this.$store.state.settings;\n    },\n    rating () {\n      const direction = this.getRatingFor(\"direction\") >= 0 ? this.getRatingFor(\"direction\") : 5;\n      const imagery = this.getRatingFor(\"imagery\") >= 0 ? this.getRatingFor(\"imagery\") : 5;\n      const story = this.getRatingFor(\"story\") >= 0 ? this.getRatingFor(\"story\") : 5;\n      const performance = this.getRatingFor(\"performance\") >= 0 ? this.getRatingFor(\"performance\") : 5;\n      const soundtrack = this.getRatingFor(\"soundtrack\") >= 0 ? this.getRatingFor(\"soundtrack\") : 5;\n      const impression = this.getRatingFor(\"impression\") >= 0 ? this.getRatingFor(\"impression\") : 0;\n      const love = this.getRatingFor(\"love\") >= 0 ? this.getRatingFor(\"love\") : 5;\n      const overall = this.getRatingFor(\"overall\") >= 0 ? this.getRatingFor(\"overall\") : 5;\n\n      const total = direction + imagery + story + performance + soundtrack + impression + love + overall;\n\n      return parseFloat(total / 10).toFixed(2);\n    },\n    tvShowAsRatedOnPage () {\n      return {\n        ...this.tvShowToRate,\n        ratings: [{ rating: this.rating }]\n      };\n    },\n    episodeSeasonOrShow () {\n      if (this.season === \"all_seasons\") {\n        return \"show\";\n      } else if (this.episode === \"all_episodes\") {\n        return \"season\";\n      } else {\n        return \"episode\";\n      }\n    },\n    numberOfTVShowsAfterRating () {\n      if (this.previousEntry) {\n        return this.$store.getters.allTVShowsAsArray.length;\n      } else {\n        return this.$store.getters.allTVShowsAsArray.length + 1;\n      }\n    },\n    allTVShowsRanked () {\n      const tvShows = [...this.$store.getters.allTVShowsAsArray];\n      return tvShows.sort(this.sortByRating);\n    },\n    tvShowsRankedFromYear () {\n      const tvShowsFromYear = this.$store.getters.allTVShowsAsArray.filter((tvShow) => {\n        return this.tvShowYear(tvShow.tvShow) === this.tvShowYear(this.tvShowToRate);\n      })\n\n      return tvShowsFromYear.sort(this.sortByRating);\n    },\n    previousEntry () {\n      return this.$store.getters.allTVShowsAsArray.find((entry) => {\n        return entry.tvShow.id === this.tvShowId;\n      })\n    },\n    viewingTags () {\n      if (!this.settings || !this.settings.tags) {\n        return [];\n      }\n\n      return this.settings.tags[\"viewing-tags\"];\n    },\n    mediaTags () {\n      if (!this.settings || !this.settings.tags) {\n        return [];\n      }\n\n      return this.settings.tags[\"media-tags\"];\n    },\n    rateBannerUrl () {\n      if (this.tvShowToRate) {\n        return `https://image.tmdb.org/t/p/original${this.tvShowToRate.backdrop_path}`;\n      } else {\n        return false;\n      }\n    },\n    databaseTopKey () {\n      return this.$store.state.databaseTopKey;\n    },\n    selectedViewingTagNames () {\n      return this.selectedViewingTags.map((tag) => tag.title);\n    },\n    selectedTVShowTagNames () {\n      return this.selectedMediaTags.map((tag) => tag.title);\n    }\n  },\n  methods: {\n    tvShowYear (tvShow) {\n      return new Date(tvShow.release_date).getFullYear();\n    },\n    previouslyRated (id) {\n      const ids = Object.keys(this.database).map((key) => this.database[key].tvShow.id);\n\n      return ids.includes(id);\n    },\n    mostRecentRating (tvShow) {\n      return tvShow.ratings.tvShow;\n    },\n    sortByRating (a, b) {\n      const aRating = this.mostRecentRating(a)?.rating;\n      const bRating = this.mostRecentRating(b)?.rating;\n\n      if (aRating < bRating) {\n        return 1;\n      }\n      if (aRating > bRating) {\n        return -1;\n      }\n\n      return 0;\n    },\n    getWeight (weightName) {\n      const weightObj = this.settings?.weights?.find((weight) => {\n        return weight.name === weightName;\n      });\n\n      return weightObj ? weightObj.weight : 0;\n    },\n    getScore (scoreName) {\n      const lowerCase = scoreName.toLowerCase();\n      const property = this[lowerCase];\n\n      return parseFloat(property);\n    },\n    getRatingFor (category) {\n      if (!category || !this.getWeight(category) || !this.getScore(category)) {\n        return;\n      }\n\n      return this.getWeight(category) * this.getScore(category);\n    },\n    indexIfSortedIntoArray (tvShow, array) {\n      const arr = [...array];\n      arr.push(tvShow);\n\n      arr.sort(this.sortByRating);\n\n      return arr.indexOf(tvShow);\n    },\n    async addViewingTag () {\n      if (!this.settings.tags || !this.settings.tags[\"viewing-tags\"]) {\n        return;\n      }\n\n      const viewingTagsArray = Object.keys(this.settings.tags[\"viewing-tags\"]).map((key) => this.settings.tags[\"viewing-tags\"][key]);\n\n      if (!viewingTagsArray.find((tag) => tag.title === this.newViewingTagTitle)) {\n        const dbKey = `${new Date().getTime()}-${crypto.randomUUID()}`;\n\n        const dbEntry = {\n          path: `settings/tags/viewing-tags/${dbKey}`,\n          value: { title: this.newViewingTagTitle }\n        }\n\n        this.$store.dispatch('setDBValue', dbEntry);\n      }\n\n      this.newViewingTagTitle = null;\n    },\n    async addMediaTag () {\n      if (!this.settings.tags || !this.settings.tags[\"media-tags\"]) {\n        return;\n      }\n\n      const mediaTagsArray = Object.keys(this.settings.tags[\"media-tags\"]).map((key) => this.settings.tags[\"media-tags\"][key]);\n\n      if (!mediaTagsArray.find((tag) => tag.title === this.newMediaTagTitle)) {\n        const dbKey = `${new Date().getTime()}-${crypto.randomUUID()}`;\n\n        const dbEntry = {\n          path: `settings/tags/movie-tags/${dbKey}`,\n          value: { title: this.newMediaTagTitle }\n        }\n\n        this.$store.dispatch('setDBValue', dbEntry);\n      }\n\n      this.newMediaTagTitle = null;\n    },\n    toggleViewingTag (tag) {\n      if (this.viewingTagChecked(tag)) {\n        this.selectedViewingTags.splice(this.selectedViewingTags.indexOf(tag), 1);\n      } else {\n        this.selectedViewingTags.push(tag);\n      }\n    },\n    toggleMediaTag (tag) {\n      if (this.mediaTagChecked(tag)) {\n        this.selectedMediaTags.splice(this.selectedMediaTags.indexOf(tag), 1);\n      } else {\n        this.selectedMediaTags.push(tag);\n      }\n    },\n    previouslyRatedEpisode (episodes, episode) {\n      return episodes.findIndex((oldEpisode) => {\n        return oldEpisode?.episode?.id === episode?.id;\n      })\n    },\n    async addRating () {\n      this.loading = true;\n\n      let ratings = {};\n\n      if (this.previousEntry?.ratings) {\n        ratings = { ...this.previousEntry.ratings };\n      }\n\n      const rating = {\n        date: this.date ? this.date : new Date().getTime(),\n        direction: this.direction ? this.direction : 5,\n        tvShowId: this.tvShowId,\n        imagery: this.imagery ? this.imagery : 5,\n        impression: this.impression ? this.impression : 0,\n        love: this.love ? this.love : 5,\n        medium: this.medium ? this.medium : \"Other\",\n        overall: this.overall ? this.overall : 5,\n        performance: this.performance ? this.performance : 5,\n        rating: this.rating,\n        soundtrack: this.soundtrack ? this.soundtrack : 5,\n        story: this.story ? this.story : 5,\n        tags: this.selectedViewingTags,\n        title: this.title,\n        year: this.year,\n        season: this.season,\n        episode: this.episode\n      };\n\n      if (!ratings.episodes) {\n        ratings.episodes = [];\n      }\n\n      if (this.season === \"all_seasons\") {\n        for (const season of this.seasons) {\n          const episodes = await axios.get(`https://api.themoviedb.org/3/tv/${this.tvShowId}/season/${season.season_number}?api_key=${process.env.VUE_APP_TMDB_API_KEY}&language=en-US`);\n\n          for (const episode of episodes.data.episodes) {\n            const loopRating = { ...rating, season: season, episode: episode };\n\n            if (this.previouslyRatedEpisode(ratings.episodes, loopRating.episode) > -1) {\n              ratings.episodes.splice(this.previouslyRatedEpisode(ratings.episodes, loopRating.episode), 1, loopRating);\n            } else {\n              ratings.episodes.push(loopRating);\n            }\n          }\n        }\n      } else if (this.episode === \"all_episodes\") {\n        const episodes = await axios.get(`https://api.themoviedb.org/3/tv/${this.tvShowId}/season/${this.season.season_number}?api_key=${process.env.VUE_APP_TMDB_API_KEY}&language=en-US`);\n\n        for (const episode of episodes.data.episodes) {\n          const loopRating = { ...rating, episode: episode };\n\n          if (this.previouslyRatedEpisode(ratings.episodes, loopRating.episode) > -1) {\n            ratings.episodes.splice(this.previouslyRatedEpisode(ratings.episodes, loopRating.episode), 1, loopRating);\n          } else {\n            ratings.episodes.push(loopRating);\n          }\n        }\n      } else if (this.previouslyRatedEpisode(ratings.episodes, rating.episode) > -1) {\n        ratings.episodes.splice(this.previouslyRatedEpisode(ratings.episodes, rating.episode), 1, rating);\n      } else {\n        ratings.episodes.push(rating);\n      }\n\n      if (this.previouslyRatedEpisode(ratings.episodes, rating.episode) > -1) {\n        ratings.episodes.splice(this.previouslyRatedEpisode(ratings.episodes, rating.episode), 1, rating);\n      } else {\n        ratings.episodes.push(rating);\n      }\n\n      const dbEntry = await addRating(ratings, this.selectedMediaTags);\n\n      this.$store.dispatch(\"addToRecentlyRatedTVShows\", dbEntry.value.tvShow);\n\n      const routeAfterRating = this.settings?.routeAfterRating?.value;\n\n      window.scroll({\n        top: top,\n        behavior: 'smooth'\n      })\n\n      this.$store.commit(\"setShowHeader\", true);\n\n      if (routeAfterRating === \"recentlyViewed\") {\n        this.$store.commit(\"setDBSortValue\", \"watched\");\n        this.$router.push(\"/db-search\");\n      } else if (routeAfterRating === \"allRatings\") {\n        this.$store.commit(\"setDBSortValue\", \"rating\");\n        this.$router.push(\"/db-search\");\n      } else if (routeAfterRating === \"sameYear\") {\n        this.$store.commit(\"setDBSearchValue\", `y:${rating.year}`);\n        this.$store.commit(\"setDBSortValue\", \"rating\");\n        this.$router.push(\"/db-search\");\n      } else {\n        this.$router.push(\"/\");\n      }\n    },\n    returnHome () {\n      this.$store.commit(\"setShowHeader\", true);\n      this.$router.push(\"/\");\n    },\n    viewingTagChecked (tag) {\n      if (!this.selectedViewingTagNames) {\n        return false;\n      }\n\n      return this.selectedViewingTagNames.includes(tag.title);\n    },\n    mediaTagChecked (tag) {\n      if (!this.selectedTVShowTagNames) {\n        return false;\n      }\n\n      return this.selectedTVShowTagNames.includes(tag.title);\n    },\n    toggleTVShowTagList () {\n      this.$refs.mediaTagList.classList.toggle(\"collapsed\");\n    },\n    async selectSeason () {\n      if (this.season === \"all_seasons\") {\n        this.episodes = [];\n      } else {\n        const episodes = await axios.get(`https://api.themoviedb.org/3/tv/${this.tvShowId}/season/${this.season.season_number}?api_key=${process.env.VUE_APP_TMDB_API_KEY}&language=en-US`);\n        this.episodes = episodes.data.episodes;\n      }\n    }\n  },\n}\n</script>\n\n<style lang=\"scss\">\n  .rate-tv-show {\n    max-width: 832px;\n\n    .rate-tv-show-header {\n      position: relative;\n\n      .home-link {\n        align-items: center;\n        background: rgba(0, 0, 0, 0.5);\n        border-radius: 4px;\n        color: white;\n        cursor: pointer;\n        display: flex;\n        font-size: 1rem;\n        left: 0;\n        margin: 6px;\n        padding: 2px 8px;\n        position: absolute;\n        text-decoration: none;\n        top: 0;\n      }\n\n      h1 {\n        background-color: #000000a3;\n        bottom: 0;\n        position: absolute;\n      }\n    }\n\n    .media-tags {\n      .media-tags-toggle {\n        align-items: center;\n        cursor: pointer;\n        display: flex;\n        justify-content: space-between;\n        margin-bottom: 0.5rem;\n\n        label {\n          cursor: pointer;\n          line-height: 16px;\n          margin: 0;\n        }\n\n        svg {\n          transform: rotate(90deg);\n          transition: all 0.3s ease;\n        }\n      }\n\n      .media-tags-content {\n        max-height: 500px;\n        overflow: hidden;\n        transition: all 0.3s ease;\n      }\n\n      &.collapsed {\n        .media-tags-toggle {\n          svg {\n            transform: rotate(0deg);\n          }\n        }\n\n        .media-tags-content {\n          max-height: 0;\n        }\n      }\n    }\n\n    .submit-button {\n      margin-bottom: 25vh;\n\n      &[disabled] {\n        .disabled-show {\n          display: inline-block;\n        }\n      }\n\n      .disabled-show {\n        display: none;\n      }\n    }\n\n    .previous-ratings {\n      .accordion-button {\n        background-color: white;\n        color: black;\n\n        &:focus {\n          box-shadow: none;\n        }\n      }\n\n      table {\n        th {\n          span {\n            display: inline-block;\n            font-size: 0.6rem;\n            transform: rotate(60deg);\n          }\n        }\n\n        td {\n          font-size: 0.6rem;\n        }\n      }\n    }\n  }\n\n  .bg-dark {\n    .rate-tv-show {\n      color: white;\n    }\n  }\n</style>","import { render } from \"./RateTVShow.vue?vue&type=template&id=09599660\"\nimport script from \"./RateTVShow.vue?vue&type=script&lang=js\"\nexport * from \"./RateTVShow.vue?vue&type=script&lang=js\"\n\nimport \"./RateTVShow.vue?vue&type=style&index=0&id=09599660&lang=scss\"\n\nimport exportComponent from \"/Users/mjg/code/movie-log/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<template>\n  <div class=\"share-db-results\">\n    <div class=\"share-header\">\n      <img v-if=\"shareBannerUrl\" class=\"col-12\" :src=\"shareBannerUrl\">\n      <h1 class=\"text-light col-12 m-0 px-3 py-2\">Movie Log</h1>\n    </div>\n    <div v-if=\"shareObject\" class=\"terms d-flex justify-content-between align-items-center p-3\">\n      <div>\n        <span class=\"badge rounded-pill text-bg-dark mx-2\">{{shareObject.value}}</span>\n        <span class=\"badge rounded-pill text-bg-dark mx-2\">{{shareObject.sortValue}}</span>\n        <span class=\"badge rounded-pill text-bg-dark mx-2\">{{shareObject.sortOrder}}</span>\n      </div>\n      <button\n        class=\"keyword-style-toggle btn btn-sm btn-dark\"\n        type=\"button\"\n        @click=\"gridView = !gridView\"\n      >\n        <span v-if=\"!gridView\">\n          <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"16\" height=\"16\" fill=\"currentColor\" class=\"bi bi-columns-gap\" viewBox=\"0 0 16 16\">\n            <path d=\"M6 1v3H1V1zM1 0a1 1 0 0 0-1 1v3a1 1 0 0 0 1 1h5a1 1 0 0 0 1-1V1a1 1 0 0 0-1-1zm14 12v3h-5v-3zm-5-1a1 1 0 0 0-1 1v3a1 1 0 0 0 1 1h5a1 1 0 0 0 1-1v-3a1 1 0 0 0-1-1zM6 8v7H1V8zM1 7a1 1 0 0 0-1 1v7a1 1 0 0 0 1 1h5a1 1 0 0 0 1-1V8a1 1 0 0 0-1-1zm14-6v7h-5V1zm-5-1a1 1 0 0 0-1 1v7a1 1 0 0 0 1 1h5a1 1 0 0 0 1-1V1a1 1 0 0 0-1-1z\"/>\n          </svg>\n        </span>\n        <span v-else>\n          <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"16\" height=\"16\" fill=\"currentColor\" class=\"bi bi-card-list\" viewBox=\"0 0 16 16\">\n            <path d=\"M14.5 3a.5.5 0 0 1 .5.5v9a.5.5 0 0 1-.5.5h-13a.5.5 0 0 1-.5-.5v-9a.5.5 0 0 1 .5-.5zm-13-1A1.5 1.5 0 0 0 0 3.5v9A1.5 1.5 0 0 0 1.5 14h13a1.5 1.5 0 0 0 1.5-1.5v-9A1.5 1.5 0 0 0 14.5 2z\"/>\n            <path d=\"M5 8a.5.5 0 0 1 .5-.5h7a.5.5 0 0 1 0 1h-7A.5.5 0 0 1 5 8m0-2.5a.5.5 0 0 1 .5-.5h7a.5.5 0 0 1 0 1h-7a.5.5 0 0 1-.5-.5m0 5a.5.5 0 0 1 .5-.5h7a.5.5 0 0 1 0 1h-7a.5.5 0 0 1-.5-.5m-1-5a.5.5 0 1 1-1 0 .5.5 0 0 1 1 0M4 8a.5.5 0 1 1-1 0 .5.5 0 0 1 1 0m0 2.5a.5.5 0 1 1-1 0 .5.5 0 0 1 1 0\"/>\n          </svg>\n        </span>\n      </button>\n    </div>\n    <div class=\"poster-grid\" v-if=\"gridView\">\n      <div\n        v-for=\"(result, index) in filteredResults\"\n        :key=\"index\"\n        class=\"poster-frame-wrapper\"\n      >\n        <a\n          class=\"poster-grid-item\"\n          :href=\"`https://www.google.com/search?q=${result.movie.title} movie`\"\n          target=\"_blank\"\n        >\n          <img\n            v-if=\"result.movie.poster_path\"\n            class=\"poster-grid-item-image\"\n            :src=\"`https://image.tmdb.org/t/p/w500${result.movie.poster_path}`\"\n            :alt=\"result.movie.title\"\n          >\n          <div class=\"poster-grid-item-rating-ribbon\">\n            <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"16\" height=\"16\" fill=\"currentColor\" class=\"bi bi-award-fill\" viewBox=\"0 0 16 16\">\n              <path d=\"m8 0 1.669.864 1.858.282.842 1.68 1.337 1.32L13.4 6l.306 1.854-1.337 1.32-.842 1.68-1.858.282L8 12l-1.669-.864-1.858-.282-.842-1.68-1.337-1.32L2.6 6l-.306-1.854 1.337-1.32.842-1.68L6.331.864 8 0z\"/>\n              <path d=\"M4 11.794V16l4-1 4 1v-4.206l-2.018.306L8 13.126 6.018 12.1 4 11.794z\"/>\n            </svg>\n            <p class=\"poster-grid-item-rating\">{{Math.round(parseFloat(mostRecentRating(result).rating))}}</p>\n          </div>\n        </a>\n      </div>\n    </div>\n    <table\n      v-if=\"!gridView\"\n      class=\"table table-hover table-striped\"\n      :class=\"useDark ? 'table-dark' : 'table-light'\"\n    >\n      <thead>\n        <tr>\n          <th scope=\"col-1\">#</th>\n          <th scope=\"col-4\">Title</th>\n          <th scope=\"col-4\">Release</th>\n          <th scope=\"col-2\">Rating</th>\n        </tr>\n      </thead>\n      <tbody>\n        <tr v-for=\"(result, index) in filteredResults\" :key=\"index\">\n          <th class=\"col-1\" scope=\"row\">{{index + 1}}</th>\n          <td class=\"col-4\">{{result.movie.title}}</td>\n          <td class=\"col-4\">{{result.movie.release_date}}</td>\n          <td class=\"col-2\">{{parseFloat(mostRecentRating(result).rating).toFixed(2)}}</td>\n        </tr>\n      </tbody>\n    </table>\n    <button\n      v-if=\"showMoreButton\"\n      class=\"btn btn-secondary mb-5 mx-3 float-end\"\n      @click=\"addMoreResults\"\n    >\n      More...\n    </button>\n  </div>\n</template>\n\n<script>\nimport { getDatabase, ref, child, get } from \"firebase/database\";\nimport { useDark } from \"@vueuse/core\";\n\nexport default {\n  data () {\n    return {\n      shareObject: {},\n      numberOfResultsToShow: 50,\n      useDark: useDark(),\n      gridView: true\n    }\n  },\n  async mounted () {\n    this.$store.commit(\"setShowHeader\", false);\n\n    const userDBKey = this.$route.params.userDBKey;\n    const shareKey = this.$route.params.shareKey;\n\n    const shareObject = await get(child(ref(getDatabase()), `${userDBKey}/sharedDBSearches/${shareKey}`));\n    if (shareObject.exists()) {\n      this.shareObject = shareObject.val();\n    } else {\n      console.error('No share data');\n    }\n  },\n  beforeRouteLeave () {\n    this.$store.commit(\"setShowHeader\", true);\n  },\n  computed: {\n    shareBannerUrl () {\n      if (this.shareObject.results) {\n        return `https://image.tmdb.org/t/p/original${this.shareObject.results[0].movie.backdrop_path}`;\n      } else {\n        return false;\n      }\n    },\n    filteredResults () {\n      if (!this.shareObject.results) {\n        return [];\n      }\n\n      const filteredResults = this.shareObject.results.filter((result) => result.ratings[0]?.rating);\n\n      return filteredResults.slice(0, this.numberOfResultsToShow);\n    },\n    showMoreButton () {\n      if (!this.shareObject.results) {\n        return false;\n      }\n\n      return this.shareObject.results.length > this.numberOfResultsToShow;\n    }\n  },\n  methods: {\n    mostRecentRating (movie) {\n      let mostRecentRating = movie.ratings[0];\n\n      movie.ratings.forEach((rating) => {\n        if (!mostRecentRating.date) {\n          mostRecentRating = rating;\n        } else if (rating.date && rating.date > mostRecentRating.date) {\n          mostRecentRating = rating;\n        }\n      })\n\n      return mostRecentRating;\n    },\n    addMoreResults () {\n      this.numberOfResultsToShow = this.numberOfResultsToShow + 50;\n\n      this.$nextTick(() => {\n        window.scrollBy({\n          top: 500,\n          behavior: 'smooth'\n        })\n      });\n    }\n  },\n}\n</script>\n\n<style lang=\"scss\">\n  .share-db-results {\n    background-color: #3c3c3c;\n\n    .share-header {\n      position: relative;\n\n      h1 {\n        background-color: #000000a3;\n        bottom: 0;\n        position: absolute;\n      }\n    }\n\n    .poster-grid {\n      display: grid;\n      grid-auto-flow: dense;\n      grid-template-columns: repeat(4, 1fr);\n      margin-bottom: 48px;\n\n      .poster-frame-wrapper {\n        padding: 4px;\n\n        &:nth-child(-n+1) {\n          grid-column: 1/3;\n          grid-row: 1/3;\n        }\n\n        .poster-grid-item {\n          background: #fff;\n          border: 4px solid #000;\n          display: block;\n          padding: 3px;\n          position: relative;\n\n          .poster-grid-item-image {\n            width: 100%;\n          }\n\n          .poster-grid-item-rating-ribbon {\n            align-items: center;\n            bottom: 5px;\n            display: flex;\n            justify-content: center;\n            position: absolute;\n            right: 1px;\n            z-index: 1;\n\n            svg {\n              height: 30px;\n              width: 30px;\n\n              path {\n                fill: #0064f6;\n                stroke-width: 0.5px;\n                stroke: #fff;\n              }\n            }\n\n            .poster-grid-item-rating {\n              color: #fff;\n              font-size: .6rem;\n              margin-bottom: 0;\n              position: absolute;\n              top: 5px;\n            }\n          }\n        }\n      }\n    }\n  }\n</style>","import { render } from \"./ShareDBResults.vue?vue&type=template&id=28a2fb09\"\nimport script from \"./ShareDBResults.vue?vue&type=script&lang=js\"\nexport * from \"./ShareDBResults.vue?vue&type=script&lang=js\"\n\nimport \"./ShareDBResults.vue?vue&type=style&index=0&id=28a2fb09&lang=scss\"\n\nimport exportComponent from \"/Users/mjg/code/movie-log/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { createApp } from \"vue\";\nimport App from \"./App.vue\";\nimport store from \"./store\";\nimport { createRouter, createWebHashHistory } from 'vue-router';\nimport vue3GoogleLogin from 'vue3-google-login';\nimport VueClickAway from \"vue3-click-away\";\nimport * as Sentry from \"@sentry/vue\";\nimport { BrowserTracing } from \"@sentry/tracing\";\nimport VueLazyLoad from 'vue3-lazyload';\nimport \"bootstrap/dist/css/bootstrap.min.css\";\nimport \"bootstrap\";\nimport Home from \"./components/Home.vue\";\nimport Login from \"./components/Login.vue\";\nimport DBSearchResults from \"./components/DBSearchResults.vue\";\nimport Settings from \"./components/Settings.vue\";\nimport PickMedia from \"./components/PickMedia.vue\";\nimport RateMovie from \"./components/RateMovie.vue\";\nimport RateTVShow from \"./components/RateTVShow.vue\";\nimport ShareDBResults from \"./components/ShareDBResults.vue\";\n\nconst app = createApp(App);\n\napp.use(store);\n\napp.use(vue3GoogleLogin, {\n  clientId: '495603923646-j49hr3l4m6l9grbvrnp7fr652hon2um3.apps.googleusercontent.com'\n});\n\napp.use(VueClickAway);\n\napp.use(VueLazyLoad, {});\n\n// Router\nconst loggedIn = () => {\n  const currentLogFromLocalStorage = window.localStorage.getItem('movieLogCurrentLog');\n\n  if (currentLogFromLocalStorage) {\n    store.commit('setCurrentLog', currentLogFromLocalStorage);\n  }\n\n  const databaseTopKeyFromLocalStorage = window.localStorage.getItem('databaseTopKey');\n\n  if (store.getters.databaseTopKey) {\n    store.dispatch('initializeDB');\n    return true;\n  } else if (databaseTopKeyFromLocalStorage) {\n    store.commit('setDatabaseTopKey', databaseTopKeyFromLocalStorage);\n    store.dispatch('initializeDB');\n    return true;\n  } else {\n    return false;\n  }\n}\n\nconst routes = [\n  {\n    path: '/',\n    component: Home,\n    meta: {\n      requiresLogin: true\n    },\n    beforeEnter: (to, from, next) => {\n      store.commit('setGoHome', false);\n\n      if (!loggedIn()) {\n        next('/login');\n      } else {\n        next();\n      }\n    }\n  },\n  {\n    path: '/login',\n    component: Login,\n    meta: {\n      requiresLogin: false\n    },\n  },\n  {\n    name: 'Settings',\n    path: '/settings',\n    component: Settings,\n    meta: {\n      requiresLogin: true\n    },\n    beforeEnter: (to, from, next) => {\n      if (!loggedIn()) {\n        next('/login');\n      } else {\n        next();\n      }\n    }\n  },\n  {\n    path: '/db-search',\n    component: DBSearchResults,\n    meta: {\n      requiresLogin: true\n    },\n    beforeEnter: (to, from, next) => {\n      if (!loggedIn()) {\n        next('/login');\n      } else {\n        next();\n      }\n    }\n  },\n  {\n    path: '/rate-movie',\n    component: RateMovie,\n    meta: {\n      requiresLogin: true\n    },\n    beforeEnter: (to, from, next) => {\n      if (!loggedIn()) {\n        next('/login');\n      } else {\n        next();\n      }\n    }\n  },\n  {\n    path: '/rate-tv-show',\n    component: RateTVShow,\n    meta: {\n      requiresLogin: true\n    },\n    beforeEnter: (to, from, next) => {\n      if (!loggedIn()) {\n        next('/login');\n      } else {\n        next();\n      }\n    }\n  },\n  {\n    path: '/pick-media/:newEntrySearchResults',\n    component: PickMedia,\n    meta: {\n      requiresLogin: true\n    },\n    beforeEnter: (to, from, next) => {\n      if (!loggedIn()) {\n        next('/login');\n      } else {\n        next();\n      }\n    }\n  },\n  {\n    path: '/share/:userDBKey/:shareKey',\n    component: ShareDBResults,\n    meta: {\n      requiresLogin: false\n    }\n  },\n]\n\nconst router = createRouter({\n  history: createWebHashHistory(),\n  routes\n})\n\napp.use(router);\n\n// Sentry\n\nconst allowDevSentry = false;\n\nif (allowDevSentry || process.env.NODE_ENV !== \"development\") {\n  Sentry.init({\n    app,\n    dsn: \"https://25a3dc0387f04fd5923f226394a41e7d@o4504483013525504.ingest.sentry.io/4504642713944064\",\n    integrations: [\n      new BrowserTracing({\n        tracePropagationTargets: [\"localhost\", \"surge\", /^\\//],\n      }),\n    ],\n    tracesSampleRate: 1.0,\n    sampleRate: 1.0,\n    maxValueLength: 8000\n  });\n}\n\napp.mount(\"#app\");\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\tid: moduleId,\n\t\tloaded: false,\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Flag the module as loaded\n\tmodule.loaded = true;\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n// expose the modules object (__webpack_modules__)\n__webpack_require__.m = __webpack_modules__;\n\n","var deferred = [];\n__webpack_require__.O = function(result, chunkIds, fn, priority) {\n\tif(chunkIds) {\n\t\tpriority = priority || 0;\n\t\tfor(var i = deferred.length; i > 0 && deferred[i - 1][2] > priority; i--) deferred[i] = deferred[i - 1];\n\t\tdeferred[i] = [chunkIds, fn, priority];\n\t\treturn;\n\t}\n\tvar notFulfilled = Infinity;\n\tfor (var i = 0; i < deferred.length; i++) {\n\t\tvar chunkIds = deferred[i][0];\n\t\tvar fn = deferred[i][1];\n\t\tvar priority = deferred[i][2];\n\t\tvar fulfilled = true;\n\t\tfor (var j = 0; j < chunkIds.length; j++) {\n\t\t\tif ((priority & 1 === 0 || notFulfilled >= priority) && Object.keys(__webpack_require__.O).every(function(key) { return __webpack_require__.O[key](chunkIds[j]); })) {\n\t\t\t\tchunkIds.splice(j--, 1);\n\t\t\t} else {\n\t\t\t\tfulfilled = false;\n\t\t\t\tif(priority < notFulfilled) notFulfilled = priority;\n\t\t\t}\n\t\t}\n\t\tif(fulfilled) {\n\t\t\tdeferred.splice(i--, 1)\n\t\t\tvar r = fn();\n\t\t\tif (r !== undefined) result = r;\n\t\t}\n\t}\n\treturn result;\n};","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = function(module) {\n\tvar getter = module && module.__esModule ?\n\t\tfunction() { return module['default']; } :\n\t\tfunction() { return module; };\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = function(exports, definition) {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.g = (function() {\n\tif (typeof globalThis === 'object') return globalThis;\n\ttry {\n\t\treturn this || new Function('return this')();\n\t} catch (e) {\n\t\tif (typeof window === 'object') return window;\n\t}\n})();","__webpack_require__.hmd = function(module) {\n\tmodule = Object.create(module);\n\tif (!module.children) module.children = [];\n\tObject.defineProperty(module, 'exports', {\n\t\tenumerable: true,\n\t\tset: function() {\n\t\t\tthrow new Error('ES Modules may not assign module.exports or exports.*, Use ESM export syntax, instead: ' + module.id);\n\t\t}\n\t});\n\treturn module;\n};","__webpack_require__.o = function(obj, prop) { return Object.prototype.hasOwnProperty.call(obj, prop); }","// define __esModule on exports\n__webpack_require__.r = function(exports) {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","__webpack_require__.nmd = function(module) {\n\tmodule.paths = [];\n\tif (!module.children) module.children = [];\n\treturn module;\n};","__webpack_require__.p = \"/\";","// no baseURI\n\n// object to store loaded and loading chunks\n// undefined = chunk not loaded, null = chunk preloaded/prefetched\n// [resolve, reject, Promise] = chunk loading, 0 = chunk loaded\nvar installedChunks = {\n\t143: 0\n};\n\n// no chunk on demand loading\n\n// no prefetching\n\n// no preloaded\n\n// no HMR\n\n// no HMR manifest\n\n__webpack_require__.O.j = function(chunkId) { return installedChunks[chunkId] === 0; };\n\n// install a JSONP callback for chunk loading\nvar webpackJsonpCallback = function(parentChunkLoadingFunction, data) {\n\tvar chunkIds = data[0];\n\tvar moreModules = data[1];\n\tvar runtime = data[2];\n\t// add \"moreModules\" to the modules object,\n\t// then flag all \"chunkIds\" as loaded and fire callback\n\tvar moduleId, chunkId, i = 0;\n\tif(chunkIds.some(function(id) { return installedChunks[id] !== 0; })) {\n\t\tfor(moduleId in moreModules) {\n\t\t\tif(__webpack_require__.o(moreModules, moduleId)) {\n\t\t\t\t__webpack_require__.m[moduleId] = moreModules[moduleId];\n\t\t\t}\n\t\t}\n\t\tif(runtime) var result = runtime(__webpack_require__);\n\t}\n\tif(parentChunkLoadingFunction) parentChunkLoadingFunction(data);\n\tfor(;i < chunkIds.length; i++) {\n\t\tchunkId = chunkIds[i];\n\t\tif(__webpack_require__.o(installedChunks, chunkId) && installedChunks[chunkId]) {\n\t\t\tinstalledChunks[chunkId][0]();\n\t\t}\n\t\tinstalledChunks[chunkId] = 0;\n\t}\n\treturn __webpack_require__.O(result);\n}\n\nvar chunkLoadingGlobal = self[\"webpackChunkmovie_log\"] = self[\"webpackChunkmovie_log\"] || [];\nchunkLoadingGlobal.forEach(webpackJsonpCallback.bind(null, 0));\nchunkLoadingGlobal.push = webpackJsonpCallback.bind(null, chunkLoadingGlobal.push.bind(chunkLoadingGlobal));","// startup\n// Load entry module and return exports\n// This entry module depends on other loaded chunks and execution need to be delayed\nvar __webpack_exports__ = __webpack_require__.O(undefined, [998], function() { return __webpack_require__(5235); })\n__webpack_exports__ = __webpack_require__.O(__webpack_exports__);\n"],"names":["class","_createElementBlock","_hoisted_1","_createVNode","_component_Header","_component_router_view","_component_Footer","_createElementVNode","Date","getFullYear","_hoisted_2","__exports__","xmlns","fill","viewBox","d","_hoisted_4","_ctx","state","showHeader","$options","_Fragment","image","index","src","key","_hoisted_3","onClick","data","showSettings","computed","currentLogIsTVLog","this","$store","currentLog","allPostersRanked","media","getters","allMediaAsArray","sort","sortByRating","map","topStructure","poster_path","postersForHeader","length","randomBanner","slice","posterCount","devMode","methods","toggleSettings","$el","querySelector","classList","toggle","$router","currentRoute","value","name","push","mostRecentRating","ratings","tvShow","forEach","rating","date","a","b","aRating","bRating","rand","Math","floor","random","backdrop_path","async","commit","result","movie","components","Footer","Header","render","sortByVoteCount","vote_count","ratingDate","getTime","mostRecentRatingDate","sortValueA","sortValueB","removeNaNAndUndefined","obj","Object","prototype","hasOwnProperty","call","Number","isNaN","undefined","Sentry","JSON","stringify","firebaseConfig","databaseURL","initializeApp","db","getDatabase","createStore","movieLog","tvLog","settings","googleLogin","databaseTopKey","newEntrySearchResults","movieToRate","tvShowToRate","DBSearchValue","DBSearchType","DBSortValue","DBSortOrder","goHome","devModeTopKey","keys","dbKey","allMoviesAsArray","allTVShowsAsArray","allMediaSortedByRating","mutations","setCurrentLog","setMovieLog","freeze","setTVLog","setSettings","setGoogleLogin","setDatabaseTopKey","replaceAll","setNewEntrySearchResults","results","sorted","setMovieToRate","setTVShowToRate","setDBSearchValue","setDBSearchType","setDBSortValue","setDBSortOrder","setShowHeader","setGoHome","actions","context","resp","parse","window","localStorage","getItem","userData","decodeCredential","credential","email","dispatch","setItem","movieLogHasData","Boolean","onValue","ref","snapshot","val","tvLogHasData","settingsHasData","newDB","tags","title","weights","weight","set","dbEntry","cleanedDBEntry","path","then","console","log","catch","error","addToRecentlyRatedTVShows","recentlyRatedTVShows","find","show","id","findIndex","splice","unshift","toggleCurrentLog","modules","_component_NewRatingSearch","_component_SearchDatabase","_component_QuickSearch","type","onSubmit","target","method","$data","placeholder","disabled","_hoisted_5","alt","_component_RatingChangeRibbon","width","height","positive","negative","neutral","props","required","rankChange","entryWithRatings","previousRanking","currentRanking","RatingChangeRibbon","movieOrTV","axios","newEntrySearch","showNoResultsMessage","$refs","noResults","add","setTimeout","remove","reRate","dBSearch","_hoisted_11","_hoisted_14","_hoisted_17","_hoisted_20","_hoisted_23","_hoisted_27","_hoisted_30","_hoisted_33","searchTerm","searchType","sortValue","sortOrder","_hoisted_6","_hoisted_7","_hoisted_8","_hoisted_9","_hoisted_10","_hoisted_13","_hoisted_16","_hoisted_19","_hoisted_22","_hoisted_25","_hoisted_26","_hoisted_29","_hoisted_32","currentYear","searchDatabase","config","NewRatingSearch","SearchDatabase","QuickSearch","_component_GoogleLogin","callback","prompt","selected","_hoisted_18","role","_hoisted_36","list","autocapitalize","_hoisted_15","_hoisted_21","_hoisted_24","_hoisted_28","_hoisted_31","_hoisted_35","_hoisted_38","_hoisted_39","_component_Charts","countedKeywords","onUpdateSearchValue","_hoisted_40","_createBlock","_component_DBSearchResult","_component_KeywordCloud","$props","_component_LineChart","chartData","options","_component_BarChart","_component_DoughnutChart","_component_ScatterChart","_component_RadarChart","_component_Streaks","resultsWithRatings","for","min","max","step","startDate","toLocaleDateString","endDate","duration","titles","streakBreaker","Array","Function","streakThreshold","streaks","ratingsAndReleases","releaseDate","release_date","parseFloat","sortedByDate","sortBy","scratch","daysBetweenDates","longestStreakByDays","maxBy","streak","longestStreakByMovies","dateA","dateB","oneDay","firstDate","secondDate","round","abs","style","_component_vueWordCloud","words","color","rotation","spacing","_hoisted_12","keyword","default","VueWordCloud","showKeywordCloud","threseholdRange","keywordsForCloud","percentofMedia","keywords","filter","maxKeywordPercentage","handleKeywordClick","event","searchFor","innerText","term","updateSearchValue","scroll","top","behavior","searchObject","$emit","wordCLoudColors","word","brightness","document","contains","randomColor","luminosity","wordCloudRotation","Chart","registerables","String","BarChart","LineChart","DoughnutChart","ScatterChart","RadarChart","Streaks","KeywordCloud","allRatingsData","resultsByRating","labels","getMediaTitle","datasets","backgroundColor","allRatingsOptions","plugins","legend","display","text","scales","x","ratingsCountData","rounded","counts","number","countsWithLabels","label","count","borderColor","tension","ratingsCountOptions","genreChartData","genreArrays","genres","array","genre","genreChartOptions","lengthVsRatingData","runtime","episode_run_time","y","pointBorderColor","lengthVsRatingOptions","position","companyChartData","companyArrays","production_companies","company","total","companyChartOptions","subtitle","radarRatingsData","format","alpha","direction","imagery","story","performance","soundtrack","impression","love","overall","hue","pointBackgroundColor","pointHoverBackgroundColor","pointHoverBorderColor","radarRatingsOptions","elements","line","borderWidth","yearsData","yearsAndRatings","year","getYear","years","backgroundColors","percentToColor","mean","toFixed","yearsOptions","highestRatingEachYearData","highest","i","highestRatingEachYearOptions","first_air_date","percent","r","g","h","toString","created_by","person","crew","_hoisted_34","_hoisted_37","cast","_hoisted_41","_hoisted_42","_hoisted_43","_hoisted_44","_hoisted_45","_hoisted_46","_hoisted_47","_hoisted_48","_hoisted_49","_hoisted_51","_hoisted_52","awards","oscarWins","oscarNoms","_hoisted_54","_hoisted_55","_hoisted_58","_hoisted_59","includes","_component_EpisodeRatingsChart","_hoisted_60","_hoisted_61","_hoisted_62","_hoisted_63","medium","_hoisted_66","_hoisted_67","_hoisted_68","loading","seasonsAndEpisodes","getSeasonsAndEpisodes","episodes","season","seasonNumber","episodeCount","ratingKey","episode","season_number","episode_number","episodeRatingsData","radius","episodeRatingsOptions","seasons","seasonName","seasonId","episode_count","openEpisodes","EpisodeRatingsChart","showInfo","getElementById","open","wikiLinkFor","wiki","pages","query","pagesArray","page","bestMatch","minBy","pageid","tvNetwork","networkName","networks","prettifyRuntime","minutes","turnArrayIntoList","arr","el","join","getCrewMember","strict","matches","job","names","match","getOrdinal","ordinal","rateTVShow","formattedDate","Charts","DBSearchResult","popperInstance","numberOfResultsToShow","sharing","watch","newVal","updateUrl","mounted","$route","search","decodeURIComponent","beforeRouteLeave","movieOrTVShow","allEntriesWithFlatKeywordsAdded","flatKeywords","filteredResults","bestMovieFromEachYear","titleFilter","keywordFilter","genreFilter","yearFilter","directorFilter","castCrewFilter","toLowerCase","parsedYears","parseInt","split","castCrewCombined","sortedResults","sortResults","sortedByRating","reverse","paginatedSortedResults","datalistForSearchType","allTitles","allKeywords","allGenres","allYears","allDirectors","allCastCrew","titleCase","directors","director","castCrew","replace","chartsAccordion","toggleSortOrder","averageRating","ratedMovies","reduce","togglePopper","popper","hasAttribute","removeAttribute","setAttribute","update","onClickAway","popperWrapper","addMoreResults","$nextTick","scrollBy","shareObject","crypto","randomUUID","queryValue","encodeURIComponent","string","txt","charAt","toUpperCase","substr","tag","$event","onKeyup","route","routeAfterRating","newViewingTagTitle","newMovieTagTitle","devModeSwitched","setRouteAfterRating","settingsRouteAfterRating","viewingTags","movieTags","totalWeight","toPrecision","calculateShare","share","viewingTagsArray","movieTagsArray","showRemoveButton","all","from","querySelectorAll","notTarget","tagIndex","toggleEdit","parentElement","clickSave","click","previousElementSibling","payload","meta","requiresLogin","removeItem","toggleMovieTV","_imports_0","align","searchResults","rateMedia","getTitle","getReleaseDate","truncate","_hoisted_83","_hoisted_99","_hoisted_115","_hoisted_131","_hoisted_142","_hoisted_158","checked","_hoisted_50","_hoisted_64","_hoisted_65","_hoisted_80","_hoisted_81","_hoisted_82","_hoisted_96","_hoisted_97","_hoisted_98","_hoisted_112","_hoisted_113","_hoisted_114","_hoisted_128","_hoisted_129","_hoisted_130","_hoisted_139","_hoisted_140","_hoisted_141","_hoisted_155","_hoisted_156","_hoisted_157","_hoisted_171","_hoisted_172","_hoisted_175","_hoisted_176","_hoisted_177","_hoisted_178","_hoisted_181","_hoisted_182","_hoisted_185","_hoisted_186","_hoisted_187","_hoisted_188","_hoisted_189","_hoisted_190","_hoisted_193","_hoisted_194","_hoisted_197","_hoisted_199","_hoisted_200","_hoisted_201","_hoisted_202","_hoisted_203","_hoisted_204","_hoisted_205","_hoisted_206","_hoisted_207","_hoisted_208","_hoisted_209","_hoisted_210","getTMDBData","apiKey","process","tvShowId","dataResp","creditsResp","keywordsResp","store","getIMDBData","$","cheerio","parent","next","BAFTAWins","BAFTANoms","GoldGlobeWins","GoldGlobeNoms","parseScrapedAwards","str","findKeyForTVShowInDatabase","entries","entry","findKeyForMovieInDatabase","movies","createTVShowRatingFromEpisodeRatings","keysToRemove","filteredKeys","previousIndex","averages","sum","average","addTVShowRating","tvShowTags","tmdbData","tmdbDataWeStore","last_air_date","number_of_episodes","number_of_seasons","ratingsWithShowRating","tvShowWithRatings","safeName","addMovieRating","imdbData","imdb_id","ownership","ratingsWithoutOwnership","tempRating","movieWithRating","safeTitle","addRating","toISOString","selectedViewingTags","selectedMovieTags","previousEntry","database","getRatingFor","movieAsRatedOnPage","numberOfMoviesAfterRating","allMoviesRanked","moviesRankedFromYear","moviesFromYear","movieYear","rateBannerUrl","selectedViewingTagNames","selectedMovieTagNames","previouslyRated","ids","getWeight","weightName","weightObj","getScore","scoreName","lowerCase","property","category","indexIfSortedIntoArray","indexOf","toggleViewingTag","viewingTagChecked","toggleMovieTag","movieTagChecked","returnHome","toggleMovieTagList","movieTagList","_hoisted_126","onChange","_hoisted_123","_hoisted_124","_hoisted_125","_hoisted_159","_hoisted_160","_hoisted_161","_hoisted_162","_hoisted_165","_hoisted_166","_hoisted_169","_hoisted_170","newMediaTagTitle","selectedMediaTags","tvShowAsRatedOnPage","episodeSeasonOrShow","numberOfTVShowsAfterRating","allTVShowsRanked","tvShows","tvShowsRankedFromYear","tvShowsFromYear","tvShowYear","mediaTags","selectedTVShowTagNames","mediaTagsArray","toggleMediaTag","mediaTagChecked","previouslyRatedEpisode","oldEpisode","loopRating","toggleTVShowTagList","mediaTagList","scope","href","useDark","gridView","userDBKey","params","shareKey","get","child","exists","shareBannerUrl","showMoreButton","app","createApp","App","use","vue3GoogleLogin","clientId","VueClickAway","VueLazyLoad","loggedIn","currentLogFromLocalStorage","databaseTopKeyFromLocalStorage","routes","component","Home","beforeEnter","to","Login","Settings","DBSearchResults","RateMovie","RateTVShow","PickMedia","ShareDBResults","router","createRouter","history","createWebHashHistory","dsn","integrations","BrowserTracing","tracePropagationTargets","tracesSampleRate","sampleRate","maxValueLength","mount","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","exports","module","loaded","__webpack_modules__","m","deferred","O","chunkIds","fn","priority","notFulfilled","Infinity","fulfilled","j","every","n","getter","__esModule","definition","o","defineProperty","enumerable","globalThis","e","hmd","create","children","Error","prop","Symbol","toStringTag","nmd","paths","p","installedChunks","chunkId","webpackJsonpCallback","parentChunkLoadingFunction","moreModules","some","chunkLoadingGlobal","self","bind","__webpack_exports__"],"sourceRoot":""}